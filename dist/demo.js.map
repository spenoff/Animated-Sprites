{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/animated_sprite_demo/AnimatedSpriteDemo.ts","src/wolfie2d/Game.ts","src/wolfie2d/files/ResourceManager.ts","src/wolfie2d/loop/GameLoopTemplate.ts","src/wolfie2d/math/MathUtilities.ts","src/wolfie2d/math/Matrix.ts","src/wolfie2d/math/Vector3.ts","src/wolfie2d/rendering/TextRenderer.ts","src/wolfie2d/rendering/WebGLGameBlueCircleRenderer.ts","src/wolfie2d/rendering/WebGLGameCircleRenderer.ts","src/wolfie2d/rendering/WebGLGameCyanCircleRenderer.ts","src/wolfie2d/rendering/WebGLGameGreenCircleRenderer.ts","src/wolfie2d/rendering/WebGLGameMagentaCircleRenderer.ts","src/wolfie2d/rendering/WebGLGameRedCircleRenderer.ts","src/wolfie2d/rendering/WebGLGameRenderingSystem.ts","src/wolfie2d/rendering/WebGLGameShader.ts","src/wolfie2d/rendering/WebGLGameSpriteRenderer.ts","src/wolfie2d/rendering/WebGLGameTexture.ts","src/wolfie2d/rendering/WebGLGameYellowCircleRenderer.ts","src/wolfie2d/scene/SceneGraph.ts","src/wolfie2d/scene/SceneObject.ts","src/wolfie2d/scene/circle/GradientCircle.ts","src/wolfie2d/scene/circle/GradientCircleType.ts","src/wolfie2d/scene/sprite/AnimatedSprite.ts","src/wolfie2d/scene/sprite/AnimatedSpriteType.ts","src/wolfie2d/ui/UIController.ts"],"names":[],"mappings":"AAAA;;;;;;;;ACAA;;;;;;AAMA,IAAA,SAAA,QAAA,kBAAA,CAAA;AAEA,IAAA,iBAAA,QAAA,oCAAA,CAAA;AAEA,IAAA,eAAA,QAAA,8BAAA,CAAA;AACA,IAAA,mBAAA,QAAA,yCAAA,CAAA;AAEA,IAAA,uBAAA,QAAA,6CAAA,CAAA;AACA,IAAA,mBAAA,QAAA,yCAAA,CAAA;AAGA;AACA;AACA,IAAM,oBAA+B,CACjC,8CADiC,EAEjC,iDAFiC,CAArC;AAIA,IAAM,qBAAqB;AACvB,mBAAe,SADQ;AAEvB,mBAAe;AAFQ,CAA3B;AAIA,IAAM,gBAA2B,CAC7B,kCAD6B,EAE7B,mCAF6B,CAAjC;;IAKM,kB;AACF,kCAAA;AAAA;AAAgB;AAEhB;;;;;;;;uCAIsB,I,EAAa,Q,EAAmB;AAClD,gBAAI,kBAA6C,KAAK,kBAAL,EAAjD;AACA,gBAAI,aAA0B,KAAK,aAAL,EAA9B;AACA,gBAAI,kBAAoC,KAAK,kBAAL,EAAxC;AACA,gBAAI,UAAU,IAAd;AAEA;AACA,4BAAgB,YAAhB,CAA6B,aAA7B,EAA4C,eAA5C,EAA6D,YAAA;AACzD;AACA,gCAAgB,eAAhB,CAAgC,iBAAhC,EAAmD,YAAA;AAC/C;AACA,4BAAQ,oBAAR,CAA6B,eAA7B,EAA8C,UAA9C;AAEA;AACA,4BAAQ,SAAR,CAAkB,IAAlB;AAEA;AACA;AACH,iBATD;AAUH,aAZD;AAaH;AAED;;;;;;;6CAI6B,e,EAAmC,K,EAAkB;AAC9E,gBAAI,cAA2C,SAAS,cAAT,CAAwB,aAAxB,EAAwC,KAAvF;AACA,gBAAI,eAA4C,SAAS,cAAT,CAAwB,aAAxB,EAAwC,MAAxF;AAEA;AACA,iBAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,kBAAkB,MAAtC,EAA8C,GAA9C,EAAmD;AAC/C,qBAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,CAApB,EAAuB,GAAvB,EAA4B;AACxB,wBAAI,kBAA2B,kBAAkB,CAAlB,CAA/B;AACA,wBAAI,qBAA0C,gBAAgB,yBAAhB,CAA0C,eAA1C,CAA9C;AACA,wBAAI,cAA+B,IAAI,iBAAA,cAAJ,CAAmB,kBAAnB,EAAuC,mBAAmB,aAA1D,EAAyE,aAAA,UAAA,CAAW,SAApF,CAAnC;AACA,iCAAA,UAAA,CAAW,SAAX;AACA,wBAAI,WAAmB,KAAK,KAAL,CAAW,KAAK,MAAL,KAAgB,WAA3B,IAA2C,mBAAmB,cAAnB,KAAoC,CAAtG;AACA,wBAAI,WAAmB,KAAK,KAAL,CAAW,KAAK,MAAL,KAAgB,YAA3B,IAA4C,mBAAmB,eAAnB,KAAqC,CAAxG;AACA,gCAAY,WAAZ,GAA0B,GAA1B,CAA8B,QAA9B,EAAuC,QAAvC,EAAgD,GAAhD,EAAqD,GAArD;AACA,0BAAM,iBAAN,CAAwB,WAAxB;AACH;AACJ;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAI,OAAO,IAAI,qBAAA,kBAAJ,CAAuB,CAAvB,EAA0B,CAA1B,CAAX;AACA,gBAAI,SAA0B,IAAI,iBAAA,cAAJ,CAAmB,IAAnB,EAAyB,KAAzB,EAAgC,aAAA,UAAA,CAAW,SAA3C,CAA9B;AACA,yBAAA,UAAA,CAAW,SAAX;AACA,gBAAI,UAAmB,KAAK,KAAL,CAAW,KAAK,MAAL,KAAgB,WAA3B,IAA0C,EAAjE;AACA,gBAAI,UAAmB,KAAK,KAAL,CAAW,KAAK,MAAL,KAAgB,YAA3B,IAA2C,EAAlE;AACA,mBAAO,WAAP,GAAqB,GAArB,CAAyB,OAAzB,EAAkC,OAAlC,EAA2C,GAA3C,EAAgD,GAAhD;AACA,kBAAM,iBAAN,CAAwB,MAAxB;AAEA,mBAAO,IAAI,qBAAA,kBAAJ,CAAuB,CAAvB,EAA0B,CAA1B,CAAP;AACA,qBAAS,IAAI,iBAAA,cAAJ,CAAmB,IAAnB,EAAyB,MAAzB,EAAiC,aAAA,UAAA,CAAW,SAA5C,CAAT;AACA,yBAAA,UAAA,CAAW,SAAX;AACA,sBAAU,KAAK,KAAL,CAAW,KAAK,MAAL,KAAgB,WAA3B,IAA0C,EAApD;AACA,sBAAU,KAAK,KAAL,CAAW,KAAK,MAAL,KAAgB,YAA3B,IAA2C,EAArD;AACA,mBAAO,WAAP,GAAqB,GAArB,CAAyB,OAAzB,EAAkC,OAAlC,EAA2C,GAA3C,EAAgD,GAAhD;AACA,kBAAM,iBAAN,CAAwB,MAAxB;AAEA,mBAAO,IAAI,qBAAA,kBAAJ,CAAuB,CAAvB,EAA0B,CAA1B,CAAP;AACA,qBAAS,IAAI,iBAAA,cAAJ,CAAmB,IAAnB,EAAyB,OAAzB,EAAkC,aAAA,UAAA,CAAW,SAA7C,CAAT;AACA,yBAAA,UAAA,CAAW,SAAX;AACA,sBAAU,KAAK,KAAL,CAAW,KAAK,MAAL,KAAgB,WAA3B,IAA0C,EAApD;AACA,sBAAU,KAAK,KAAL,CAAW,KAAK,MAAL,KAAgB,YAA3B,IAA2C,EAArD;AACA,mBAAO,WAAP,GAAqB,GAArB,CAAyB,OAAzB,EAAkC,OAAlC,EAA2C,GAA3C,EAAgD,GAAhD;AACA,kBAAM,iBAAN,CAAwB,MAAxB;AAEA,mBAAO,IAAI,qBAAA,kBAAJ,CAAuB,CAAvB,EAA0B,CAA1B,CAAP;AACA,qBAAS,IAAI,iBAAA,cAAJ,CAAmB,IAAnB,EAAyB,QAAzB,EAAmC,aAAA,UAAA,CAAW,SAA9C,CAAT;AACA,yBAAA,UAAA,CAAW,SAAX;AACA,sBAAU,KAAK,KAAL,CAAW,KAAK,MAAL,KAAgB,WAA3B,IAA0C,EAApD;AACA,sBAAU,KAAK,KAAL,CAAW,KAAK,MAAL,KAAgB,YAA3B,IAA2C,EAArD;AACA,mBAAO,WAAP,GAAqB,GAArB,CAAyB,OAAzB,EAAkC,OAAlC,EAA2C,GAA3C,EAAgD,GAAhD;AACA,kBAAM,iBAAN,CAAwB,MAAxB;AAEA,mBAAO,IAAI,qBAAA,kBAAJ,CAAuB,CAAvB,EAA0B,CAA1B,CAAP;AACA,qBAAS,IAAI,iBAAA,cAAJ,CAAmB,IAAnB,EAAyB,MAAzB,EAAiC,aAAA,UAAA,CAAW,SAA5C,CAAT;AACA,yBAAA,UAAA,CAAW,SAAX;AACA,sBAAU,KAAK,KAAL,CAAW,KAAK,MAAL,KAAgB,WAA3B,IAA0C,EAApD;AACA,sBAAU,KAAK,KAAL,CAAW,KAAK,MAAL,KAAgB,YAA3B,IAA2C,EAArD;AACA,mBAAO,WAAP,GAAqB,GAArB,CAAyB,OAAzB,EAAkC,OAAlC,EAA2C,GAA3C,EAAgD,GAAhD;AACA,kBAAM,iBAAN,CAAwB,MAAxB;AACH;AAED;;;;;;kCAGkB,I,EAAW;AACzB,gBAAI,aAA0B,KAAK,aAAL,EAA9B;AACA,gBAAI,iBAAiB,IAAI,eAAA,YAAJ,CAAiB,aAAjB,EAAgC,EAAhC,EAAoC,EAApC,EAAwC,EAAxC,EAA4C,YAAA;AAC7D,+BAAe,IAAf,GAAsB,wBAAwB,WAAW,aAAX,EAA9C;AACH,aAFoB,CAArB;AAGA,gBAAI,eAAe,KAAK,kBAAL,GAA0B,eAA1B,EAAnB;AACA,yBAAa,eAAb,CAA6B,cAA7B;AACH;;;;;AAGL;AACA;;;AACA,IAAI,OAAO,IAAI,OAAA,IAAJ,EAAX;AACA,KAAK,IAAL,CAAU,aAAV,EAAyB,aAAzB;AAEA;AACA,IAAI,OAAO,IAAI,kBAAJ,EAAX;AACA,KAAK,cAAL,CAAoB,IAApB,EAA0B,YAAA;AACtB;AACA,SAAK,KAAL;AACH,CAHD;;;;;;;;;;;;;;AC3JA;;;;;;AAMA,IAAA,qBAAA,QAAA,yBAAA,CAAA;AACA,IAAA,6BAAA,QAAA,sCAAA,CAAA;AACA,IAAA,eAAA,QAAA,oBAAA,CAAA;AAEA,IAAA,oBAAA,QAAA,yBAAA,CAAA;AACA,IAAA,iBAAA,QAAA,mBAAA,CAAA;;IAGa,I;;;AAMT,oBAAA;AAAA;;AAAA;;AALQ,cAAA,eAAA,GAAoC,IAAI,kBAAA,eAAJ,EAApC;AACA,cAAA,UAAA,GAA0B,IAAI,aAAA,UAAJ,EAA1B;AACA,cAAA,eAAA,GAA6C,IAAI,2BAAA,wBAAJ,EAA7C;AACA,cAAA,YAAA,GAA8B,IAAI,eAAA,YAAJ,EAA9B;AAER;AAEC;;;;6CAEwB;AACrB,mBAAO,KAAK,eAAZ;AACH;;;6CAEwB;AACrB,mBAAO,KAAK,eAAZ;AACH;;;wCAEmB;AAChB,mBAAO,KAAK,UAAZ;AACH;;;6BAEW,Y,EAAuB,Y,EAAqB;AACpD,iBAAK,eAAL,CAAqB,IAArB,CAA0B,YAA1B,EAAwC,YAAxC;AACA,iBAAK,YAAL,CAAkB,IAAlB,CAAuB,YAAvB,EAAqC,KAAK,UAA1C;AACH;;;gCAEW;AACT;AACF;;;8BAEa,C,EAAkB;AAC5B,gBAAG,EAAE,QAAF,MAAgB,KAAnB,EAAyB;AACrB,uBAAO,IAAP;AACH;AACD,mBAAO,KAAP;AACH;;;+BAEc,C,EAAkB;AAC7B,gBAAG,EAAE,QAAF,OAAiB,MAApB,EAA2B;AACvB,uBAAO,IAAP;AACH;AACD,mBAAO,KAAP;AACH;;;gCAEe,C,EAAkB;AAC9B,gBAAG,EAAE,QAAF,OAAiB,OAApB,EAA4B;AACxB,uBAAO,IAAP;AACH;AACD,mBAAO,KAAP;AACH;;;iCAEgB,C,EAAkB;AAC/B,gBAAG,EAAE,QAAF,OAAiB,QAApB,EAA6B;AACzB,uBAAO,IAAP;AACH;AACD,mBAAO,KAAP;AACH;;;+BAEc,C,EAAkB;AAC7B,gBAAG,EAAE,QAAF,OAAiB,MAApB,EAA2B;AACvB,uBAAO,IAAP;AACH;AACD,mBAAO,KAAP;AACH;;;kCAEiB,C,EAAkB;AAChC,gBAAG,EAAE,QAAF,OAAiB,SAApB,EAA8B;AAC1B,uBAAO,IAAP;AACH;AACD,mBAAO,KAAP;AACH;AAED;;;;;;;6BAIY,uB,EAAgC;AACxC;AACA,gBAAI,uBAAJ;AACA,6BAAwC,KAAK,UAAL,CAAgB,KAAhB,EAAxC;AACA,gBAAI,kBAAJ;AACA,wBAAmC,KAAK,UAAL,CAAgB,MAAhB,EAAnC;AACA,gBAAI,eAAJ;AACA,qBAAS,UAAU,MAAV,CAAiB,KAAK,KAAtB,CAAT;AAEA,gBAAI,gBAAJ;AACA,sBAAU,UAAU,MAAV,CAAiB,KAAK,MAAtB,CAAV;AAEA,gBAAI,iBAAJ;AACA,uBAAW,UAAU,MAAV,CAAiB,KAAK,OAAtB,CAAX;AAEA,gBAAI,kBAAJ;AACA,wBAAY,UAAU,MAAV,CAAiB,KAAK,QAAtB,CAAZ;AAEA,gBAAI,gBAAJ;AACA,sBAAU,UAAU,MAAV,CAAiB,KAAK,MAAtB,CAAV;AAEA,gBAAI,mBAAJ;AACA,yBAAa,UAAU,MAAV,CAAiB,KAAK,SAAtB,CAAb;AAGA;AACA,iBAAK,eAAL,CAAqB,MAArB,CAA4B,cAA5B,EAA4C,MAA5C,EAAoD,OAApD,EAA6D,QAA7D,EAAuE,OAAvE,EAAgF,SAAhF,EAA2F,UAA3F;AACH;AAED;;;;;;+BAGc,K,EAAc;AACxB,iBAAK,UAAL,CAAgB,MAAhB,CAAuB,KAAvB;AACC,gBAAI,SAAS,KAAK,YAAL,CAAkB,kBAAlB,EAAb;AACA,gBAAG,SAAS,CAAZ,EAAc;AACX,qBAAI,IAAI,IAAI,CAAZ,EAAe,IAAI,MAAnB,EAA2B,GAA3B,EAA+B;AAC3B,wBAAI,aAAa,KAAK,eAAL,CAAqB,sBAArB,CAA4C,KAAK,YAAL,CAAkB,OAAlB,EAA5C,EAAyE,KAAK,YAAL,CAAkB,OAAlB,EAAzE,CAAjB;AACA,yBAAK,UAAL,CAAgB,iBAAhB,CAAkC,UAAlC;AACA,wBAAI,iBAAwC,KAAK,UAAL,CAAgB,KAAhB,EAA5C;AACA,yBAAK,YAAL,CAAkB,kBAAlB;AAEH;AACD,qBAAK,eAAL,CAAqB,MAArB,CAA4B,cAA5B,EAA4C,EAA5C,EAAgD,EAAhD,EAAoD,EAApD,EAAwD,EAAxD,EAA4D,EAA5D,EAAgE,EAAhE;AACH;AACD,mBAAM,KAAK,YAAL,CAAkB,kBAAlB,GAAuC,MAAvC,GAAgD,CAAtD,EAAwD;AACpD,oBAAI,SAAS,KAAK,YAAL,CAAkB,kBAAlB,EAAb;AACA;AACA,qBAAK,UAAL,CAAgB,oBAAhB,CAAqC,MAArC;AACH;AAED,mBAAM,KAAK,YAAL,CAAkB,kBAAlB,GAAuC,MAAvC,GAAgD,CAAtD,EAAwD;AACpD,oBAAI,SAAS,KAAK,YAAL,CAAkB,kBAAlB,EAAb;AACA;AACA,qBAAK,UAAL,CAAgB,oBAAhB,CAAqC,MAArC;AACH;AACJ;AAID;;;;;;4BAGW,G,EAAc,K,EAAe;AACpC,gBAAI,KAAJ,EAAW;AACP,oBAAI,gBAAgB,KAAK,KAAL,CAAW,KAAK,eAAL,EAAX,CAApB;AACA,wBAAQ,IAAR,CAAa,gGAAgG,aAAhG,GAAgH,IAA7H;AACH;AACJ;;;;EAjJqB,mBAAA,gB;;AAA1B,QAAA,IAAA,GAAA,IAAA;;;;;;;;;;ACJA,IAAA,qBAAA,QAAA,+BAAA,CAAA;AACA,IAAA,mBAAA,QAAA,gCAAA,CAAA;AACA,IAAA,uBAAA,QAAA,oCAAA,CAAA;AACA,IAAA,eAAA,QAAA,qBAAA,CAAA;AAEA;AACA,IAAM,oBAA+B,CACjC,8CADiC,EAEjC,iDAFiC,CAArC;AAIA,IAAM,qBAAqB;AACvB,mBAAe,SADQ;AAEvB,mBAAe;AAFQ,CAA3B;AAIA,IAAM,gBAA2B,CAC7B,kCAD6B,EAE7B,mCAF6B,CAAjC;;IAKa,e;AAcT,+BAAA;AAAA;;AAAA;;AAZA;AACQ,aAAA,YAAA,GAAyC,IAAI,KAAJ,EAAzC;AACA,aAAA,cAAA,GAAqC,EAArC;AAIR;AACQ,aAAA,eAAA,GAA8C,IAAI,KAAJ,EAA9C;AACA,aAAA,iBAAA,GAAwC,EAAxC;AAyIR;;;;AAIQ,aAAA,kBAAA,GAAqB,UAAC,QAAD,EAA2C;AACpE,gBAAI,WAA4C,KAAK,KAAL,CAAW,QAAX,CAAhD;AACA,gBAAI,cAAc,SAAS,gBAA3B;AACA,gBAAI,YAAY,MAAK,cAAL,CAAoB,WAApB,CAAhB;AACA,gBAAI,UAA6B,MAAK,YAAL,CAAkB,SAAlB,CAAjC;AACA,gBAAI,cAAuB,SAAS,WAApC;AACA,gBAAI,eAAwB,SAAS,YAArC;AACA,gBAAI,qBAAqB,IAAI,qBAAA,kBAAJ,CAAuB,OAAvB,EAAgC,WAAhC,EAA6C,YAA7C,CAAzB;AACA,iBAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,SAAS,UAAT,CAAoB,MAAxC,EAAgD,GAAhD,EAAqD;AACjD,oBAAI,YAAgC,SAAS,UAAT,CAAoB,CAApB,CAApC;AACA,mCAAmB,YAAnB,CAAgC,UAAU,IAA1C;AACA,qBAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,UAAU,MAAV,CAAiB,MAArC,EAA6C,GAA7C,EAAkD;AAC9C,wBAAI,QAAQ,UAAU,MAAV,CAAiB,CAAjB,CAAZ;AACA,uCAAmB,iBAAnB,CAAqC,UAAU,IAA/C,EAAqD,MAAM,KAA3D,EAAkE,MAAM,QAAxE;AACH;AACJ;AACD,mBAAO,kBAAP;AACH,SAjBO;AAzIe;AAEvB;;;;;qDAEoC,S,EAAkB;AAClD,mBAAO,KAAK,eAAL,CAAqB,SAArB,CAAP;AACH;;;kDAEgC,M,EAAe;AAC5C,gBAAI,YAAqB,KAAK,iBAAL,CAAuB,MAAvB,CAAzB;AACA,mBAAO,KAAK,4BAAL,CAAkC,SAAlC,CAAP;AACH;AAED;;;;8CAC6B,M,EAAiB,U,EAA+B;AACzE,iBAAK,eAAL,CAAqB,MAArB,IAA+B,UAA/B;AACH;AAED;;;;;;;qCAIwB,Y,EACA,e,EACA,Q,EAAmB;AACvC;AACA,iBAAK,iBAAL,GAAyB,aAAa,MAAtC;AACA,iBAAK,iBAAL,GAAyB,CAAzB;AACA,gBAAI,sBAAsB,IAA1B;AACA,gBAAI,mBAAmB,KAAK,YAAL,CAAkB,MAAzC;;AALuC,uCAM9B,CAN8B;AAOnC,oBAAI,gBAAmC,IAAI,mBAAA,gBAAJ,EAAvC;AACA,oBAAI,YAAY,mBAAmB,CAAnC;AACA,oCAAoB,YAApB,CAAiC,SAAjC,IAA8C,aAA9C;AACA,oCAAoB,cAApB,CAAmC,aAAa,CAAb,CAAnC,IAAsD,SAAtD;AACA,oCAAoB,SAApB,CAA8B,aAAa,CAAb,CAA9B,EAA+C,SAA/C,EAA0D,UAAS,EAAT,EAAsB,KAAtB,EAA8C;AACpG,oCAAgB,gBAAhB,CAAiC,aAAjC,EAAgD,EAAhD,EAAoD,KAApD,EAA2D,YAAA;AACvD,4CAAoB,sBAApB,CAA2C,QAA3C;AACH,qBAFD;AAGH,iBAJD;AAXmC;;AAMvC,iBAAK,IAAI,IAAa,CAAtB,EAAyB,IAAI,KAAK,iBAAlC,EAAqD,GAArD,EAA0D;AAAA,sBAAjD,CAAiD;AAUzD;AACJ;AAED;;;;;;;wCAIuB,e,EACP,Q,EAAmB;AAC/B;AACA,iBAAK,oBAAL,GAA4B,gBAAgB,MAA5C;AACA,iBAAK,oBAAL,GAA4B,CAA5B;AACA,gBAAI,sBAAsB,IAA1B;AACA,gBAAI,sBAAsB,KAAK,eAAL,CAAqB,MAA/C;AACA,iBAAK,IAAI,IAAa,CAAtB,EAAyB,IAAI,KAAK,oBAAlC,EAAwD,GAAxD,EAA6D;AACzD,oBAAI,eAAe,sBAAsB,CAAzC;AACA,qBAAK,cAAL,CAAoB,gBAAgB,CAAhB,CAApB,EAAwC,YAAxC,EAAsD,YAAA;AAClD,wCAAoB,yBAApB,CAA8C,QAA9C;AACH,iBAFD;AAGH;AACJ;AAED;AAEA;;;;+CAC8B,I,EAAe,I,EAAa;AACtD,gBAAI,cAA2C,SAAS,cAAT,CAAwB,aAAxB,EAAwC,KAAvF;AACA,gBAAI,eAA4C,SAAS,cAAT,CAAwB,aAAxB,EAAwC,MAAxF;AAGA,gBAAI,kBAA2B,kBAAkB,CAAlB,CAA/B;AACA,gBAAI,qBAA0C,KAAK,yBAAL,CAA+B,eAA/B,CAA9C;AACA,gBAAI,cAA+B,IAAI,iBAAA,cAAJ,CAAmB,kBAAnB,EAAuC,mBAAmB,aAA1D,EAAyE,aAAA,UAAA,CAAW,SAApF,CAAnC;AACA,yBAAA,UAAA,CAAW,SAAX;AACA,gBAAI,OAAgB,OAAQ,mBAAmB,cAAnB,KAAoC,CAAhE;AACA,gBAAI,OAAgB,OAAQ,mBAAmB,eAAnB,KAAqC,CAAjE;AACA,wBAAY,WAAZ,GAA0B,GAA1B,CAA8B,IAA9B,EAAoC,IAApC,EAA0C,GAA1C,EAA+C,GAA/C;AACA,mBAAO,WAAP;AACH;AAED;;;;qCACqB,Y,EAAuB,Q,EAAmB;AAC3D,gBAAI,OAAwB,IAAI,cAAJ,EAA5B;AACA,iBAAK,gBAAL,CAAsB,kBAAtB;AACA,iBAAK,IAAL,CAAU,KAAV,EAAiB,YAAjB,EAA+B,IAA/B;AACA,iBAAK,kBAAL,GAA0B,YAAA;AACtB,oBAAK,KAAK,UAAL,IAAmB,CAApB,IAA2B,KAAK,MAAL,IAAe,GAA9C,EAAoD;AAChD,6BAAS,KAAK,YAAd;AACH;AACJ,aAJD;AAKA,iBAAK,IAAL,CAAU,IAAV;AACH;AAED;;;;+CAC+B,Q,EAAmB;AAC9C,iBAAK,iBAAL;AACA,gBAAI,KAAK,iBAAL,KAA2B,KAAK,iBAApC,EAAuD;AACnD;AACH;AACJ;AAED;;;;;;;;kCAKkB,I,EAAe,E,EAAa,Q,EAAmB;AAC7D;AACA,gBAAI,QAAQ,IAAI,KAAJ,EAAZ;AAEA;AACA,kBAAM,MAAN,GAAe,YAAA;AACX,yBAAS,EAAT,EAAa,KAAb;AACH,aAFD;AAIA;AACA,kBAAM,GAAN,GAAY,IAAZ;AACH;AAED;;;;;;;uCAIuB,Y,EAAuB,Y,EAAuB,Q,EAAmB;AACpF,gBAAI,sBAAwC,IAA5C;AACA,iBAAK,YAAL,CAAkB,YAAlB,EAAgC,UAAS,QAAT,EAA0B;AACtD,oBAAI,aAAkC,oBAAoB,kBAApB,CAAuC,QAAvC,CAAtC;AACA,oCAAoB,eAApB,CAAoC,YAApC,IAAoD,UAApD;AACA,oCAAoB,iBAApB,CAAsC,YAAtC,IAAsD,YAAtD;AACA;AACH,aALD;AAMH;AAyBD;;;;kDACkC,Q,EAAmB;AACjD,iBAAK,oBAAL;AACA,gBAAI,KAAK,oBAAL,KAA8B,KAAK,oBAAvC,EAA6D;AACzD;AACH;AACJ;;;;;;AAhLL,QAAA,eAAA,GAAA,eAAA;;;;;;;;;;;IC7BsB,gB;AAiBlB,gCAAA;AAAA;;AACI;AACA,aAAK,GAAL,GAAW,EAAX;AAEA;AACA;AACA,aAAK,kBAAL,GAA0B,OAAO,KAAK,GAAtC;AAEA;AACA;AACA,aAAK,UAAL,GAAkB,CAAlB;AAEA;AACA;AACA,aAAK,eAAL,GAAuB,CAAvB;AAEA;AACA;AACA;AACA;AACA,aAAK,QAAL,GAAgB,GAAhB;AAEA;AACA;AACA,aAAK,iBAAL,GAAyB,IAAzB;AAEA;AACA;AACA,aAAK,aAAL,GAAqB,CAArB;AAEA;AACA;AACA,aAAK,wBAAL,GAAgC,CAAhC;AAEA;AACA;AACA;AACA;AACA,aAAK,cAAL,GAAsB,CAAtB;AAEA;AACA;AACA;AACA;AACA,aAAK,aAAL,GAAqB,CAArB;AAEA;AACA,aAAK,OAAL,GAAe,KAAf;AAEA;AACA;AACA;AACA;AACA;AACA,aAAK,OAAL,GAAe,KAAf;AAEA;AACA;AACA;AACA;AACA;AACA,aAAK,KAAL,GAAa,KAAb;AACH;AAED;;;;;;;;;;;;;gDASqB;AACjB,mBAAO,KAAK,kBAAZ;AACH;AAED;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;8CA0CsB,Q,EAAgB;AAClC,iBAAK,kBAAL,GAA0B,QAA1B;AACH;AAED;;;;;;;;;iCAMM;AACF,mBAAO,KAAK,GAAZ;AACH;AAED;;;;;;;;;;;;;;2CAWgB;AACZ,mBAAO,OAAO,KAAK,aAAnB;AACH;AAED;;;;;;;;;;;;;;;;;;yCAeiB,G,EAAW;AACxB,gBAAI,OAAO,GAAP,KAAe,WAAnB,EAAgC;AAC5B,sBAAM,QAAN;AACH;AACD,gBAAI,QAAQ,CAAZ,EAAe;AACX,qBAAK,IAAL;AACH,aAFD,MAGK;AACD;AACA,qBAAK,aAAL,GAAqB,OAAO,GAA5B;AACH;AACJ;AAED;;;;;;;;;;;;;;;;;;;;;;;;0CAqBe;AACX,gBAAI,gBAAgB,KAAK,UAAzB;AACA,iBAAK,UAAL,GAAkB,CAAlB;AACA,mBAAO,aAAP;AACH;AAED;;;;;;;;;;;;;;;;;;;;gCAiBK;AACD,gBAAI,CAAC,KAAK,OAAV,EAAmB;AACf;AACA;AACA;AACA,qBAAK,OAAL,GAAe,IAAf;AAEA;AACA;AACA;AACA;AACA;AACA,qBAAK,GAAL,GAAW,sBAAsB,KAAK,SAAL,CAAe,IAAf,CAAoB,IAApB,CAAtB,CAAX;AACH;AACJ;;;kCAES,S,EAAkB;AACxB;AACA,iBAAK,IAAL,CAAU,CAAV;AAEA;AACA;AACA,iBAAK,OAAL,GAAe,IAAf;AAEA;AACA;AACA,iBAAK,eAAL,GAAuB,SAAvB;AACA,iBAAK,aAAL,GAAqB,SAArB;AACA,iBAAK,wBAAL,GAAgC,CAAhC;AAEA;AACA,iBAAK,GAAL,GAAW,OAAO,qBAAP,CAA6B,KAAK,OAAL,CAAa,IAAb,CAAkB,IAAlB,CAA7B,CAAX;AACH;AAED;;;;;;;;;;;oCAQS;AACL,mBAAO,KAAK,OAAZ;AACH;AAED;;;;;;;;;;;;;;;;+BAaI;AACA,iBAAK,OAAL,GAAe,KAAf;AACA,iBAAK,OAAL,GAAe,KAAf;AACA,mBAAO,oBAAP,CAA4B,KAAK,GAAjC;AACH;AAED;;;;;;;;;;;;;;;;;;gCAeQ,S,EAAkB;AACtB;AACA;AACA;AACA,iBAAK,GAAL,GAAW,OAAO,qBAAP,CAA6B,KAAK,OAAL,CAAa,IAAb,CAAkB,IAAlB,CAA7B,CAAX;AAEA;AACA;AACA,gBAAI,YAAY,KAAK,eAAL,GAAuB,KAAK,aAA5C,EAA2D;AACvD;AACH;AAED;AACA;AACA;AACA;AACA;AACA,iBAAK,UAAL,IAAmB,YAAY,KAAK,eAApC;AACA,iBAAK,eAAL,GAAuB,SAAvB;AAEA;AACA;AACA,iBAAK,KAAL,CAAW,SAAX,EAAsB,KAAK,UAA3B;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAI,YAAY,KAAK,aAAL,GAAqB,KAAK,iBAA1C,EAA6D;AACzD;AACA,qBAAK,GAAL;AACI;AACA;AACA;AACA;AACA,qBAAK,QAAL,GAAgB,KAAK,wBAArB,GAAgD,IAAhD,IAAwD,YAAY,KAAK,aAAzE,IACA,CAAC,IAAI,KAAK,QAAV,IAAsB,KAAK,GAN/B;AAQA;AACA;AACA,qBAAK,aAAL,GAAqB,SAArB;AACA,qBAAK,wBAAL,GAAgC,CAAhC;AACH;AACD;AACA;AACA;AACA;AACA,iBAAK,wBAAL;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2DA,iBAAK,cAAL,GAAsB,CAAtB;AACA,mBAAO,KAAK,UAAL,IAAmB,KAAK,kBAA/B,EAAmD;AAC/C,qBAAK,MAAL,CAAY,KAAK,kBAAjB;AACA,qBAAK,UAAL,IAAmB,KAAK,kBAAxB;AAEA;;;;;;;;;;;;;;;;;;;;;;;;AAwBA,oBAAI,EAAE,KAAK,cAAP,IAAyB,GAA7B,EAAkC;AAC9B,yBAAK,KAAL,GAAa,IAAb;AACA;AACH;AACJ;AAED;;;;;;;;;;;;;;;;;;AAkBA,iBAAK,IAAL,CAAU,KAAK,UAAL,GAAkB,KAAK,kBAAjC;AAEA;AACA;AACA,iBAAK,GAAL,CAAS,KAAK,GAAd,EAAmB,KAAK,KAAxB;AAEA,iBAAK,KAAL,GAAa,KAAb;AACH;;;;;;AAteL,QAAA,gBAAA,GAAA,gBAAA;;;;;;ACAA;;;;;AAKA,IAAA,WAAA,QAAA,UAAA,CAAA;AAGA,IAAiB,aAAjB;AAAA,CAAA,UAAiB,aAAjB,EAA8B;AAC1B,aAAgB,cAAhB,CAA+B,MAA/B,EAA8C;AAC1C,YAAI,OAAO,OAAO,GAAP,CAAW,CAAX,EAAc,CAAd,KACN,OAAO,GAAP,CAAW,CAAX,EAAc,CAAd,KAAqB,OAAO,GAAP,CAAW,CAAX,EAAc,CAAd,IAAmB,OAAO,GAAP,CAAW,CAAX,EAAc,CAAd,CAApB,GAAyC,OAAO,GAAP,CAAW,CAAX,EAAc,CAAd,IAAmB,OAAO,GAAP,CAAW,CAAX,EAAc,CAAd,CAAhF,CAAD,GACG,OAAO,GAAP,CAAW,CAAX,EAAc,CAAd,KAAqB,OAAO,GAAP,CAAW,CAAX,EAAc,CAAd,IAAmB,OAAO,GAAP,CAAW,CAAX,EAAc,CAAd,CAApB,GAAyC,OAAO,GAAP,CAAW,CAAX,EAAc,CAAd,IAAmB,OAAO,GAAP,CAAW,CAAX,EAAc,CAAd,CAAhF,CADH,GAEG,OAAO,GAAP,CAAW,CAAX,EAAc,CAAd,KAAqB,OAAO,GAAP,CAAW,CAAX,EAAc,CAAd,IAAmB,OAAO,GAAP,CAAW,CAAX,EAAc,CAAd,CAApB,GAAyC,OAAO,GAAP,CAAW,CAAX,EAAc,CAAd,IAAmB,OAAO,GAAP,CAAW,CAAX,EAAc,CAAd,CAAhF,CAHI,CAAX;AAIA,YAAI,OAAO,OAAO,GAAP,CAAW,CAAX,EAAc,CAAd,KACN,OAAO,GAAP,CAAW,CAAX,EAAc,CAAd,KAAqB,OAAO,GAAP,CAAW,CAAX,EAAc,CAAd,IAAmB,OAAO,GAAP,CAAW,CAAX,EAAc,CAAd,CAApB,GAAyC,OAAO,GAAP,CAAW,CAAX,EAAc,CAAd,IAAmB,OAAO,GAAP,CAAW,CAAX,EAAc,CAAd,CAAhF,CAAD,GACG,OAAO,GAAP,CAAW,CAAX,EAAc,CAAd,KAAqB,OAAO,GAAP,CAAW,CAAX,EAAc,CAAd,IAAmB,OAAO,GAAP,CAAW,CAAX,EAAc,CAAd,CAApB,GAAyC,OAAO,GAAP,CAAW,CAAX,EAAc,CAAd,IAAmB,OAAO,GAAP,CAAW,CAAX,EAAc,CAAd,CAAhF,CADH,GAEG,OAAO,GAAP,CAAW,CAAX,EAAc,CAAd,KAAqB,OAAO,GAAP,CAAW,CAAX,EAAc,CAAd,IAAmB,OAAO,GAAP,CAAW,CAAX,EAAc,CAAd,CAApB,GAAyC,OAAO,GAAP,CAAW,CAAX,EAAc,CAAd,IAAmB,OAAO,GAAP,CAAW,CAAX,EAAc,CAAd,CAAhF,CAHI,CAAX;AAIA,YAAI,OAAO,OAAO,GAAP,CAAW,CAAX,EAAc,CAAd,KACN,OAAO,GAAP,CAAW,CAAX,EAAc,CAAd,KAAqB,OAAO,GAAP,CAAW,CAAX,EAAc,CAAd,IAAmB,OAAO,GAAP,CAAW,CAAX,EAAc,CAAd,CAApB,GAAyC,OAAO,GAAP,CAAW,CAAX,EAAc,CAAd,IAAmB,OAAO,GAAP,CAAW,CAAX,EAAc,CAAd,CAAhF,CAAD,GACG,OAAO,GAAP,CAAW,CAAX,EAAc,CAAd,KAAqB,OAAO,GAAP,CAAW,CAAX,EAAc,CAAd,IAAmB,OAAO,GAAP,CAAW,CAAX,EAAc,CAAd,CAApB,GAAyC,OAAO,GAAP,CAAW,CAAX,EAAc,CAAd,IAAmB,OAAO,GAAP,CAAW,CAAX,EAAc,CAAd,CAAhF,CADH,GAEG,OAAO,GAAP,CAAW,CAAX,EAAc,CAAd,KAAqB,OAAO,GAAP,CAAW,CAAX,EAAc,CAAd,IAAmB,OAAO,GAAP,CAAW,CAAX,EAAc,CAAd,CAApB,GAAyC,OAAO,GAAP,CAAW,CAAX,EAAc,CAAd,IAAmB,OAAO,GAAP,CAAW,CAAX,EAAc,CAAd,CAAhF,CAHI,CAAX;AAIA,YAAI,OAAO,OAAO,GAAP,CAAW,CAAX,EAAc,CAAd,KACN,OAAO,GAAP,CAAW,CAAX,EAAc,CAAd,KAAqB,OAAO,GAAP,CAAW,CAAX,EAAc,CAAd,IAAmB,OAAO,GAAP,CAAW,CAAX,EAAc,CAAd,CAApB,GAAyC,OAAO,GAAP,CAAW,CAAX,EAAc,CAAd,IAAmB,OAAO,GAAP,CAAW,CAAX,EAAc,CAAd,CAAhF,CAAD,GACG,OAAO,GAAP,CAAW,CAAX,EAAc,CAAd,KAAqB,OAAO,GAAP,CAAW,CAAX,EAAc,CAAd,IAAmB,OAAO,GAAP,CAAW,CAAX,EAAc,CAAd,CAApB,GAAyC,OAAO,GAAP,CAAW,CAAX,EAAc,CAAd,IAAmB,OAAO,GAAP,CAAW,CAAX,EAAc,CAAd,CAAhF,CADH,GAEG,OAAO,GAAP,CAAW,CAAX,EAAc,CAAd,KAAqB,OAAO,GAAP,CAAW,CAAX,EAAc,CAAd,IAAmB,OAAO,GAAP,CAAW,CAAX,EAAc,CAAd,CAApB,GAAyC,OAAO,GAAP,CAAW,CAAX,EAAc,CAAd,IAAmB,OAAO,GAAP,CAAW,CAAX,EAAc,CAAd,CAAhF,CAHI,CAAX;AAIA,YAAI,MAAM,OAAO,IAAP,GAAc,IAAd,GAAqB,IAA/B;AACA,gBAAQ,GAAR,CAAY,WAAW,IAAX,GAAkB,KAAlB,GAA0B,IAA1B,GAAiC,KAAjC,GAAyC,IAAzC,GAAgD,KAAhD,GAAwD,IAApE;AACA,eAAO,GAAP;AACH;AApBe,kBAAA,cAAA,GAAc,cAAd;AAqBhB,aAAgB,QAAhB,CAAyB,MAAzB,EAAwC;AACpC,YAAI,OAAO,OAAP,OAAqB,OAAO,UAAP,EAAzB,EAA8C;AAC1C,iBAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,OAAO,OAAP,EAApB,EAAsC,GAAtC,EAA2C;AACvC,qBAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,OAAO,UAAP,EAApB,EAAyC,GAAzC,EAA8C;AAC1C,wBAAI,MAAM,CAAV,EACI,OAAO,GAAP,CAAW,GAAX,EAAgB,CAAhB,EAAmB,CAAnB,EADJ,KAGI,OAAO,GAAP,CAAW,GAAX,EAAgB,CAAhB,EAAmB,CAAnB;AACP;AACJ;AACJ;AACJ;AAXe,kBAAA,QAAA,GAAQ,QAAR;AAYhB,aAAgB,OAAhB,CAAwB,MAAxB,EAAyC,GAAzC,EAAqD;AACjD,YAAI,MAAM,KAAK,WAAL,CAAiB,GAAjB,CAAV;AACA,YAAI,MAAM,IAAI,GAAJ,CAAQ,CAAR,EAAW,CAAX,CAAV;AAAyB,YAAI,MAAM,IAAI,GAAJ,CAAQ,CAAR,EAAW,CAAX,CAAV;AAAyB,YAAI,MAAM,IAAI,GAAJ,CAAQ,CAAR,EAAW,CAAX,CAAV;AAAyB,YAAI,MAAM,IAAI,GAAJ,CAAQ,CAAR,EAAW,CAAX,CAAV;AAC3E,YAAI,MAAM,IAAI,GAAJ,CAAQ,CAAR,EAAW,CAAX,CAAV;AAAyB,YAAI,MAAM,IAAI,GAAJ,CAAQ,CAAR,EAAW,CAAX,CAAV;AAAyB,YAAI,MAAM,IAAI,GAAJ,CAAQ,CAAR,EAAW,CAAX,CAAV;AAAyB,YAAI,MAAM,IAAI,GAAJ,CAAQ,CAAR,EAAW,CAAX,CAAV;AAC3E,YAAI,MAAM,IAAI,GAAJ,CAAQ,CAAR,EAAW,CAAX,CAAV;AAAyB,YAAI,MAAM,IAAI,GAAJ,CAAQ,CAAR,EAAW,CAAX,CAAV;AAAyB,YAAI,MAAM,IAAI,GAAJ,CAAQ,CAAR,EAAW,CAAX,CAAV;AAAyB,YAAI,MAAM,IAAI,GAAJ,CAAQ,CAAR,EAAW,CAAX,CAAV;AAC3E,YAAI,MAAM,IAAI,GAAJ,CAAQ,CAAR,EAAW,CAAX,CAAV;AAAyB,YAAI,MAAM,IAAI,GAAJ,CAAQ,CAAR,EAAW,CAAX,CAAV;AAAyB,YAAI,MAAM,IAAI,GAAJ,CAAQ,CAAR,EAAW,CAAX,CAAV;AAAyB,YAAI,MAAM,IAAI,GAAJ,CAAQ,CAAR,EAAW,CAAX,CAAV;AAC3E,YAAI,OAAO,IAAI,SAAA,MAAJ,CAAW,CAAX,EAAc,CAAd,CAAX;AACA,aAAK,GAAL,CAAU,MAAM,GAAN,GAAY,GAAb,GAAqB,MAAM,GAAN,GAAY,GAAjC,GAAyC,MAAM,GAAN,GAAY,GAArD,GAA6D,MAAM,GAAN,GAAY,GAAzE,GAAiF,MAAM,GAAN,GAAY,GAA7F,GAAqG,MAAM,GAAN,GAAY,GAA1H,EAAgI,CAAhI,EAAmI,CAAnI;AACA,aAAK,GAAL,CAAU,MAAM,GAAN,GAAY,GAAb,GAAqB,MAAM,GAAN,GAAY,GAAjC,GAAyC,MAAM,GAAN,GAAY,GAArD,GAA6D,MAAM,GAAN,GAAY,GAAzE,GAAiF,MAAM,GAAN,GAAY,GAA7F,GAAqG,MAAM,GAAN,GAAY,GAA1H,EAAgI,CAAhI,EAAmI,CAAnI;AACA,aAAK,GAAL,CAAU,MAAM,GAAN,GAAY,GAAb,GAAqB,MAAM,GAAN,GAAY,GAAjC,GAAyC,MAAM,GAAN,GAAY,GAArD,GAA6D,MAAM,GAAN,GAAY,GAAzE,GAAiF,MAAM,GAAN,GAAY,GAA7F,GAAqG,MAAM,GAAN,GAAY,GAA1H,EAAgI,CAAhI,EAAmI,CAAnI;AACA,aAAK,GAAL,CAAU,MAAM,GAAN,GAAY,GAAb,GAAqB,MAAM,GAAN,GAAY,GAAjC,GAAyC,MAAM,GAAN,GAAY,GAArD,GAA6D,MAAM,GAAN,GAAY,GAAzE,GAAiF,MAAM,GAAN,GAAY,GAA7F,GAAqG,MAAM,GAAN,GAAY,GAA1H,EAAgI,CAAhI,EAAmI,CAAnI;AACA,aAAK,GAAL,CAAU,MAAM,GAAN,GAAY,GAAb,GAAqB,MAAM,GAAN,GAAY,GAAjC,GAAyC,MAAM,GAAN,GAAY,GAArD,GAA6D,MAAM,GAAN,GAAY,GAAzE,GAAiF,MAAM,GAAN,GAAY,GAA7F,GAAqG,MAAM,GAAN,GAAY,GAA1H,EAAgI,CAAhI,EAAmI,CAAnI;AACA,aAAK,GAAL,CAAU,MAAM,GAAN,GAAY,GAAb,GAAqB,MAAM,GAAN,GAAY,GAAjC,GAAyC,MAAM,GAAN,GAAY,GAArD,GAA6D,MAAM,GAAN,GAAY,GAAzE,GAAiF,MAAM,GAAN,GAAY,GAA7F,GAAqG,MAAM,GAAN,GAAY,GAA1H,EAAgI,CAAhI,EAAmI,CAAnI;AACA,aAAK,GAAL,CAAU,MAAM,GAAN,GAAY,GAAb,GAAqB,MAAM,GAAN,GAAY,GAAjC,GAAyC,MAAM,GAAN,GAAY,GAArD,GAA6D,MAAM,GAAN,GAAY,GAAzE,GAAiF,MAAM,GAAN,GAAY,GAA7F,GAAqG,MAAM,GAAN,GAAY,GAA1H,EAAgI,CAAhI,EAAmI,CAAnI;AACA,aAAK,GAAL,CAAU,MAAM,GAAN,GAAY,GAAb,GAAqB,MAAM,GAAN,GAAY,GAAjC,GAAyC,MAAM,GAAN,GAAY,GAArD,GAA6D,MAAM,GAAN,GAAY,GAAzE,GAAiF,MAAM,GAAN,GAAY,GAA7F,GAAqG,MAAM,GAAN,GAAY,GAA1H,EAAgI,CAAhI,EAAmI,CAAnI;AACA,aAAK,GAAL,CAAU,MAAM,GAAN,GAAY,GAAb,GAAqB,MAAM,GAAN,GAAY,GAAjC,GAAyC,MAAM,GAAN,GAAY,GAArD,GAA6D,MAAM,GAAN,GAAY,GAAzE,GAAiF,MAAM,GAAN,GAAY,GAA7F,GAAqG,MAAM,GAAN,GAAY,GAA1H,EAAgI,CAAhI,EAAmI,CAAnI;AACA,aAAK,GAAL,CAAU,MAAM,GAAN,GAAY,GAAb,GAAqB,MAAM,GAAN,GAAY,GAAjC,GAAyC,MAAM,GAAN,GAAY,GAArD,GAA6D,MAAM,GAAN,GAAY,GAAzE,GAAiF,MAAM,GAAN,GAAY,GAA7F,GAAqG,MAAM,GAAN,GAAY,GAA1H,EAAgI,CAAhI,EAAmI,CAAnI;AACA,aAAK,GAAL,CAAU,MAAM,GAAN,GAAY,GAAb,GAAqB,MAAM,GAAN,GAAY,GAAjC,GAAyC,MAAM,GAAN,GAAY,GAArD,GAA6D,MAAM,GAAN,GAAY,GAAzE,GAAiF,MAAM,GAAN,GAAY,GAA7F,GAAqG,MAAM,GAAN,GAAY,GAA1H,EAAgI,CAAhI,EAAmI,CAAnI;AACA,aAAK,GAAL,CAAU,MAAM,GAAN,GAAY,GAAb,GAAqB,MAAM,GAAN,GAAY,GAAjC,GAAyC,MAAM,GAAN,GAAY,GAArD,GAA6D,MAAM,GAAN,GAAY,GAAzE,GAAiF,MAAM,GAAN,GAAY,GAA7F,GAAqG,MAAM,GAAN,GAAY,GAA1H,EAAgI,CAAhI,EAAmI,CAAnI;AACA,aAAK,GAAL,CAAU,MAAM,GAAN,GAAY,GAAb,GAAqB,MAAM,GAAN,GAAY,GAAjC,GAAyC,MAAM,GAAN,GAAY,GAArD,GAA6D,MAAM,GAAN,GAAY,GAAzE,GAAiF,MAAM,GAAN,GAAY,GAA7F,GAAqG,MAAM,GAAN,GAAY,GAA1H,EAAgI,CAAhI,EAAmI,CAAnI;AACA,aAAK,GAAL,CAAU,MAAM,GAAN,GAAY,GAAb,GAAqB,MAAM,GAAN,GAAY,GAAjC,GAAyC,MAAM,GAAN,GAAY,GAArD,GAA6D,MAAM,GAAN,GAAY,GAAzE,GAAiF,MAAM,GAAN,GAAY,GAA7F,GAAqG,MAAM,GAAN,GAAY,GAA1H,EAAgI,CAAhI,EAAmI,CAAnI;AACA,aAAK,GAAL,CAAU,MAAM,GAAN,GAAY,GAAb,GAAqB,MAAM,GAAN,GAAY,GAAjC,GAAyC,MAAM,GAAN,GAAY,GAArD,GAA6D,MAAM,GAAN,GAAY,GAAzE,GAAiF,MAAM,GAAN,GAAY,GAA7F,GAAqG,MAAM,GAAN,GAAY,GAA1H,EAAgI,CAAhI,EAAmI,CAAnI;AACA,aAAK,GAAL,CAAU,MAAM,GAAN,GAAY,GAAb,GAAqB,MAAM,GAAN,GAAY,GAAjC,GAAyC,MAAM,GAAN,GAAY,GAArD,GAA6D,MAAM,GAAN,GAAY,GAAzE,GAAiF,MAAM,GAAN,GAAY,GAA7F,GAAqG,MAAM,GAAN,GAAY,GAA1H,EAAgI,CAAhI,EAAmI,CAAnI;AACA,aAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,CAApB,EAAuB,GAAvB,EAA4B;AACxB,iBAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,CAApB,EAAuB,GAAvB,EAA4B;AACxB,uBAAO,GAAP,CAAW,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,IAAiB,GAA5B,EAAiC,CAAjC,EAAoC,CAApC;AACH;AACJ;AACJ;AA5Be,kBAAA,OAAA,GAAO,OAAP;AA6BhB,aAAgB,KAAhB,CAAsB,MAAtB,EAAuC,WAAvC,EAA8D,QAA9D,EAAkF,KAAlF,EAAiG;AAC7F;AACA,YAAI,oBAAoB,IAAI,SAAA,MAAJ,CAAW,CAAX,EAAc,CAAd,CAAxB;AACA,aAAK,QAAL,CAAc,iBAAd;AACA,aAAK,SAAL,CAAe,iBAAf,EAAkC,WAAlC;AAEA;AACA,YAAI,iBAAiB,IAAI,SAAA,MAAJ,CAAW,CAAX,EAAc,CAAd,CAArB;AACA,aAAK,QAAL,CAAc,cAAd;AACA,aAAK,MAAL,CAAY,cAAZ,EAA4B,QAA5B;AAEA;AACA,YAAI,cAAc,IAAI,SAAA,MAAJ,CAAW,CAAX,EAAc,CAAd,CAAlB;AACA,aAAK,QAAL,CAAc,WAAd;AACA,aAAK,KAAL,CAAW,WAAX,EAAwB,KAAxB;AAEA;AACA,YAAI,aAAa,IAAI,SAAA,MAAJ,CAAW,CAAX,EAAc,CAAd,CAAjB;AACA,aAAK,QAAL,CAAc,UAAd,EAA0B,iBAA1B,EAA6C,cAA7C;AACA,aAAK,QAAL,CAAc,MAAd,EAAsB,UAAtB,EAAkC,WAAlC;AACH;AApBe,kBAAA,KAAA,GAAK,KAAL;AAsBhB,aAAgB,QAAhB,CAAyB,MAAzB,EAA0C,IAA1C,EAAyD,IAAzD,EAAsE;AAClE;AACA;AACA,YAAI,MAAO,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,IAAiB,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,CAAlB,GACH,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,IAAiB,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,CADd,GAEH,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,IAAiB,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,CAFd,GAGH,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,IAAiB,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,CAHxB;AAIA,YAAI,MAAO,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,IAAiB,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,CAAlB,GACH,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,IAAiB,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,CADd,GAEH,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,IAAiB,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,CAFd,GAGH,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,IAAiB,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,CAHxB;AAIA,YAAI,MAAO,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,IAAiB,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,CAAlB,GACH,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,IAAiB,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,CADd,GAEH,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,IAAiB,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,CAFd,GAGH,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,IAAiB,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,CAHxB;AAIA,YAAI,MAAO,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,IAAiB,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,CAAlB,GACH,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,IAAiB,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,CADd,GAEH,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,IAAiB,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,CAFd,GAGH,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,IAAiB,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,CAHxB;AAIA,YAAI,MAAO,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,IAAiB,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,CAAlB,GACH,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,IAAiB,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,CADd,GAEH,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,IAAiB,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,CAFd,GAGH,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,IAAiB,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,CAHxB;AAIA,YAAI,MAAO,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,IAAiB,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,CAAlB,GACH,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,IAAiB,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,CADd,GAEH,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,IAAiB,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,CAFd,GAGH,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,IAAiB,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,CAHxB;AAIA,YAAI,MAAO,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,IAAiB,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,CAAlB,GACH,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,IAAiB,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,CADd,GAEH,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,IAAiB,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,CAFd,GAGH,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,IAAiB,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,CAHxB;AAIA,YAAI,MAAO,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,IAAiB,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,CAAlB,GACH,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,IAAiB,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,CADd,GAEH,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,IAAiB,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,CAFd,GAGH,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,IAAiB,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,CAHxB;AAIA,YAAI,MAAO,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,IAAiB,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,CAAlB,GACH,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,IAAiB,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,CADd,GAEH,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,IAAiB,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,CAFd,GAGH,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,IAAiB,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,CAHxB;AAIA,YAAI,MAAO,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,IAAiB,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,CAAlB,GACH,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,IAAiB,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,CADd,GAEH,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,IAAiB,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,CAFd,GAGH,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,IAAiB,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,CAHxB;AAIA,YAAI,MAAO,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,IAAiB,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,CAAlB,GACH,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,IAAiB,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,CADd,GAEH,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,IAAiB,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,CAFd,GAGH,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,IAAiB,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,CAHxB;AAIA,YAAI,MAAO,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,IAAiB,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,CAAlB,GACH,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,IAAiB,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,CADd,GAEH,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,IAAiB,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,CAFd,GAGH,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,IAAiB,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,CAHxB;AAIA,YAAI,MAAO,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,IAAiB,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,CAAlB,GACH,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,IAAiB,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,CADd,GAEH,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,IAAiB,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,CAFd,GAGH,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,IAAiB,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,CAHxB;AAIA,YAAI,MAAO,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,IAAiB,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,CAAlB,GACH,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,IAAiB,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,CADd,GAEH,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,IAAiB,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,CAFd,GAGH,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,IAAiB,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,CAHxB;AAIA,YAAI,MAAO,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,IAAiB,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,CAAlB,GACH,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,IAAiB,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,CADd,GAEH,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,IAAiB,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,CAFd,GAGH,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,IAAiB,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,CAHxB;AAIA,YAAI,MAAO,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,IAAiB,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,CAAlB,GACH,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,IAAiB,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,CADd,GAEH,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,IAAiB,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,CAFd,GAGH,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,IAAiB,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,CAHxB;AAKA;AACA,eAAO,GAAP,CAAW,GAAX,EAAgB,CAAhB,EAAmB,CAAnB;AACA,eAAO,GAAP,CAAW,GAAX,EAAgB,CAAhB,EAAmB,CAAnB;AACA,eAAO,GAAP,CAAW,GAAX,EAAgB,CAAhB,EAAmB,CAAnB;AACA,eAAO,GAAP,CAAW,GAAX,EAAgB,CAAhB,EAAmB,CAAnB;AACA,eAAO,GAAP,CAAW,GAAX,EAAgB,CAAhB,EAAmB,CAAnB;AACA,eAAO,GAAP,CAAW,GAAX,EAAgB,CAAhB,EAAmB,CAAnB;AACA,eAAO,GAAP,CAAW,GAAX,EAAgB,CAAhB,EAAmB,CAAnB;AACA,eAAO,GAAP,CAAW,GAAX,EAAgB,CAAhB,EAAmB,CAAnB;AACA,eAAO,GAAP,CAAW,GAAX,EAAgB,CAAhB,EAAmB,CAAnB;AACA,eAAO,GAAP,CAAW,GAAX,EAAgB,CAAhB,EAAmB,CAAnB;AACA,eAAO,GAAP,CAAW,GAAX,EAAgB,CAAhB,EAAmB,CAAnB;AACA,eAAO,GAAP,CAAW,GAAX,EAAgB,CAAhB,EAAmB,CAAnB;AACA,eAAO,GAAP,CAAW,GAAX,EAAgB,CAAhB,EAAmB,CAAnB;AACA,eAAO,GAAP,CAAW,GAAX,EAAgB,CAAhB,EAAmB,CAAnB;AACA,eAAO,GAAP,CAAW,GAAX,EAAgB,CAAhB,EAAmB,CAAnB;AACA,eAAO,GAAP,CAAW,GAAX,EAAgB,CAAhB,EAAmB,CAAnB;AACH;AArFe,kBAAA,QAAA,GAAQ,QAAR;AAuFhB,aAAgB,UAAhB,CAA2B,MAA3B,EAA4C,KAA5C,EAA4D,IAA5D,EAA2E,aAA3E,EAAmG,cAAnG,EAA4H,IAA5H,EAAyI;AACrI,YAAI,cAAc,gBAAgB,cAAlC;AACA,YAAI,eAAe,KAAK,IAAL,CAAU,gBAAV,CAA2B,IAA3B,CAAnB;AACA,YAAI,eAAe,IAAI,KAAK,IAAL,CAAU,KAAK,GAAL,CAAS,eAAe,CAAxB,IAA6B,WAAvC,CAAvB;AAEA;AACA,YAAI,IAAI,KAAR;AACA,YAAI,IAAI,IAAR;AACA,YAAI,IAAI,KAAK,GAAL,CAAS,eAAe,CAAxB,IAA6B,CAArC;AACA,YAAI,IAAI,KAAK,GAAL,CAAS,eAAe,CAAxB,IAA6B,CAArC;AAEA;AACA,eAAO,GAAP,CAAW,IAAI,CAAf,EAAkB,CAAlB,EAAqB,CAArB;AACA,eAAO,GAAP,CAAW,GAAX,EAAgB,CAAhB,EAAmB,CAAnB;AACA,eAAO,GAAP,CAAW,GAAX,EAAgB,CAAhB,EAAmB,CAAnB;AACA,eAAO,GAAP,CAAW,GAAX,EAAgB,CAAhB,EAAmB,CAAnB;AACA;AACA,eAAO,GAAP,CAAW,GAAX,EAAgB,CAAhB,EAAmB,CAAnB;AACA,eAAO,GAAP,CAAW,IAAI,CAAf,EAAkB,CAAlB,EAAqB,CAArB;AACA,eAAO,GAAP,CAAW,GAAX,EAAgB,CAAhB,EAAmB,CAAnB;AACA,eAAO,GAAP,CAAW,GAAX,EAAgB,CAAhB,EAAmB,CAAnB;AACA;AACA,eAAO,GAAP,CAAW,GAAX,EAAgB,CAAhB,EAAmB,CAAnB;AACA,eAAO,GAAP,CAAW,GAAX,EAAgB,CAAhB,EAAmB,CAAnB;AACA,eAAO,GAAP,CAAY,EAAE,IAAI,CAAN,CAAD,IAAc,IAAI,CAAlB,CAAX,EAAiC,CAAjC,EAAoC,CAApC;AACA,eAAO,GAAP,CAAY,CAAC,CAAD,GAAK,CAAL,GAAS,CAAV,IAAgB,IAAI,CAApB,CAAX,EAAmC,CAAnC,EAAsC,CAAtC;AACA;AACA,eAAO,GAAP,CAAW,GAAX,EAAgB,CAAhB,EAAmB,CAAnB;AACA,eAAO,GAAP,CAAW,GAAX,EAAgB,CAAhB,EAAmB,CAAnB;AACA,eAAO,GAAP,CAAW,CAAC,GAAZ,EAAiB,CAAjB,EAAoB,CAApB;AACA,eAAO,GAAP,CAAW,GAAX,EAAgB,CAAhB,EAAmB,CAAnB;AACH;AA/Be,kBAAA,UAAA,GAAU,UAAV;AAiChB,aAAgB,MAAhB,CAAuB,MAAvB,EAAwC,cAAxC,EAAgE;AAC5D;AACA,YAAI,kBAAkB,IAAI,SAAA,MAAJ,CAAW,CAAX,EAAc,CAAd,CAAtB;AACA,aAAK,QAAL,CAAc,eAAd;AACA,YAAI,SAAS,eAAe,SAAf,EAAb;AACA,wBAAgB,GAAhB,CAAoB,KAAK,GAAL,CAAS,MAAT,CAApB,EAAsC,CAAtC,EAAyC,CAAzC;AACA,wBAAgB,GAAhB,CAAoB,KAAK,GAAL,CAAS,MAAT,CAApB,EAAsC,CAAtC,EAAyC,CAAzC;AACA,wBAAgB,GAAhB,CAAoB,CAAC,CAAD,GAAK,KAAK,GAAL,CAAS,MAAT,CAAzB,EAA2C,CAA3C,EAA8C,CAA9C;AACA,wBAAgB,GAAhB,CAAoB,KAAK,GAAL,CAAS,MAAT,CAApB,EAAsC,CAAtC,EAAyC,CAAzC;AAEA;AACA,YAAI,kBAAkB,IAAI,SAAA,MAAJ,CAAW,CAAX,EAAc,CAAd,CAAtB;AACA,aAAK,QAAL,CAAc,eAAd;AACA,YAAI,SAAS,eAAe,SAAf,EAAb;AACA,wBAAgB,GAAhB,CAAoB,KAAK,GAAL,CAAS,MAAT,CAApB,EAAsC,CAAtC,EAAyC,CAAzC;AACA,wBAAgB,GAAhB,CAAoB,CAAC,CAAD,GAAK,KAAK,GAAL,CAAS,MAAT,CAAzB,EAA2C,CAA3C,EAA8C,CAA9C;AACA,wBAAgB,GAAhB,CAAoB,KAAK,GAAL,CAAS,MAAT,CAApB,EAAsC,CAAtC,EAAyC,CAAzC;AACA,wBAAgB,GAAhB,CAAoB,KAAK,GAAL,CAAS,MAAT,CAApB,EAAsC,CAAtC,EAAyC,CAAzC;AAEA;AACA,YAAI,kBAAkB,IAAI,SAAA,MAAJ,CAAW,CAAX,EAAc,CAAd,CAAtB;AACA,aAAK,QAAL,CAAc,eAAd;AACA,YAAI,SAAS,eAAe,SAAf,EAAb;AACA,wBAAgB,GAAhB,CAAoB,KAAK,GAAL,CAAS,MAAT,CAApB,EAAsC,CAAtC,EAAyC,CAAzC;AACA,wBAAgB,GAAhB,CAAoB,KAAK,GAAL,CAAS,MAAT,CAApB,EAAsC,CAAtC,EAAyC,CAAzC;AACA,wBAAgB,GAAhB,CAAoB,CAAC,CAAD,GAAK,KAAK,GAAL,CAAS,MAAT,CAAzB,EAA2C,CAA3C,EAA8C,CAA9C;AACA,wBAAgB,GAAhB,CAAoB,KAAK,GAAL,CAAS,MAAT,CAApB,EAAsC,CAAtC,EAAyC,CAAzC;AAEA;AACA,YAAI,aAAa,IAAI,SAAA,MAAJ,CAAW,CAAX,EAAc,CAAd,CAAjB;AACA,aAAK,QAAL,CAAc,UAAd;AACA,aAAK,QAAL,CAAc,UAAd,EAA0B,eAA1B,EAA2C,eAA3C;AACA,aAAK,QAAL,CAAc,MAAd,EAAsB,UAAtB,EAAkC,eAAlC;AACH;AAjCe,kBAAA,MAAA,GAAM,MAAN;AAmChB,aAAgB,KAAhB,CAAsB,MAAtB,EAAuC,WAAvC,EAA4D;AACxD;AACA,aAAK,QAAL,CAAc,MAAd,EAAsB,WAAtB;AAEA;AACA,eAAO,GAAP,CAAW,YAAY,IAAZ,EAAX,EAA+B,CAA/B,EAAkC,CAAlC;AACA,eAAO,GAAP,CAAW,YAAY,IAAZ,EAAX,EAA+B,CAA/B,EAAkC,CAAlC;AACA,eAAO,GAAP,CAAW,YAAY,IAAZ,EAAX,EAA+B,CAA/B,EAAkC,CAAlC;AACH;AARe,kBAAA,KAAA,GAAK,KAAL;AAUhB,aAAgB,SAAhB,CAA0B,MAA1B,EAA4C,GAA5C,EAA0D,GAA1D,EAAuE;AACnE,eAAO,IAAP,CAAa,IAAI,GAAJ,CAAQ,CAAR,EAAW,CAAX,IAAgB,IAAI,IAAJ,EAAjB,GAAgC,IAAI,GAAJ,CAAQ,CAAR,EAAW,CAAX,IAAgB,IAAI,IAAJ,EAAhD,GAA+D,IAAI,GAAJ,CAAQ,CAAR,EAAW,CAAX,IAAgB,IAAI,IAAJ,EAA/E,GAA8F,IAAI,GAAJ,CAAQ,CAAR,EAAW,CAAX,IAAgB,IAAI,IAAJ,EAA1H;AACA,eAAO,IAAP,CAAa,IAAI,GAAJ,CAAQ,CAAR,EAAW,CAAX,IAAgB,IAAI,IAAJ,EAAjB,GAAgC,IAAI,GAAJ,CAAQ,CAAR,EAAW,CAAX,IAAgB,IAAI,IAAJ,EAAhD,GAA+D,IAAI,GAAJ,CAAQ,CAAR,EAAW,CAAX,IAAgB,IAAI,IAAJ,EAA/E,GAA8F,IAAI,GAAJ,CAAQ,CAAR,EAAW,CAAX,IAAgB,IAAI,IAAJ,EAA1H;AACA,eAAO,IAAP,CAAa,IAAI,GAAJ,CAAQ,CAAR,EAAW,CAAX,IAAgB,IAAI,IAAJ,EAAjB,GAAgC,IAAI,GAAJ,CAAQ,CAAR,EAAW,CAAX,IAAgB,IAAI,IAAJ,EAAhD,GAA+D,IAAI,GAAJ,CAAQ,CAAR,EAAW,CAAX,IAAgB,IAAI,IAAJ,EAA/E,GAA8F,IAAI,GAAJ,CAAQ,CAAR,EAAW,CAAX,IAAgB,IAAI,IAAJ,EAA1H;AACA,eAAO,IAAP,CAAa,IAAI,GAAJ,CAAQ,CAAR,EAAW,CAAX,IAAgB,IAAI,IAAJ,EAAjB,GAAgC,IAAI,GAAJ,CAAQ,CAAR,EAAW,CAAX,IAAgB,IAAI,IAAJ,EAAhD,GAA+D,IAAI,GAAJ,CAAQ,CAAR,EAAW,CAAX,IAAgB,IAAI,IAAJ,EAA/E,GAA8F,IAAI,GAAJ,CAAQ,CAAR,EAAW,CAAX,IAAgB,IAAI,IAAJ,EAA1H;AACH;AALe,kBAAA,SAAA,GAAS,SAAT;AAOhB,aAAgB,SAAhB,CAA0B,MAA1B,EAA2C,iBAA3C,EAAsE;AAClE;AACA,aAAK,QAAL,CAAc,MAAd;AAEA;AACA,eAAO,GAAP,CAAW,kBAAkB,IAAlB,EAAX,EAAqC,CAArC,EAAwC,CAAxC;AACA,eAAO,GAAP,CAAW,kBAAkB,IAAlB,EAAX,EAAqC,CAArC,EAAwC,CAAxC;AACA,eAAO,GAAP,CAAW,kBAAkB,IAAlB,EAAX,EAAqC,CAArC,EAAwC,CAAxC;AACH;AARe,kBAAA,SAAA,GAAS,SAAT;AAUhB,aAAgB,SAAhB,CAA0B,MAA1B,EAA2C,GAA3C,EAAuD;AACnD,aAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,CAApB,EAAuB,GAAvB,EAA4B;AACxB,iBAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,CAApB,EAAuB,GAAvB,EAA4B;AACxB,oBAAI,OAAO,IAAI,GAAJ,CAAQ,CAAR,EAAW,CAAX,CAAX;AACA,uBAAO,GAAP,CAAW,IAAX,EAAiB,CAAjB,EAAoB,CAApB;AACH;AACJ;AACJ;AAPe,kBAAA,SAAA,GAAS,SAAT;AAShB,aAAgB,IAAhB,CAAqB,MAArB,EAAsC,cAAtC,EAAgE,iBAAhE,EAA2F;AACvF,YAAI,QAAQ,KAAK,IAAL,CAAU,gBAAV,CAA2B,kBAAkB,SAAlB,EAA3B,CAAZ;AACA,YAAI,MAAM,KAAK,IAAL,CAAU,gBAAV,CAA2B,kBAAkB,SAAlB,EAA3B,CAAV;AACA,YAAI,OAAO,KAAK,IAAL,CAAU,gBAAV,CAA2B,kBAAkB,SAAlB,EAA3B,CAAX;AAEA;AACA,YAAI,kBAAkB,KAAK,IAAL,CAAU,UAAV,CAAqB,oBAArB,EAAtB;AACA,wBAAgB,GAAhB,CAAoB,CAAC,eAAe,IAAf,EAArB,EAA4C,CAAC,eAAe,IAAf,EAA7C,EAAoE,CAAC,eAAe,IAAf,EAArE;AACA,YAAI,kBAAkB,IAAI,SAAA,MAAJ,CAAW,CAAX,EAAc,CAAd,CAAtB;AACA,aAAK,QAAL,CAAc,eAAd;AACA,aAAK,SAAL,CAAe,eAAf,EAAgC,eAAhC;AAEA;AACA,YAAI,eAAe,KAAK,IAAL,CAAU,UAAV,CAAqB,oBAArB,EAAnB;AACA,qBAAa,GAAb,CAAiB,CAAC,KAAlB,EAAyB,CAAC,GAA1B,EAA+B,CAAC,IAAhC;AACA,YAAI,eAAe,IAAI,SAAA,MAAJ,CAAW,CAAX,EAAc,CAAd,CAAnB;AACA,aAAK,MAAL,CAAY,YAAZ,EAA0B,YAA1B;AAEA;AACA,aAAK,QAAL,CAAc,MAAd,EAAsB,YAAtB,EAAoC,eAApC;AACH;AApBe,kBAAA,IAAA,GAAI,IAAJ;AAsBhB,aAAgB,UAAhB,CAA2B,MAA3B,EAA6C,IAA7C,EAA6D,IAA7D,EAA2E;AACvE,aAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,KAAK,OAAL,EAApB,EAAoC,GAApC,EAAyC;AACrC,gBAAI,QAAQ,KAAK,KAAL,CAAW,CAAX,IAAgB,KAAK,KAAL,CAAW,CAAX,CAA5B;AACA,mBAAO,KAAP,CAAa,CAAb,EAAgB,KAAhB;AACH;AACJ;AALe,kBAAA,UAAA,GAAU,UAAV;AAOhB,aAAgB,YAAhB,CAA6B,MAA7B,EAA+C,IAA/C,EAA+D,IAA/D,EAA6E;AACzE,YAAI,UAAW,KAAK,IAAL,KAAc,KAAK,IAAL,EAAf,GACP,KAAK,IAAL,KAAc,KAAK,IAAL,EADrB;AAEA,YAAI,UAAW,KAAK,IAAL,KAAc,KAAK,IAAL,EAAf,GACP,KAAK,IAAL,KAAc,KAAK,IAAL,EADrB;AAEA,YAAI,UAAW,KAAK,IAAL,KAAc,KAAK,IAAL,EAAf,GACP,KAAK,IAAL,KAAc,KAAK,IAAL,EADrB;AAEA,eAAO,IAAP,CAAY,OAAZ;AACA,eAAO,IAAP,CAAY,OAAZ;AACA,eAAO,IAAP,CAAY,OAAZ;AACH;AAVe,kBAAA,YAAA,GAAY,YAAZ;AAYhB,aAAgB,UAAhB,CAA2B,IAA3B,EAA2C,IAA3C,EAAyD;AACrD,YAAI,UAAU,KAAK,IAAL,KAAc,KAAK,IAAL,EAA5B;AACA,YAAI,UAAU,KAAK,IAAL,KAAc,KAAK,IAAL,EAA5B;AACA,YAAI,UAAU,KAAK,IAAL,KAAc,KAAK,IAAL,EAA5B;AACA,eAAO,UAAU,OAAV,GAAoB,OAA3B;AACH;AALe,kBAAA,UAAA,GAAU,UAAV;AAOhB,aAAgB,eAAhB,CAAgC,MAAhC,EAAkD,GAAlD,EAAiE,MAAjE,EAAgF;AAC5E,YAAI,OAAO,IAAI,IAAJ,KAAa,MAAxB;AACA,YAAI,OAAO,IAAI,IAAJ,KAAa,MAAxB;AACA,YAAI,OAAO,IAAI,IAAJ,KAAa,MAAxB;AACA,eAAO,IAAP,CAAY,IAAZ;AACA,eAAO,IAAP,CAAY,IAAZ;AACA,eAAO,IAAP,CAAY,IAAZ;AACH;AAPe,kBAAA,eAAA,GAAe,eAAf;AAShB,aAAgB,SAAhB,CAA0B,MAA1B,EAA4C,GAA5C,EAAyD;AACrD,YAAI,WAAW,IAAI,IAAJ,KAAa,IAAI,IAAJ,EAA5B;AACA,YAAI,WAAW,IAAI,IAAJ,KAAa,IAAI,IAAJ,EAA5B;AACA,YAAI,WAAW,IAAI,IAAJ,KAAa,IAAI,IAAJ,EAA5B;AACA,YAAI,WAAW,KAAK,IAAL,CAAU,WAAW,QAAX,GAAsB,QAAhC,CAAf;AACA,eAAO,IAAP,CAAY,IAAI,IAAJ,KAAa,QAAzB;AACA,eAAO,IAAP,CAAY,IAAI,IAAJ,KAAa,QAAzB;AACA,eAAO,IAAP,CAAY,IAAI,IAAJ,KAAa,QAAzB;AACH;AARe,kBAAA,SAAA,GAAS,SAAT;AAUhB,aAAgB,eAAhB,CAAgC,MAAhC,EAAkD,IAAlD,EAAkE,IAAlE,EAAgF;AAC5E,YAAI,UAAU,KAAK,IAAL,KAAc,KAAK,IAAL,EAA5B;AACA,YAAI,UAAU,KAAK,IAAL,KAAc,KAAK,IAAL,EAA5B;AACA,YAAI,UAAU,KAAK,IAAL,KAAc,KAAK,IAAL,EAA5B;AACA,eAAO,IAAP,CAAY,OAAZ;AACA,eAAO,IAAP,CAAY,OAAZ;AACA,eAAO,IAAP,CAAY,OAAZ;AACH;AAPe,kBAAA,eAAA,GAAe,eAAf;AAQnB,CA/VD,EAAiB,gBAAA,QAAA,aAAA,KAAA,QAAA,aAAA,GAAa,EAAb,CAAjB;;;;;;;;;;ACRA;;;;;IAIa,M;AAKT,oBAAmB,IAAnB,EAAkC,OAAlC,EAAkD;AAAA;;AAC9C,aAAK,IAAL,GAAY,IAAZ;AACA,aAAK,OAAL,GAAe,OAAf;AACA,aAAK,GAAL,GAAW,IAAI,YAAJ,CAAiB,OAAO,OAAxB,CAAX;AACA,aAAK,IAAI,IAAI,CAAb,EAAgB,IAAK,OAAO,OAA5B,EAAsC,GAAtC;AACI,iBAAK,GAAL,CAAS,CAAT,IAAc,GAAd;AADJ;AAEH;;;;kCAEa;AACV,mBAAO,KAAK,GAAZ;AACH;;;kCAEa;AACV,mBAAO,KAAK,IAAZ;AACH;;;qCAEgB;AACb,mBAAO,KAAK,OAAZ;AACH;;;iCAEgB,I,EAAe,O,EAAgB;AAC5C,mBAAQ,KAAK,IAAL,GAAY,OAAb,GAAwB,IAA/B;AACH;;;4BAEW,G,EAAc,M,EAAe;AACrC,gBAAI,QAAQ,KAAK,QAAL,CAAc,GAAd,EAAmB,MAAnB,CAAZ;AACA,gBAAI,gBAAgB,KAAK,GAAL,CAAS,KAAT,CAApB;AACA,mBAAO,aAAP;AACH;;;4BAEW,K,EAAgB,G,EAAc,M,EAAe;AACrD,gBAAI,QAAQ,KAAK,QAAL,CAAc,GAAd,EAAmB,MAAnB,CAAZ;AACA,iBAAK,GAAL,CAAS,KAAT,IAAkB,KAAlB;AACH;;;gCAEW;AACR,gBAAI,WAAW,CAAf;AACA,iBAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,CAApB,EAAuB,GAAvB,EAA4B;AACxB,qBAAK,IAAI,KAAI,CAAb,EAAgB,KAAI,CAApB,EAAuB,IAAvB,EAA4B;AACxB,wBAAI,UAAU,KAAK,GAAL,CAAS,EAAT,EAAY,CAAZ,IAAiB,EAA/B;AACA,wBAAI,QAAQ,MAAR,GAAiB,QAArB,EAA+B;AAC3B,mCAAW,QAAQ,MAAnB;AACH;AACJ;AACJ;AACD,gBAAI,OAAO,IAAX;AACA,iBAAK,IAAI,KAAI,CAAb,EAAgB,KAAI,KAAK,IAAzB,EAA+B,IAA/B,EAAoC;AAChC,oBAAI,KAAI,CAAR,EACI,QAAQ,IAAR;AACJ,qBAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,KAAK,OAAzB,EAAkC,GAAlC,EAAuC;AACnC,wBAAI,UAAU,KAAK,GAAL,CAAS,EAAT,EAAY,CAAZ,IAAiB,EAA/B;AACA,2BAAO,QAAQ,MAAR,GAAiB,QAAxB,EAAkC;AAC9B,kCAAU,MAAM,OAAhB;AACH;AACD,4BAAQ,OAAR;AACA,wBAAI,IAAK,KAAK,OAAL,GAAe,CAAxB,EAA4B;AACxB,gCAAQ,GAAR;AACH;AACD,4BAAQ,GAAR;AACH;AACD,oBAAI,KAAK,KAAK,IAAL,GAAY,CAArB,EAAyB;AACrB,4BAAQ,IAAR;AACH;AACD,wBAAQ,GAAR;AACA,wBAAQ,GAAR,CAAY,IAAZ;AACH;AACJ;;;;;;AAvEL,QAAA,MAAA,GAAA,MAAA;;;;;;;;;;ACJA;;;;;;;IAMa,O;AAIT,uBAAA;AAAA;;AACI,aAAK,GAAL,GAAW,IAAI,YAAJ,CAAiB,CAAjB,CAAX;AACA,aAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,CAApB,EAAuB,GAAvB;AACI,iBAAK,GAAL,CAAS,CAAT,IAAc,GAAd;AADJ,SAEA,KAAK,IAAL,GAAY,CAAZ;AACH;;;;kCAEa;AACV,mBAAO,KAAK,IAAZ;AACH;;;8BAEY,K,EAAc;AACvB,mBAAO,KAAK,GAAL,CAAS,KAAT,CAAP;AACH;;;+BAEU;AACP,mBAAO,KAAK,GAAL,CAAS,CAAT,CAAP;AACH;;;+BAEU;AACP,mBAAO,KAAK,GAAL,CAAS,CAAT,CAAP;AACH;;;+BAEU;AACP,mBAAO,KAAK,GAAL,CAAS,CAAT,CAAP;AACH;;;+BAEU;AACP,mBAAO,KAAK,GAAL,CAAS,CAAT,CAAP;AACH;;;oCAEe;AACZ,mBAAO,KAAK,GAAL,CAAS,CAAT,CAAP;AACH;;;oCAEe;AACZ,mBAAO,KAAK,GAAL,CAAS,CAAT,CAAP;AACH;;;oCAEe;AACZ,mBAAO,KAAK,GAAL,CAAS,CAAT,CAAP;AACH;;;4BAEU,K,EAAgB,K,EAAgB,K,EAAgB,K,EAAc;AACrE,iBAAK,GAAL,CAAS,CAAT,IAAc,KAAd;AACA,iBAAK,GAAL,CAAS,CAAT,IAAc,KAAd;AACA,iBAAK,GAAL,CAAS,CAAT,IAAc,KAAd;AACA,iBAAK,GAAL,CAAS,CAAT,IAAc,KAAd;AACH;;;8BAEY,K,EAAgB,K,EAAc;AACvC,iBAAK,GAAL,CAAS,KAAT,IAAkB,KAAlB;AACH;;;6BAEW,K,EAAc;AACtB,iBAAK,GAAL,CAAS,CAAT,IAAc,KAAd;AACH;;;6BAEW,K,EAAc;AACtB,iBAAK,GAAL,CAAS,CAAT,IAAc,KAAd;AACH;;;6BAEW,K,EAAc;AACtB,iBAAK,GAAL,CAAS,CAAT,IAAc,KAAd;AACH;;;6BAEW,K,EAAc;AACtB,iBAAK,GAAL,CAAS,CAAT,IAAc,KAAd;AACH;;;kCAEgB,U,EAAmB;AAChC,iBAAK,IAAL,CAAU,UAAV;AACH;;;kCAEgB,U,EAAmB;AAChC,iBAAK,IAAL,CAAU,UAAV;AACH;;;kCAEgB,U,EAAmB;AAChC,iBAAK,IAAL,CAAU,UAAV;AACH;;;gCAEW;AACR,gBAAI,OAAO,GAAX;AACA,iBAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,KAAK,IAAzB,EAA+B,GAA/B,EAAoC;AAChC,wBAAQ,KAAK,GAAL,CAAS,CAAT,CAAR;AACA,oBAAI,IAAK,KAAK,IAAL,GAAY,CAArB,EAAyB;AACrB,4BAAQ,IAAR;AACH;AACJ;AACD,oBAAQ,GAAR;AACA,oBAAQ,GAAR,CAAY,IAAZ;AACH;;;;;;AAhGL,QAAA,OAAA,GAAA,OAAA;;;;;;;;;;;ICDa,Y,GAWT,sBAAmB,MAAnB,EAAoC,QAApC,EAAuD,KAAvD,EAAuE,KAAvE,EAAuF,UAAvF,EAA4G;AAAA;;AACxG,SAAK,EAAL,GAAU,MAAV;AACA,SAAK,IAAL,GAAY,QAAZ;AACA,SAAK,CAAL,GAAS,KAAT;AACA,SAAK,CAAL,GAAS,KAAT;AACA,SAAK,MAAL,GAAc,UAAd;AACA,SAAK,UAAL,GAAkB,EAAlB;AACA,SAAK,QAAL,GAAgB,CAAhB;AACA,SAAK,SAAL,GAAiB,EAAjB;AACA,SAAK,UAAL,GAAkB,EAAlB;AACH,C;;AArBL,QAAA,YAAA,GAAA,YAAA;;IAwBa,Y;AAUT,0BAAmB,YAAnB,EAA0C,cAA1C,EAAmE,YAAnE,EAA0F,aAA1F,EAAgH;AAAA;;AAC5G,aAAK,YAAL,GAAoB,IAAI,KAAJ,EAApB;AACA,aAAK,UAAL,GAAqC,SAAS,cAAT,CAAwB,YAAxB,CAArC;AACA,aAAK,UAAL,CAAgB,KAAhB,GAAwB,OAAO,UAA/B;AACA,aAAK,UAAL,CAAgB,MAAhB,GAAyB,OAAO,WAAhC;AACA,aAAK,eAAL,GAAuB,KAAK,UAAL,CAAgB,KAAvC;AACA,aAAK,gBAAL,GAAwB,KAAK,UAAL,CAAgB,MAAxC;AACA,aAAK,OAAL,GAAe,KAAK,UAAL,CAAgB,UAAhB,CAA2B,IAA3B,CAAf;AACA,aAAK,iBAAL,GAAyB,cAAzB;AACA,aAAK,eAAL,GAAuB,YAAvB;AACA,aAAK,gBAAL,GAAwB,aAAxB;AACH;;;;wCAEsB,S,EAAwB;AAC3C,sBAAU,UAAV,GAAuB,KAAK,iBAA5B;AACA,sBAAU,QAAV,GAAqB,KAAK,eAA1B;AACA,sBAAU,SAAV,GAAsB,KAAK,gBAA3B;AACA,iBAAK,YAAL,CAAkB,IAAlB,CAAuB,SAAvB;AACH;;;gCAEW;AACR,iBAAK,YAAL,GAAoB,EAApB;AACH;;;yCAEoB;AACjB,mBAAO,KAAK,eAAZ;AACH;;;0CAEqB;AAClB,mBAAO,KAAK,gBAAZ;AACH;;;iCAEY;AACT,iBAAK,OAAL,CAAa,SAAb,CAAuB,CAAvB,EAA0B,CAA1B,EAA6B,KAAK,UAAL,CAAgB,KAA7C,EAAoD,KAAK,UAAL,CAAgB,MAApE;AACA,iBAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,KAAK,YAAL,CAAkB,MAAtC,EAA8C,GAA9C,EAAmD;AAC/C,oBAAI,eAAe,KAAK,YAAL,CAAkB,CAAlB,CAAnB;AACA,6BAAa,MAAb;AACA,qBAAK,OAAL,CAAa,IAAb,GAAoB,KAAK,aAAa,QAAlB,GAA6B,KAA7B,GAAqC,aAAa,UAAtE;AACA,qBAAK,OAAL,CAAa,SAAb,GAAyB,aAAa,SAAtC;AACA,qBAAK,OAAL,CAAa,QAAb,CAAsB,aAAa,IAAnC,EAAyC,aAAa,CAAtD,EAAyD,aAAa,CAAtE;AACH;AACJ;;;;;;AAnDL,QAAA,YAAA,GAAA,YAAA;;;;;;;;;;AC7BA,IAAA,oBAAA,QAAA,mBAAA,CAAA;AACA,IAAA,kBAAA,QAAA,uBAAA,CAAA;AACA,IAAA,WAAA,QAAA,gBAAA,CAAA;AACA,IAAA,YAAA,QAAA,iBAAA,CAAA;AAMA,IAAI,iBAAiB;AACjB,gBAAY,YADK;AAEjB,4BAAwB,sBAFP;AAGjB,iBAAa,YAHI;AAIjB,wBAAoB,mBAJH;AAKjB,wBAAoB,kBALH;AAMjB,uBAAmB,iBANF;AAOjB,eAAW,WAPM;AAQjB,kBAAc,CARG;AASjB,uBAAmB,CATF;AAUjB,mCAA+B,CAVd;AAWjB,iBAAa,EAXI;AAYjB,4BAAwB,CAZP;AAajB,+BAA2B,CAbV;AAcjB,2BAAuB;AAdN,CAArB;;IAiBa,2B;AAaT,2CAAA;AAAA;AAAuB;;;;6BAEX,K,EAA6B;AACjC,iBAAK,MAAL,GAAc,IAAI,kBAAA,eAAJ,EAAd;AACA,gBAAI,qBACJ;AACA;AACA;AACA,6BAHA,GAGoB,eAAe,UAHnC,GAGgD,KAHhD,GAIA,iBAJA,GAIoB,eAAe,sBAJnC,GAI4D,KAJ5D,GAKA,qBALA,GAMA,eANA,GAMkB,eAAe,kBANjC,GAMsD,KANtD,GAOA,iBAPA,GAQA,UARA,GAQa,eAAe,sBAR5B,GAQqD,KARrD,GASA,kBATA,GASqB,eAAe,kBATpC,GASyD,KATzD,GASiE,eAAe,UAThF,GAS6F,KAT7F,GAUA,KAXA;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACJ,gBAAI,uBACA,6BACA,qBADA,GAEA,iBAFA,GAGA,oBAHA,GAIA,sCAJA,GAKA,wBALA,GAMA,qBANA,GAOA,gBAPA,GAQA,OARA,GASA,6CATA,GASgD;AAChD,iBAXJ;AAYI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACJ,iBAAK,MAAL,CAAY,IAAZ,CAAiB,KAAjB,EAAwB,kBAAxB,EAA4C,oBAA5C;AAEA;AACA,gBAAI,oBAAoB,IAAI,YAAJ,CAAiB,CACrC,CAAC,GADoC,EAC9B,GAD8B,EACzB,GADyB,EACpB,GADoB,EAErC,CAAC,GAFoC,EAE/B,CAAC,GAF8B,EAEzB,GAFyB,EAEpB,GAFoB,EAGpC,GAHoC,EAG9B,GAH8B,EAGzB,GAHyB,EAGpB,GAHoB,EAIpC,GAJoC,EAI/B,CAAC,GAJ8B,EAIzB,GAJyB,EAIpB,GAJoB,CAAjB,CAAxB;AAOA;AACA,iBAAK,oBAAL,GAA4B,MAAM,YAAN,EAA5B;AAEA;AACA,kBAAM,UAAN,CAAiB,MAAM,YAAvB,EAAqC,KAAK,oBAA1C;AAEA;AACA,kBAAM,UAAN,CAAiB,MAAM,YAAvB,EAAqC,iBAArC,EAAwD,MAAM,WAA9D;AAEA;AACA,iBAAK,uBAAL,GAA+B,EAA/B;AACA,iBAAK,qBAAL,GAA6B,EAA7B;AACA,iBAAK,sBAAL,CAA4B,KAA5B,EAAmC,CAAC,eAAe,UAAhB,EAA4B,eAAe,WAA3C,CAAnC;AACA,iBAAK,oBAAL,CAA0B,KAA1B,EAAiC,CAAC,eAAe,kBAAhB,EAAoC,eAAe,SAAnD,EAA8D,eAAe,kBAA7E,EAAiG,eAAe,iBAAhH,CAAjC;AAEA;AACA,iBAAK,eAAL,GAAuB,IAAI,SAAA,MAAJ,CAAW,CAAX,EAAc,CAAd,CAAvB;AACA,iBAAK,eAAL,GAAuB,IAAI,UAAA,OAAJ,EAAvB;AACA,iBAAK,YAAL,GAAoB,IAAI,UAAA,OAAJ,EAApB;AACA,iBAAK,WAAL,GAAmB,IAAI,UAAA,OAAJ,EAAnB;AACH;;;yCAEyB,K,EACF,W,EACA,Y,EACA,U,EAAkC;AACtD;AACA,gBAAI,qBAAqB,KAAK,MAAL,CAAY,UAAZ,EAAzB;AACA,kBAAM,UAAN,CAAiB,kBAAjB;AAED;AALuD;AAAA;AAAA;;AAAA;AAMvD,qCAAmB,UAAnB,8HAA+B;AAAA,wBAAtB,MAAsB;;AAC1B,yBAAK,oBAAL,CAA0B,KAA1B,EAAiC,WAAjC,EAA8C,YAA9C,EAA4D,MAA5D;AACH;AARqD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASzD;;;+CAE8B,K,EAA+B,sB,EAAsC;AAChG,iBAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,uBAAuB,MAA3C,EAAmD,GAAnD,EAAwD;AACpD,oBAAI,eAAwB,uBAAuB,CAAvB,CAA5B;AACA,oBAAI,WAAoB,MAAM,iBAAN,CAAwB,KAAK,MAAL,CAAY,UAAZ,EAAxB,EAAkD,YAAlD,CAAxB;AACA,qBAAK,uBAAL,CAA6B,YAA7B,IAA6C,QAA7C;AACH;AACJ;;;6CAE4B,K,EAA+B,oB,EAAoC;AAC5F,iBAAK,IAAI,IAAa,CAAtB,EAAyB,IAAI,qBAAqB,MAAlD,EAA0D,GAA1D,EAA+D;AAC3D,oBAAI,eAAwB,qBAAqB,CAArB,CAA5B;AACA,oBAAI,WAAkC,MAAM,kBAAN,CAAyB,KAAK,MAAL,CAAY,UAAZ,EAAzB,EAAmD,YAAnD,CAAtC;AACA;AACA,qBAAK,qBAAL,CAA2B,YAA3B,IAA2C,QAA3C;AACH;AACJ;;;6CAE+B,K,EACR,W,EACA,Y,EACA,M,EAAuB;AAC5C;AACC;AAEA;AACA,gBAAI,cAAuB,GAA3B;AACA,gBAAI,eAAwB,GAA5B;AACA,gBAAI,kBAA2B,OAAO,WAAP,GAAqB,IAArB,KAA+B,cAAY,CAA1E;AACA,gBAAI,kBAA2B,OAAO,WAAP,GAAqB,IAArB,KAA+B,eAAa,CAA3E;AACA,gBAAI,mBAA4B,CAAC,kBAAmB,cAAY,CAAhC,KAAqC,cAAY,CAAjD,CAAhC;AACA,gBAAI,mBAA4B,CAAC,kBAAmB,eAAa,CAAjC,KAAsC,eAAa,CAAnD,CAAhC;AACA,iBAAK,eAAL,CAAqB,IAArB,CAA0B,gBAA1B;AACA,iBAAK,eAAL,CAAqB,IAArB,CAA0B,CAAC,gBAA3B;AAEA;AACA,gBAAI,eAAwB,cAAY,CAAxC;AACA,gBAAI,gBAAyB,eAAa,CAA1C;AACA,gBAAI,SAAkB,MAAI,YAA1B;AACA,gBAAI,SAAkB,MAAI,aAA1B;AACA,iBAAK,WAAL,CAAiB,IAAjB,CAAsB,MAAtB;AACA,iBAAK,WAAL,CAAiB,IAAjB,CAAsB,MAAtB;AAEA;AACA,4BAAA,aAAA,CAAc,QAAd,CAAuB,KAAK,eAA5B;AACA,4BAAA,aAAA,CAAc,KAAd,CAAoB,KAAK,eAAzB,EAA0C,KAAK,eAA/C,EAAgE,KAAK,YAArE,EAAmF,KAAK,WAAxF;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACL;AACI;AAEC;AACA,gBAAI,qBAA8B,KAAK,uBAAL,CAA6B,eAAe,UAA5C,CAAlC;AACA,kBAAM,mBAAN,CAA0B,kBAA1B,EAA8C,eAAe,6BAA7D,EAA4F,MAAM,KAAlG,EAAyG,KAAzG,EAAgH,eAAe,WAA/H,EAA4I,eAAe,sBAA3J;AACA,kBAAM,uBAAN,CAA8B,kBAA9B;AACF;AACC;AACA;AAEC;AACA,gBAAI,4BAAmD,KAAK,qBAAL,CAA2B,eAAe,kBAA1C,CAAvD;AACA,kBAAM,gBAAN,CAAuB,yBAAvB,EAAkD,KAAlD,EAAyD,KAAK,eAAL,CAAqB,OAArB,EAAzD;AACF;AACE;AACJ;AACA;AACA;AACA;AAEI;AACA,kBAAM,UAAN,CAAiB,MAAM,cAAvB,EAAuC,eAAe,qBAAtD,EAA6E,eAAe,YAA5F;AACH;;;;;;AAxLL,QAAA,2BAAA,GAAA,2BAAA;;;;;;;;;;AC1BA,IAAA,oBAAA,QAAA,mBAAA,CAAA;AACA,IAAA,kBAAA,QAAA,uBAAA,CAAA;AACA,IAAA,WAAA,QAAA,gBAAA,CAAA;AACA,IAAA,YAAA,QAAA,iBAAA,CAAA;AAMA,IAAI,iBAAiB;AACjB,gBAAY,YADK;AAEjB,4BAAwB,sBAFP;AAGjB,iBAAa,YAHI;AAIjB,wBAAoB,mBAJH;AAKjB,wBAAoB,kBALH;AAMjB,uBAAmB,iBANF;AAOjB,eAAW,WAPM;AAQjB,kBAAc,CARG;AASjB,uBAAmB,CATF;AAUjB,mCAA+B,CAVd;AAWjB,iBAAa,EAXI;AAYjB,4BAAwB,CAZP;AAajB,+BAA2B,CAbV;AAcjB,2BAAuB;AAdN,CAArB;;IAiBa,uB;AAaT,uCAAA;AAAA;AAAuB;;;;6BAEX,K,EAA6B;AACjC,iBAAK,MAAL,GAAc,IAAI,kBAAA,eAAJ,EAAd;AACA,gBAAI,qBACJ;AACA;AACA;AACA,6BAHA,GAGoB,eAAe,UAHnC,GAGgD,KAHhD,GAIA,iBAJA,GAIoB,eAAe,sBAJnC,GAI4D,KAJ5D,GAKA,qBALA,GAMA,eANA,GAMkB,eAAe,kBANjC,GAMsD,KANtD,GAOA,iBAPA,GAQA,UARA,GAQa,eAAe,sBAR5B,GAQqD,KARrD,GASA,kBATA,GASqB,eAAe,kBATpC,GASyD,KATzD,GASiE,eAAe,UAThF,GAS6F,KAT7F,GAUA,KAXA;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACJ,gBAAI,uBACA,6BACA,qBADA,GAEA,iBAFA,GAGA,oBAHA,GAIA,sCAJA,GAKA,wBALA,GAMA,qBANA,GAOA,gBAPA,GAQA,OARA,GASA,gDATA,GASmD;AACnD,iBAXJ;AAYI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACJ,iBAAK,MAAL,CAAY,IAAZ,CAAiB,KAAjB,EAAwB,kBAAxB,EAA4C,oBAA5C;AAEA;AACA,gBAAI,oBAAoB,IAAI,YAAJ,CAAiB,CACrC,CAAC,GADoC,EAC9B,GAD8B,EACzB,GADyB,EACpB,GADoB,EAErC,CAAC,GAFoC,EAE/B,CAAC,GAF8B,EAEzB,GAFyB,EAEpB,GAFoB,EAGpC,GAHoC,EAG9B,GAH8B,EAGzB,GAHyB,EAGpB,GAHoB,EAIpC,GAJoC,EAI/B,CAAC,GAJ8B,EAIzB,GAJyB,EAIpB,GAJoB,CAAjB,CAAxB;AAOA;AACA,iBAAK,oBAAL,GAA4B,MAAM,YAAN,EAA5B;AAEA;AACA,kBAAM,UAAN,CAAiB,MAAM,YAAvB,EAAqC,KAAK,oBAA1C;AAEA;AACA,kBAAM,UAAN,CAAiB,MAAM,YAAvB,EAAqC,iBAArC,EAAwD,MAAM,WAA9D;AAEA;AACA,iBAAK,uBAAL,GAA+B,EAA/B;AACA,iBAAK,qBAAL,GAA6B,EAA7B;AACA,iBAAK,sBAAL,CAA4B,KAA5B,EAAmC,CAAC,eAAe,UAAhB,EAA4B,eAAe,WAA3C,CAAnC;AACA,iBAAK,oBAAL,CAA0B,KAA1B,EAAiC,CAAC,eAAe,kBAAhB,EAAoC,eAAe,SAAnD,EAA8D,eAAe,kBAA7E,EAAiG,eAAe,iBAAhH,CAAjC;AAEA;AACA,iBAAK,eAAL,GAAuB,IAAI,SAAA,MAAJ,CAAW,CAAX,EAAc,CAAd,CAAvB;AACA,iBAAK,eAAL,GAAuB,IAAI,UAAA,OAAJ,EAAvB;AACA,iBAAK,YAAL,GAAoB,IAAI,UAAA,OAAJ,EAApB;AACA,iBAAK,WAAL,GAAmB,IAAI,UAAA,OAAJ,EAAnB;AACH;;;8CAE8B,K,EACP,W,EACA,Y,EACA,U,EAAkC;AACtD;AACA,gBAAI,qBAAqB,KAAK,MAAL,CAAY,UAAZ,EAAzB;AACA,kBAAM,UAAN,CAAiB,kBAAjB;AAED;AALuD;AAAA;AAAA;;AAAA;AAMvD,qCAAmB,UAAnB,8HAA+B;AAAA,wBAAtB,MAAsB;;AAC1B,yBAAK,oBAAL,CAA0B,KAA1B,EAAiC,WAAjC,EAA8C,YAA9C,EAA4D,MAA5D;AACH;AARqD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASzD;;;+CAE8B,K,EAA+B,sB,EAAsC;AAChG,iBAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,uBAAuB,MAA3C,EAAmD,GAAnD,EAAwD;AACpD,oBAAI,eAAwB,uBAAuB,CAAvB,CAA5B;AACA,oBAAI,WAAoB,MAAM,iBAAN,CAAwB,KAAK,MAAL,CAAY,UAAZ,EAAxB,EAAkD,YAAlD,CAAxB;AACA,qBAAK,uBAAL,CAA6B,YAA7B,IAA6C,QAA7C;AACH;AACJ;;;6CAE4B,K,EAA+B,oB,EAAoC;AAC5F,iBAAK,IAAI,IAAa,CAAtB,EAAyB,IAAI,qBAAqB,MAAlD,EAA0D,GAA1D,EAA+D;AAC3D,oBAAI,eAAwB,qBAAqB,CAArB,CAA5B;AACA,oBAAI,WAAkC,MAAM,kBAAN,CAAyB,KAAK,MAAL,CAAY,UAAZ,EAAzB,EAAmD,YAAnD,CAAtC;AACA;AACA,qBAAK,qBAAL,CAA2B,YAA3B,IAA2C,QAA3C;AACH;AACJ;;;6CAE+B,K,EACR,W,EACA,Y,EACA,M,EAAuB;AAC5C;AACC;AAEA;AACA,gBAAI,cAAuB,GAA3B;AACA,gBAAI,eAAwB,GAA5B;AACA,gBAAI,kBAA2B,OAAO,WAAP,GAAqB,IAArB,KAA+B,cAAY,CAA1E;AACA,gBAAI,kBAA2B,OAAO,WAAP,GAAqB,IAArB,KAA+B,eAAa,CAA3E;AACA,gBAAI,mBAA4B,CAAC,kBAAmB,cAAY,CAAhC,KAAqC,cAAY,CAAjD,CAAhC;AACA,gBAAI,mBAA4B,CAAC,kBAAmB,eAAa,CAAjC,KAAsC,eAAa,CAAnD,CAAhC;AACA,iBAAK,eAAL,CAAqB,IAArB,CAA0B,gBAA1B;AACA,iBAAK,eAAL,CAAqB,IAArB,CAA0B,CAAC,gBAA3B;AAEA;AACA,gBAAI,eAAwB,cAAY,CAAxC;AACA,gBAAI,gBAAyB,eAAa,CAA1C;AACA,gBAAI,SAAkB,MAAI,YAA1B;AACA,gBAAI,SAAkB,MAAI,aAA1B;AACA,iBAAK,WAAL,CAAiB,IAAjB,CAAsB,MAAtB;AACA,iBAAK,WAAL,CAAiB,IAAjB,CAAsB,MAAtB;AAEA;AACA,4BAAA,aAAA,CAAc,QAAd,CAAuB,KAAK,eAA5B;AACA,4BAAA,aAAA,CAAc,KAAd,CAAoB,KAAK,eAAzB,EAA0C,KAAK,eAA/C,EAAgE,KAAK,YAArE,EAAmF,KAAK,WAAxF;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACL;AACI;AAEC;AACA,gBAAI,qBAA8B,KAAK,uBAAL,CAA6B,eAAe,UAA5C,CAAlC;AACA,kBAAM,mBAAN,CAA0B,kBAA1B,EAA8C,eAAe,6BAA7D,EAA4F,MAAM,KAAlG,EAAyG,KAAzG,EAAgH,eAAe,WAA/H,EAA4I,eAAe,sBAA3J;AACA,kBAAM,uBAAN,CAA8B,kBAA9B;AACF;AACC;AACA;AAEC;AACA,gBAAI,4BAAmD,KAAK,qBAAL,CAA2B,eAAe,kBAA1C,CAAvD;AACA,kBAAM,gBAAN,CAAuB,yBAAvB,EAAkD,KAAlD,EAAyD,KAAK,eAAL,CAAqB,OAArB,EAAzD;AACF;AACE;AACJ;AACA;AACA;AACA;AAEI;AACA,kBAAM,UAAN,CAAiB,MAAM,cAAvB,EAAuC,eAAe,qBAAtD,EAA6E,eAAe,YAA5F;AACH;;;;;;AAxLL,QAAA,uBAAA,GAAA,uBAAA;;;;;;;;;;AC1BA,IAAA,oBAAA,QAAA,mBAAA,CAAA;AACA,IAAA,kBAAA,QAAA,uBAAA,CAAA;AACA,IAAA,WAAA,QAAA,gBAAA,CAAA;AACA,IAAA,YAAA,QAAA,iBAAA,CAAA;AAMA,IAAI,iBAAiB;AACjB,gBAAY,YADK;AAEjB,4BAAwB,sBAFP;AAGjB,iBAAa,YAHI;AAIjB,wBAAoB,mBAJH;AAKjB,wBAAoB,kBALH;AAMjB,uBAAmB,iBANF;AAOjB,eAAW,WAPM;AAQjB,kBAAc,CARG;AASjB,uBAAmB,CATF;AAUjB,mCAA+B,CAVd;AAWjB,iBAAa,EAXI;AAYjB,4BAAwB,CAZP;AAajB,+BAA2B,CAbV;AAcjB,2BAAuB;AAdN,CAArB;;IAiBa,2B;AAaT,2CAAA;AAAA;AAAuB;;;;6BAEX,K,EAA6B;AACjC,iBAAK,MAAL,GAAc,IAAI,kBAAA,eAAJ,EAAd;AACA,gBAAI,qBACJ;AACA;AACA;AACA,6BAHA,GAGoB,eAAe,UAHnC,GAGgD,KAHhD,GAIA,iBAJA,GAIoB,eAAe,sBAJnC,GAI4D,KAJ5D,GAKA,qBALA,GAMA,eANA,GAMkB,eAAe,kBANjC,GAMsD,KANtD,GAOA,iBAPA,GAQA,UARA,GAQa,eAAe,sBAR5B,GAQqD,KARrD,GASA,kBATA,GASqB,eAAe,kBATpC,GASyD,KATzD,GASiE,eAAe,UAThF,GAS6F,KAT7F,GAUA,KAXA;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACJ,gBAAI,uBACA,6BACA,qBADA,GAEA,iBAFA,GAGA,oBAHA,GAIA,sCAJA,GAKA,wBALA,GAMA,qBANA,GAOA,gBAPA,GAQA,OARA,GASA,gDATA,GASmD;AACnD,iBAXJ;AAYI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACJ,iBAAK,MAAL,CAAY,IAAZ,CAAiB,KAAjB,EAAwB,kBAAxB,EAA4C,oBAA5C;AAEA;AACA,gBAAI,oBAAoB,IAAI,YAAJ,CAAiB,CACrC,CAAC,GADoC,EAC9B,GAD8B,EACzB,GADyB,EACpB,GADoB,EAErC,CAAC,GAFoC,EAE/B,CAAC,GAF8B,EAEzB,GAFyB,EAEpB,GAFoB,EAGpC,GAHoC,EAG9B,GAH8B,EAGzB,GAHyB,EAGpB,GAHoB,EAIpC,GAJoC,EAI/B,CAAC,GAJ8B,EAIzB,GAJyB,EAIpB,GAJoB,CAAjB,CAAxB;AAOA;AACA,iBAAK,oBAAL,GAA4B,MAAM,YAAN,EAA5B;AAEA;AACA,kBAAM,UAAN,CAAiB,MAAM,YAAvB,EAAqC,KAAK,oBAA1C;AAEA;AACA,kBAAM,UAAN,CAAiB,MAAM,YAAvB,EAAqC,iBAArC,EAAwD,MAAM,WAA9D;AAEA;AACA,iBAAK,uBAAL,GAA+B,EAA/B;AACA,iBAAK,qBAAL,GAA6B,EAA7B;AACA,iBAAK,sBAAL,CAA4B,KAA5B,EAAmC,CAAC,eAAe,UAAhB,EAA4B,eAAe,WAA3C,CAAnC;AACA,iBAAK,oBAAL,CAA0B,KAA1B,EAAiC,CAAC,eAAe,kBAAhB,EAAoC,eAAe,SAAnD,EAA8D,eAAe,kBAA7E,EAAiG,eAAe,iBAAhH,CAAjC;AAEA;AACA,iBAAK,eAAL,GAAuB,IAAI,SAAA,MAAJ,CAAW,CAAX,EAAc,CAAd,CAAvB;AACA,iBAAK,eAAL,GAAuB,IAAI,UAAA,OAAJ,EAAvB;AACA,iBAAK,YAAL,GAAoB,IAAI,UAAA,OAAJ,EAApB;AACA,iBAAK,WAAL,GAAmB,IAAI,UAAA,OAAJ,EAAnB;AACH;;;yCAEyB,K,EACF,W,EACA,Y,EACA,U,EAAkC;AACtD;AACA,gBAAI,qBAAqB,KAAK,MAAL,CAAY,UAAZ,EAAzB;AACA,kBAAM,UAAN,CAAiB,kBAAjB;AAED;AALuD;AAAA;AAAA;;AAAA;AAMvD,qCAAmB,UAAnB,8HAA+B;AAAA,wBAAtB,MAAsB;;AAC1B,yBAAK,oBAAL,CAA0B,KAA1B,EAAiC,WAAjC,EAA8C,YAA9C,EAA4D,MAA5D;AACH;AARqD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASzD;;;+CAE8B,K,EAA+B,sB,EAAsC;AAChG,iBAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,uBAAuB,MAA3C,EAAmD,GAAnD,EAAwD;AACpD,oBAAI,eAAwB,uBAAuB,CAAvB,CAA5B;AACA,oBAAI,WAAoB,MAAM,iBAAN,CAAwB,KAAK,MAAL,CAAY,UAAZ,EAAxB,EAAkD,YAAlD,CAAxB;AACA,qBAAK,uBAAL,CAA6B,YAA7B,IAA6C,QAA7C;AACH;AACJ;;;6CAE4B,K,EAA+B,oB,EAAoC;AAC5F,iBAAK,IAAI,IAAa,CAAtB,EAAyB,IAAI,qBAAqB,MAAlD,EAA0D,GAA1D,EAA+D;AAC3D,oBAAI,eAAwB,qBAAqB,CAArB,CAA5B;AACA,oBAAI,WAAkC,MAAM,kBAAN,CAAyB,KAAK,MAAL,CAAY,UAAZ,EAAzB,EAAmD,YAAnD,CAAtC;AACA;AACA,qBAAK,qBAAL,CAA2B,YAA3B,IAA2C,QAA3C;AACH;AACJ;;;6CAE+B,K,EACR,W,EACA,Y,EACA,M,EAAuB;AAC5C;AACC;AAEA;AACA,gBAAI,cAAuB,GAA3B;AACA,gBAAI,eAAwB,GAA5B;AACA,gBAAI,kBAA2B,OAAO,WAAP,GAAqB,IAArB,KAA+B,cAAY,CAA1E;AACA,gBAAI,kBAA2B,OAAO,WAAP,GAAqB,IAArB,KAA+B,eAAa,CAA3E;AACA,gBAAI,mBAA4B,CAAC,kBAAmB,cAAY,CAAhC,KAAqC,cAAY,CAAjD,CAAhC;AACA,gBAAI,mBAA4B,CAAC,kBAAmB,eAAa,CAAjC,KAAsC,eAAa,CAAnD,CAAhC;AACA,iBAAK,eAAL,CAAqB,IAArB,CAA0B,gBAA1B;AACA,iBAAK,eAAL,CAAqB,IAArB,CAA0B,CAAC,gBAA3B;AAEA;AACA,gBAAI,eAAwB,cAAY,CAAxC;AACA,gBAAI,gBAAyB,eAAa,CAA1C;AACA,gBAAI,SAAkB,MAAI,YAA1B;AACA,gBAAI,SAAkB,MAAI,aAA1B;AACA,iBAAK,WAAL,CAAiB,IAAjB,CAAsB,MAAtB;AACA,iBAAK,WAAL,CAAiB,IAAjB,CAAsB,MAAtB;AAEA;AACA,4BAAA,aAAA,CAAc,QAAd,CAAuB,KAAK,eAA5B;AACA,4BAAA,aAAA,CAAc,KAAd,CAAoB,KAAK,eAAzB,EAA0C,KAAK,eAA/C,EAAgE,KAAK,YAArE,EAAmF,KAAK,WAAxF;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACL;AACI;AAEC;AACA,gBAAI,qBAA8B,KAAK,uBAAL,CAA6B,eAAe,UAA5C,CAAlC;AACA,kBAAM,mBAAN,CAA0B,kBAA1B,EAA8C,eAAe,6BAA7D,EAA4F,MAAM,KAAlG,EAAyG,KAAzG,EAAgH,eAAe,WAA/H,EAA4I,eAAe,sBAA3J;AACA,kBAAM,uBAAN,CAA8B,kBAA9B;AACF;AACC;AACA;AAEC;AACA,gBAAI,4BAAmD,KAAK,qBAAL,CAA2B,eAAe,kBAA1C,CAAvD;AACA,kBAAM,gBAAN,CAAuB,yBAAvB,EAAkD,KAAlD,EAAyD,KAAK,eAAL,CAAqB,OAArB,EAAzD;AACF;AACE;AACJ;AACA;AACA;AACA;AAEI;AACA,kBAAM,UAAN,CAAiB,MAAM,cAAvB,EAAuC,eAAe,qBAAtD,EAA6E,eAAe,YAA5F;AACH;;;;;;AAxLL,QAAA,2BAAA,GAAA,2BAAA;;;;;;;;;;AC1BA,IAAA,oBAAA,QAAA,mBAAA,CAAA;AACA,IAAA,kBAAA,QAAA,uBAAA,CAAA;AACA,IAAA,WAAA,QAAA,gBAAA,CAAA;AACA,IAAA,YAAA,QAAA,iBAAA,CAAA;AAMA,IAAI,iBAAiB;AACjB,gBAAY,YADK;AAEjB,4BAAwB,sBAFP;AAGjB,iBAAa,YAHI;AAIjB,wBAAoB,mBAJH;AAKjB,wBAAoB,kBALH;AAMjB,uBAAmB,iBANF;AAOjB,eAAW,WAPM;AAQjB,kBAAc,CARG;AASjB,uBAAmB,CATF;AAUjB,mCAA+B,CAVd;AAWjB,iBAAa,EAXI;AAYjB,4BAAwB,CAZP;AAajB,+BAA2B,CAbV;AAcjB,2BAAuB;AAdN,CAArB;;IAiBa,4B;AAaT,4CAAA;AAAA;AAAuB;;;;6BAEX,K,EAA6B;AACjC,iBAAK,MAAL,GAAc,IAAI,kBAAA,eAAJ,EAAd;AACA,gBAAI,qBACJ;AACA;AACA;AACA,6BAHA,GAGoB,eAAe,UAHnC,GAGgD,KAHhD,GAIA,iBAJA,GAIoB,eAAe,sBAJnC,GAI4D,KAJ5D,GAKA,qBALA,GAMA,eANA,GAMkB,eAAe,kBANjC,GAMsD,KANtD,GAOA,iBAPA,GAQA,UARA,GAQa,eAAe,sBAR5B,GAQqD,KARrD,GASA,kBATA,GASqB,eAAe,kBATpC,GASyD,KATzD,GASiE,eAAe,UAThF,GAS6F,KAT7F,GAUA,KAXA;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACJ,gBAAI,uBACA,6BACA,qBADA,GAEA,iBAFA,GAGA,oBAHA,GAIA,sCAJA,GAKA,wBALA,GAMA,qBANA,GAOA,gBAPA,GAQA,OARA,GASA,6CATA,GASgD;AAChD,iBAXJ;AAYI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACJ,iBAAK,MAAL,CAAY,IAAZ,CAAiB,KAAjB,EAAwB,kBAAxB,EAA4C,oBAA5C;AAEA;AACA,gBAAI,oBAAoB,IAAI,YAAJ,CAAiB,CACrC,CAAC,GADoC,EAC9B,GAD8B,EACzB,GADyB,EACpB,GADoB,EAErC,CAAC,GAFoC,EAE/B,CAAC,GAF8B,EAEzB,GAFyB,EAEpB,GAFoB,EAGpC,GAHoC,EAG9B,GAH8B,EAGzB,GAHyB,EAGpB,GAHoB,EAIpC,GAJoC,EAI/B,CAAC,GAJ8B,EAIzB,GAJyB,EAIpB,GAJoB,CAAjB,CAAxB;AAOA;AACA,iBAAK,oBAAL,GAA4B,MAAM,YAAN,EAA5B;AAEA;AACA,kBAAM,UAAN,CAAiB,MAAM,YAAvB,EAAqC,KAAK,oBAA1C;AAEA;AACA,kBAAM,UAAN,CAAiB,MAAM,YAAvB,EAAqC,iBAArC,EAAwD,MAAM,WAA9D;AAEA;AACA,iBAAK,uBAAL,GAA+B,EAA/B;AACA,iBAAK,qBAAL,GAA6B,EAA7B;AACA,iBAAK,sBAAL,CAA4B,KAA5B,EAAmC,CAAC,eAAe,UAAhB,EAA4B,eAAe,WAA3C,CAAnC;AACA,iBAAK,oBAAL,CAA0B,KAA1B,EAAiC,CAAC,eAAe,kBAAhB,EAAoC,eAAe,SAAnD,EAA8D,eAAe,kBAA7E,EAAiG,eAAe,iBAAhH,CAAjC;AAEA;AACA,iBAAK,eAAL,GAAuB,IAAI,SAAA,MAAJ,CAAW,CAAX,EAAc,CAAd,CAAvB;AACA,iBAAK,eAAL,GAAuB,IAAI,UAAA,OAAJ,EAAvB;AACA,iBAAK,YAAL,GAAoB,IAAI,UAAA,OAAJ,EAApB;AACA,iBAAK,WAAL,GAAmB,IAAI,UAAA,OAAJ,EAAnB;AACH;;;yCAEyB,K,EACF,W,EACA,Y,EACA,U,EAAkC;AACtD;AACA,gBAAI,qBAAqB,KAAK,MAAL,CAAY,UAAZ,EAAzB;AACA,kBAAM,UAAN,CAAiB,kBAAjB;AAED;AALuD;AAAA;AAAA;;AAAA;AAMvD,qCAAmB,UAAnB,8HAA+B;AAAA,wBAAtB,MAAsB;;AAC1B,yBAAK,oBAAL,CAA0B,KAA1B,EAAiC,WAAjC,EAA8C,YAA9C,EAA4D,MAA5D;AACH;AARqD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASzD;;;+CAE8B,K,EAA+B,sB,EAAsC;AAChG,iBAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,uBAAuB,MAA3C,EAAmD,GAAnD,EAAwD;AACpD,oBAAI,eAAwB,uBAAuB,CAAvB,CAA5B;AACA,oBAAI,WAAoB,MAAM,iBAAN,CAAwB,KAAK,MAAL,CAAY,UAAZ,EAAxB,EAAkD,YAAlD,CAAxB;AACA,qBAAK,uBAAL,CAA6B,YAA7B,IAA6C,QAA7C;AACH;AACJ;;;6CAE4B,K,EAA+B,oB,EAAoC;AAC5F,iBAAK,IAAI,IAAa,CAAtB,EAAyB,IAAI,qBAAqB,MAAlD,EAA0D,GAA1D,EAA+D;AAC3D,oBAAI,eAAwB,qBAAqB,CAArB,CAA5B;AACA,oBAAI,WAAkC,MAAM,kBAAN,CAAyB,KAAK,MAAL,CAAY,UAAZ,EAAzB,EAAmD,YAAnD,CAAtC;AACA;AACA,qBAAK,qBAAL,CAA2B,YAA3B,IAA2C,QAA3C;AACH;AACJ;;;6CAE+B,K,EACR,W,EACA,Y,EACA,M,EAAuB;AAC5C;AACC;AAEA;AACA,gBAAI,cAAuB,GAA3B;AACA,gBAAI,eAAwB,GAA5B;AACA,gBAAI,kBAA2B,OAAO,WAAP,GAAqB,IAArB,KAA+B,cAAY,CAA1E;AACA,gBAAI,kBAA2B,OAAO,WAAP,GAAqB,IAArB,KAA+B,eAAa,CAA3E;AACA,gBAAI,mBAA4B,CAAC,kBAAmB,cAAY,CAAhC,KAAqC,cAAY,CAAjD,CAAhC;AACA,gBAAI,mBAA4B,CAAC,kBAAmB,eAAa,CAAjC,KAAsC,eAAa,CAAnD,CAAhC;AACA,iBAAK,eAAL,CAAqB,IAArB,CAA0B,gBAA1B;AACA,iBAAK,eAAL,CAAqB,IAArB,CAA0B,CAAC,gBAA3B;AAEA;AACA,gBAAI,eAAwB,cAAY,CAAxC;AACA,gBAAI,gBAAyB,eAAa,CAA1C;AACA,gBAAI,SAAkB,MAAI,YAA1B;AACA,gBAAI,SAAkB,MAAI,aAA1B;AACA,iBAAK,WAAL,CAAiB,IAAjB,CAAsB,MAAtB;AACA,iBAAK,WAAL,CAAiB,IAAjB,CAAsB,MAAtB;AAEA;AACA,4BAAA,aAAA,CAAc,QAAd,CAAuB,KAAK,eAA5B;AACA,4BAAA,aAAA,CAAc,KAAd,CAAoB,KAAK,eAAzB,EAA0C,KAAK,eAA/C,EAAgE,KAAK,YAArE,EAAmF,KAAK,WAAxF;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACL;AACI;AAEC;AACA,gBAAI,qBAA8B,KAAK,uBAAL,CAA6B,eAAe,UAA5C,CAAlC;AACA,kBAAM,mBAAN,CAA0B,kBAA1B,EAA8C,eAAe,6BAA7D,EAA4F,MAAM,KAAlG,EAAyG,KAAzG,EAAgH,eAAe,WAA/H,EAA4I,eAAe,sBAA3J;AACA,kBAAM,uBAAN,CAA8B,kBAA9B;AACF;AACC;AACA;AAEC;AACA,gBAAI,4BAAmD,KAAK,qBAAL,CAA2B,eAAe,kBAA1C,CAAvD;AACA,kBAAM,gBAAN,CAAuB,yBAAvB,EAAkD,KAAlD,EAAyD,KAAK,eAAL,CAAqB,OAArB,EAAzD;AACF;AACE;AACJ;AACA;AACA;AACA;AAEI;AACA,kBAAM,UAAN,CAAiB,MAAM,cAAvB,EAAuC,eAAe,qBAAtD,EAA6E,eAAe,YAA5F;AACH;;;;;;AAxLL,QAAA,4BAAA,GAAA,4BAAA;;;;;;;;;;AC1BA,IAAA,oBAAA,QAAA,mBAAA,CAAA;AACA,IAAA,kBAAA,QAAA,uBAAA,CAAA;AACA,IAAA,WAAA,QAAA,gBAAA,CAAA;AACA,IAAA,YAAA,QAAA,iBAAA,CAAA;AAMA,IAAI,iBAAiB;AACjB,gBAAY,YADK;AAEjB,4BAAwB,sBAFP;AAGjB,iBAAa,YAHI;AAIjB,wBAAoB,mBAJH;AAKjB,wBAAoB,kBALH;AAMjB,uBAAmB,iBANF;AAOjB,eAAW,WAPM;AAQjB,kBAAc,CARG;AASjB,uBAAmB,CATF;AAUjB,mCAA+B,CAVd;AAWjB,iBAAa,EAXI;AAYjB,4BAAwB,CAZP;AAajB,+BAA2B,CAbV;AAcjB,2BAAuB;AAdN,CAArB;;IAiBa,8B;AAaT,8CAAA;AAAA;AAAuB;;;;6BAEX,K,EAA6B;AACjC,iBAAK,MAAL,GAAc,IAAI,kBAAA,eAAJ,EAAd;AACA,gBAAI,qBACJ;AACA;AACA;AACA,6BAHA,GAGoB,eAAe,UAHnC,GAGgD,KAHhD,GAIA,iBAJA,GAIoB,eAAe,sBAJnC,GAI4D,KAJ5D,GAKA,qBALA,GAMA,eANA,GAMkB,eAAe,kBANjC,GAMsD,KANtD,GAOA,iBAPA,GAQA,UARA,GAQa,eAAe,sBAR5B,GAQqD,KARrD,GASA,kBATA,GASqB,eAAe,kBATpC,GASyD,KATzD,GASiE,eAAe,UAThF,GAS6F,KAT7F,GAUA,KAXA;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACJ,gBAAI,uBACA,6BACA,qBADA,GAEA,iBAFA,GAGA,oBAHA,GAIA,sCAJA,GAKA,wBALA,GAMA,qBANA,GAOA,gBAPA,GAQA,OARA,GASA,gDATA,GASmD;AACnD,iBAXJ;AAYI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACJ,iBAAK,MAAL,CAAY,IAAZ,CAAiB,KAAjB,EAAwB,kBAAxB,EAA4C,oBAA5C;AAEA;AACA,gBAAI,oBAAoB,IAAI,YAAJ,CAAiB,CACrC,CAAC,GADoC,EAC9B,GAD8B,EACzB,GADyB,EACpB,GADoB,EAErC,CAAC,GAFoC,EAE/B,CAAC,GAF8B,EAEzB,GAFyB,EAEpB,GAFoB,EAGpC,GAHoC,EAG9B,GAH8B,EAGzB,GAHyB,EAGpB,GAHoB,EAIpC,GAJoC,EAI/B,CAAC,GAJ8B,EAIzB,GAJyB,EAIpB,GAJoB,CAAjB,CAAxB;AAOA;AACA,iBAAK,oBAAL,GAA4B,MAAM,YAAN,EAA5B;AAEA;AACA,kBAAM,UAAN,CAAiB,MAAM,YAAvB,EAAqC,KAAK,oBAA1C;AAEA;AACA,kBAAM,UAAN,CAAiB,MAAM,YAAvB,EAAqC,iBAArC,EAAwD,MAAM,WAA9D;AAEA;AACA,iBAAK,uBAAL,GAA+B,EAA/B;AACA,iBAAK,qBAAL,GAA6B,EAA7B;AACA,iBAAK,sBAAL,CAA4B,KAA5B,EAAmC,CAAC,eAAe,UAAhB,EAA4B,eAAe,WAA3C,CAAnC;AACA,iBAAK,oBAAL,CAA0B,KAA1B,EAAiC,CAAC,eAAe,kBAAhB,EAAoC,eAAe,SAAnD,EAA8D,eAAe,kBAA7E,EAAiG,eAAe,iBAAhH,CAAjC;AAEA;AACA,iBAAK,eAAL,GAAuB,IAAI,SAAA,MAAJ,CAAW,CAAX,EAAc,CAAd,CAAvB;AACA,iBAAK,eAAL,GAAuB,IAAI,UAAA,OAAJ,EAAvB;AACA,iBAAK,YAAL,GAAoB,IAAI,UAAA,OAAJ,EAApB;AACA,iBAAK,WAAL,GAAmB,IAAI,UAAA,OAAJ,EAAnB;AACH;;;yCAEyB,K,EACF,W,EACA,Y,EACA,U,EAAkC;AACtD;AACA,gBAAI,qBAAqB,KAAK,MAAL,CAAY,UAAZ,EAAzB;AACA,kBAAM,UAAN,CAAiB,kBAAjB;AAED;AALuD;AAAA;AAAA;;AAAA;AAMvD,qCAAmB,UAAnB,8HAA+B;AAAA,wBAAtB,MAAsB;;AAC1B,yBAAK,oBAAL,CAA0B,KAA1B,EAAiC,WAAjC,EAA8C,YAA9C,EAA4D,MAA5D;AACH;AARqD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASzD;;;+CAE8B,K,EAA+B,sB,EAAsC;AAChG,iBAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,uBAAuB,MAA3C,EAAmD,GAAnD,EAAwD;AACpD,oBAAI,eAAwB,uBAAuB,CAAvB,CAA5B;AACA,oBAAI,WAAoB,MAAM,iBAAN,CAAwB,KAAK,MAAL,CAAY,UAAZ,EAAxB,EAAkD,YAAlD,CAAxB;AACA,qBAAK,uBAAL,CAA6B,YAA7B,IAA6C,QAA7C;AACH;AACJ;;;6CAE4B,K,EAA+B,oB,EAAoC;AAC5F,iBAAK,IAAI,IAAa,CAAtB,EAAyB,IAAI,qBAAqB,MAAlD,EAA0D,GAA1D,EAA+D;AAC3D,oBAAI,eAAwB,qBAAqB,CAArB,CAA5B;AACA,oBAAI,WAAkC,MAAM,kBAAN,CAAyB,KAAK,MAAL,CAAY,UAAZ,EAAzB,EAAmD,YAAnD,CAAtC;AACA;AACA,qBAAK,qBAAL,CAA2B,YAA3B,IAA2C,QAA3C;AACH;AACJ;;;6CAE+B,K,EACR,W,EACA,Y,EACA,M,EAAuB;AAC5C;AACC;AAEA;AACA,gBAAI,cAAuB,GAA3B;AACA,gBAAI,eAAwB,GAA5B;AACA,gBAAI,kBAA2B,OAAO,WAAP,GAAqB,IAArB,KAA+B,cAAY,CAA1E;AACA,gBAAI,kBAA2B,OAAO,WAAP,GAAqB,IAArB,KAA+B,eAAa,CAA3E;AACA,gBAAI,mBAA4B,CAAC,kBAAmB,cAAY,CAAhC,KAAqC,cAAY,CAAjD,CAAhC;AACA,gBAAI,mBAA4B,CAAC,kBAAmB,eAAa,CAAjC,KAAsC,eAAa,CAAnD,CAAhC;AACA,iBAAK,eAAL,CAAqB,IAArB,CAA0B,gBAA1B;AACA,iBAAK,eAAL,CAAqB,IAArB,CAA0B,CAAC,gBAA3B;AAEA;AACA,gBAAI,eAAwB,cAAY,CAAxC;AACA,gBAAI,gBAAyB,eAAa,CAA1C;AACA,gBAAI,SAAkB,MAAI,YAA1B;AACA,gBAAI,SAAkB,MAAI,aAA1B;AACA,iBAAK,WAAL,CAAiB,IAAjB,CAAsB,MAAtB;AACA,iBAAK,WAAL,CAAiB,IAAjB,CAAsB,MAAtB;AAEA;AACA,4BAAA,aAAA,CAAc,QAAd,CAAuB,KAAK,eAA5B;AACA,4BAAA,aAAA,CAAc,KAAd,CAAoB,KAAK,eAAzB,EAA0C,KAAK,eAA/C,EAAgE,KAAK,YAArE,EAAmF,KAAK,WAAxF;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACL;AACI;AAEC;AACA,gBAAI,qBAA8B,KAAK,uBAAL,CAA6B,eAAe,UAA5C,CAAlC;AACA,kBAAM,mBAAN,CAA0B,kBAA1B,EAA8C,eAAe,6BAA7D,EAA4F,MAAM,KAAlG,EAAyG,KAAzG,EAAgH,eAAe,WAA/H,EAA4I,eAAe,sBAA3J;AACA,kBAAM,uBAAN,CAA8B,kBAA9B;AACF;AACC;AACA;AAEC;AACA,gBAAI,4BAAmD,KAAK,qBAAL,CAA2B,eAAe,kBAA1C,CAAvD;AACA,kBAAM,gBAAN,CAAuB,yBAAvB,EAAkD,KAAlD,EAAyD,KAAK,eAAL,CAAqB,OAArB,EAAzD;AACF;AACE;AACJ;AACA;AACA;AACA;AAEI;AACA,kBAAM,UAAN,CAAiB,MAAM,cAAvB,EAAuC,eAAe,qBAAtD,EAA6E,eAAe,YAA5F;AACH;;;;;;AAxLL,QAAA,8BAAA,GAAA,8BAAA;;;;;;;;;;AC1BA,IAAA,oBAAA,QAAA,mBAAA,CAAA;AACA,IAAA,kBAAA,QAAA,uBAAA,CAAA;AACA,IAAA,WAAA,QAAA,gBAAA,CAAA;AACA,IAAA,YAAA,QAAA,iBAAA,CAAA;AAMA,IAAI,iBAAiB;AACjB,gBAAY,YADK;AAEjB,4BAAwB,sBAFP;AAGjB,iBAAa,YAHI;AAIjB,wBAAoB,mBAJH;AAKjB,wBAAoB,kBALH;AAMjB,uBAAmB,iBANF;AAOjB,eAAW,WAPM;AAQjB,kBAAc,CARG;AASjB,uBAAmB,CATF;AAUjB,mCAA+B,CAVd;AAWjB,iBAAa,EAXI;AAYjB,4BAAwB,CAZP;AAajB,+BAA2B,CAbV;AAcjB,2BAAuB;AAdN,CAArB;;IAiBa,0B;AAaT,0CAAA;AAAA;AAAuB;;;;6BAEX,K,EAA6B;AACjC,iBAAK,MAAL,GAAc,IAAI,kBAAA,eAAJ,EAAd;AACA,gBAAI,qBACJ;AACA;AACA;AACA,6BAHA,GAGoB,eAAe,UAHnC,GAGgD,KAHhD,GAIA,iBAJA,GAIoB,eAAe,sBAJnC,GAI4D,KAJ5D,GAKA,qBALA,GAMA,eANA,GAMkB,eAAe,kBANjC,GAMsD,KANtD,GAOA,iBAPA,GAQA,UARA,GAQa,eAAe,sBAR5B,GAQqD,KARrD,GASA,kBATA,GASqB,eAAe,kBATpC,GASyD,KATzD,GASiE,eAAe,UAThF,GAS6F,KAT7F,GAUA,KAXA;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACJ,gBAAI,uBACA,6BACA,qBADA,GAEA,iBAFA,GAGA,oBAHA,GAIA,sCAJA,GAKA,wBALA,GAMA,qBANA,GAOA,gBAPA,GAQA,OARA,GASA,6CATA,GASgD;AAChD,iBAXJ;AAYI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACJ,iBAAK,MAAL,CAAY,IAAZ,CAAiB,KAAjB,EAAwB,kBAAxB,EAA4C,oBAA5C;AAEA;AACA,gBAAI,oBAAoB,IAAI,YAAJ,CAAiB,CACrC,CAAC,GADoC,EAC9B,GAD8B,EACzB,GADyB,EACpB,GADoB,EAErC,CAAC,GAFoC,EAE/B,CAAC,GAF8B,EAEzB,GAFyB,EAEpB,GAFoB,EAGpC,GAHoC,EAG9B,GAH8B,EAGzB,GAHyB,EAGpB,GAHoB,EAIpC,GAJoC,EAI/B,CAAC,GAJ8B,EAIzB,GAJyB,EAIpB,GAJoB,CAAjB,CAAxB;AAOA;AACA,iBAAK,oBAAL,GAA4B,MAAM,YAAN,EAA5B;AAEA;AACA,kBAAM,UAAN,CAAiB,MAAM,YAAvB,EAAqC,KAAK,oBAA1C;AAEA;AACA,kBAAM,UAAN,CAAiB,MAAM,YAAvB,EAAqC,iBAArC,EAAwD,MAAM,WAA9D;AAEA;AACA,iBAAK,uBAAL,GAA+B,EAA/B;AACA,iBAAK,qBAAL,GAA6B,EAA7B;AACA,iBAAK,sBAAL,CAA4B,KAA5B,EAAmC,CAAC,eAAe,UAAhB,EAA4B,eAAe,WAA3C,CAAnC;AACA,iBAAK,oBAAL,CAA0B,KAA1B,EAAiC,CAAC,eAAe,kBAAhB,EAAoC,eAAe,SAAnD,EAA8D,eAAe,kBAA7E,EAAiG,eAAe,iBAAhH,CAAjC;AAEA;AACA,iBAAK,eAAL,GAAuB,IAAI,SAAA,MAAJ,CAAW,CAAX,EAAc,CAAd,CAAvB;AACA,iBAAK,eAAL,GAAuB,IAAI,UAAA,OAAJ,EAAvB;AACA,iBAAK,YAAL,GAAoB,IAAI,UAAA,OAAJ,EAApB;AACA,iBAAK,WAAL,GAAmB,IAAI,UAAA,OAAJ,EAAnB;AACH;;;yCAEyB,K,EACF,W,EACA,Y,EACA,U,EAAkC;AACtD;AACA,gBAAI,qBAAqB,KAAK,MAAL,CAAY,UAAZ,EAAzB;AACA,kBAAM,UAAN,CAAiB,kBAAjB;AAED;AALuD;AAAA;AAAA;;AAAA;AAMvD,qCAAmB,UAAnB,8HAA+B;AAAA,wBAAtB,MAAsB;;AAC1B,yBAAK,oBAAL,CAA0B,KAA1B,EAAiC,WAAjC,EAA8C,YAA9C,EAA4D,MAA5D;AACH;AARqD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASzD;;;+CAE8B,K,EAA+B,sB,EAAsC;AAChG,iBAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,uBAAuB,MAA3C,EAAmD,GAAnD,EAAwD;AACpD,oBAAI,eAAwB,uBAAuB,CAAvB,CAA5B;AACA,oBAAI,WAAoB,MAAM,iBAAN,CAAwB,KAAK,MAAL,CAAY,UAAZ,EAAxB,EAAkD,YAAlD,CAAxB;AACA,qBAAK,uBAAL,CAA6B,YAA7B,IAA6C,QAA7C;AACH;AACJ;;;6CAE4B,K,EAA+B,oB,EAAoC;AAC5F,iBAAK,IAAI,IAAa,CAAtB,EAAyB,IAAI,qBAAqB,MAAlD,EAA0D,GAA1D,EAA+D;AAC3D,oBAAI,eAAwB,qBAAqB,CAArB,CAA5B;AACA,oBAAI,WAAkC,MAAM,kBAAN,CAAyB,KAAK,MAAL,CAAY,UAAZ,EAAzB,EAAmD,YAAnD,CAAtC;AACA;AACA,qBAAK,qBAAL,CAA2B,YAA3B,IAA2C,QAA3C;AACH;AACJ;;;6CAE+B,K,EACR,W,EACA,Y,EACA,M,EAAuB;AAC5C;AACC;AAEA;AACA,gBAAI,cAAuB,GAA3B;AACA,gBAAI,eAAwB,GAA5B;AACA,gBAAI,kBAA2B,OAAO,WAAP,GAAqB,IAArB,KAA+B,cAAY,CAA1E;AACA,gBAAI,kBAA2B,OAAO,WAAP,GAAqB,IAArB,KAA+B,eAAa,CAA3E;AACA,gBAAI,mBAA4B,CAAC,kBAAmB,cAAY,CAAhC,KAAqC,cAAY,CAAjD,CAAhC;AACA,gBAAI,mBAA4B,CAAC,kBAAmB,eAAa,CAAjC,KAAsC,eAAa,CAAnD,CAAhC;AACA,iBAAK,eAAL,CAAqB,IAArB,CAA0B,gBAA1B;AACA,iBAAK,eAAL,CAAqB,IAArB,CAA0B,CAAC,gBAA3B;AAEA;AACA,gBAAI,eAAwB,cAAY,CAAxC;AACA,gBAAI,gBAAyB,eAAa,CAA1C;AACA,gBAAI,SAAkB,MAAI,YAA1B;AACA,gBAAI,SAAkB,MAAI,aAA1B;AACA,iBAAK,WAAL,CAAiB,IAAjB,CAAsB,MAAtB;AACA,iBAAK,WAAL,CAAiB,IAAjB,CAAsB,MAAtB;AAEA;AACA,4BAAA,aAAA,CAAc,QAAd,CAAuB,KAAK,eAA5B;AACA,4BAAA,aAAA,CAAc,KAAd,CAAoB,KAAK,eAAzB,EAA0C,KAAK,eAA/C,EAAgE,KAAK,YAArE,EAAmF,KAAK,WAAxF;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACL;AACI;AAEC;AACA,gBAAI,qBAA8B,KAAK,uBAAL,CAA6B,eAAe,UAA5C,CAAlC;AACA,kBAAM,mBAAN,CAA0B,kBAA1B,EAA8C,eAAe,6BAA7D,EAA4F,MAAM,KAAlG,EAAyG,KAAzG,EAAgH,eAAe,WAA/H,EAA4I,eAAe,sBAA3J;AACA,kBAAM,uBAAN,CAA8B,kBAA9B;AACF;AACC;AACA;AAEC;AACA,gBAAI,4BAAmD,KAAK,qBAAL,CAA2B,eAAe,kBAA1C,CAAvD;AACA,kBAAM,gBAAN,CAAuB,yBAAvB,EAAkD,KAAlD,EAAyD,KAAK,eAAL,CAAqB,OAArB,EAAzD;AACF;AACE;AACJ;AACA;AACA;AACA;AAEI;AACA,kBAAM,UAAN,CAAiB,MAAM,cAAvB,EAAuC,eAAe,qBAAtD,EAA6E,eAAe,YAA5F;AACH;;;;;;AAxLL,QAAA,0BAAA,GAAA,0BAAA;;;;;;;;;;AC1BA;;;AAGA,IAAA,iBAAA,QAAA,gBAAA,CAAA;AACA,IAAA,4BAAA,QAAA,2BAAA,CAAA;AACA,IAAA,4BAAA,QAAA,2BAAA,CAAA;AACA,IAAA,+BAAA,QAAA,8BAAA,CAAA;AACA,IAAA,gCAAA,QAAA,+BAAA,CAAA;AACA,IAAA,iCAAA,QAAA,gCAAA,CAAA;AACA,IAAA,gCAAA,QAAA,+BAAA,CAAA;AACA,IAAA,kCAAA,QAAA,iCAAA,CAAA;AACA,IAAA,mCAAA,QAAA,kCAAA,CAAA;;IAKa,wB;AAeT,wCAAA;AAAA;AAAuB;;;;2CAEG,E,EAAW;AACjC;AACA,oBAAO,EAAP;AACI,qBAAK,CAAL;AAAQ,2BAAO,KAAK,KAAL,CAAW,QAAlB;AACR,qBAAK,CAAL;AAAQ,2BAAO,KAAK,KAAL,CAAW,QAAlB;AACR,qBAAK,CAAL;AAAQ,2BAAO,KAAK,KAAL,CAAW,QAAlB;AACR;AAAS,2BAAO,KAAK,KAAL,CAAW,QAAlB;AAJb;AAMH;;;mCAEc;AACX,mBAAO,KAAK,KAAZ;AACH;;;4CAEuB;AACpB,mBAAO,KAAK,cAAZ;AACH;;;0CAEqB;AAClB,mBAAO,KAAK,YAAZ;AACH;;;6BAEW,iB,EAA4B,Y,EAAqB;AACzD;AACA,iBAAK,eAAL,GAA0C,SAAS,cAAT,CAAwB,iBAAxB,CAA1C;AACA,iBAAK,eAAL,CAAqB,KAArB,GAA6B,OAAO,UAApC;AACA,iBAAK,eAAL,CAAqB,MAArB,GAA8B,OAAO,WAArC;AACA,iBAAK,WAAL,GAAmB,KAAK,eAAL,CAAqB,KAAxC;AACA,iBAAK,YAAL,GAAoB,KAAK,eAAL,CAAqB,MAAzC;AACA,iBAAK,KAAL,GAAa,KAAK,eAAL,CAAqB,UAArB,CAAgC,OAAhC,CAAb;AAEA;AACA;AACA,gBAAI,CAAC,KAAK,KAAV,EAAiB;AACb;AACA;AACA,wBAAQ,KAAR,CAAc,uCAAd;AAEA;AACA;AACH;AAED;AAEA;AACA,iBAAK,aAAL,CAAmB,GAAnB,EAAwB,GAAxB,EAA6B,GAA7B,EAAkC,GAAlC;AAEA;AACA,iBAAK,KAAL,CAAW,OAAX,CAAmB,KAAK,KAAL,CAAW,UAA9B;AACA,iBAAK,KAAL,CAAW,MAAX,CAAkB,KAAK,KAAL,CAAW,KAA7B;AACA,iBAAK,KAAL,CAAW,SAAX,CAAqB,KAAK,KAAL,CAAW,SAAhC,EAA2C,KAAK,KAAL,CAAW,mBAAtD;AAEA;AACA,iBAAK,KAAL,CAAW,MAAX,CAAkB,KAAK,KAAL,CAAW,SAA7B;AAEA;AACA,iBAAK,KAAL,CAAW,QAAX,CAAoB,CAApB,EAAuB,CAAvB,EAA0B,KAAK,WAA/B,EAA4C,KAAK,YAAjD;AAEA;AACA,iBAAK,cAAL,GAAsB,IAAI,0BAAA,uBAAJ,EAAtB;AACA,iBAAK,cAAL,CAAoB,IAApB,CAAyB,KAAK,KAA9B;AAEA,iBAAK,cAAL,GAAsB,IAAI,0BAAA,uBAAJ,EAAtB;AACA,iBAAK,cAAL,CAAoB,IAApB,CAAyB,KAAK,KAA9B;AAEA,iBAAK,iBAAL,GAAyB,IAAI,6BAAA,0BAAJ,EAAzB;AACA,iBAAK,iBAAL,CAAuB,IAAvB,CAA4B,KAAK,KAAjC;AAEA,iBAAK,kBAAL,GAA0B,IAAI,8BAAA,2BAAJ,EAA1B;AACA,iBAAK,kBAAL,CAAwB,IAAxB,CAA6B,KAAK,KAAlC;AAEA,iBAAK,mBAAL,GAA2B,IAAI,+BAAA,4BAAJ,EAA3B;AACA,iBAAK,mBAAL,CAAyB,IAAzB,CAA8B,KAAK,KAAnC;AAEA,iBAAK,kBAAL,GAA0B,IAAI,8BAAA,2BAAJ,EAA1B;AACA,iBAAK,kBAAL,CAAwB,IAAxB,CAA6B,KAAK,KAAlC;AAEA,iBAAK,oBAAL,GAA4B,IAAI,gCAAA,6BAAJ,EAA5B;AACA,iBAAK,oBAAL,CAA0B,IAA1B,CAA+B,KAAK,KAApC;AAEA,iBAAK,qBAAL,GAA6B,IAAI,iCAAA,8BAAJ,EAA7B;AACA,iBAAK,qBAAL,CAA2B,IAA3B,CAAgC,KAAK,KAArC;AAEA;AACA,iBAAK,YAAL,GAAoB,IAAI,eAAA,YAAJ,CAAiB,YAAjB,EAA+B,OAA/B,EAAwC,EAAxC,EAA4C,SAA5C,CAApB;AACH;;;yCAEuB,a,EAAkC,S,EAAoB,K,EAA0B,Q,EAAmB;AACvH,0BAAc,KAAd,GAAsB,MAAM,KAA5B;AACA,0BAAc,MAAd,GAAuB,MAAM,MAA7B;AAEA;AACA,0BAAc,YAAd,GAA6B,KAAK,KAAL,CAAW,aAAX,EAA7B;AACA,0BAAc,cAAd,GAA+B,SAA/B;AAEA;AACA;AAEA;AACA;AACA,gBAAI,sBAA+B,KAAK,kBAAL,CAAwB,SAAxB,CAAnC;AACA,iBAAK,KAAL,CAAW,aAAX,CAAyB,mBAAzB;AAEA;AACA,iBAAK,KAAL,CAAW,WAAX,CAAuB,KAAK,KAAL,CAAW,UAAlC,EAA8C,cAAc,YAA5D;AAEA;AACA,iBAAK,KAAL,CAAW,aAAX,CAAyB,KAAK,KAAL,CAAW,UAApC,EAAgD,KAAK,KAAL,CAAW,kBAA3D,EAA+E,KAAK,KAAL,CAAW,MAA1F;AAEA;AACA,iBAAK,KAAL,CAAW,UAAX,CAAsB,KAAK,KAAL,CAAW,UAAjC,EAA6C,CAA7C,EAAgD,KAAK,KAAL,CAAW,IAA3D,EAAiE,KAAK,KAAL,CAAW,IAA5E,EAAkF,KAAK,KAAL,CAAW,aAA7F,EAA4G,KAA5G;AAEA;AACA;AACH;;;sCAEoB,C,EAAY,C,EAAY,C,EAAY,C,EAAU;AAC/D,iBAAK,KAAL,CAAW,UAAX,CAAsB,CAAtB,EAAyB,CAAzB,EAA4B,CAA5B,EAA+B,CAA/B;AACH;;;+BAEa,U,EAAoC,M,EAAgC,O,EAAiC,Q,EAAkC,O,EAAiC,S,EAAmC,U,EAAkC;AACvP;AACA,iBAAK,KAAL,CAAW,KAAX,CAAiB,KAAK,KAAL,CAAW,gBAAX,GAA8B,KAAK,KAAL,CAAW,gBAA1D;AAEA;AACA,iBAAK,cAAL,CAAoB,qBAApB,CAA0C,KAAK,KAA/C,EAAsD,KAAK,WAA3D,EAAwE,KAAK,YAA7E,EAA2F,UAA3F;AAEA;AACJ;AAEI,iBAAK,iBAAL,CAAuB,gBAAvB,CAAwC,KAAK,KAA7C,EAAoD,KAAK,WAAzD,EAAsE,KAAK,YAA3E,EAAyF,MAAzF;AAEA,iBAAK,kBAAL,CAAwB,gBAAxB,CAAyC,KAAK,KAA9C,EAAqD,KAAK,WAA1D,EAAuE,KAAK,YAA5E,EAA0F,OAA1F;AAEA,iBAAK,mBAAL,CAAyB,gBAAzB,CAA0C,KAAK,KAA/C,EAAsD,KAAK,WAA3D,EAAwE,KAAK,YAA7E,EAA2F,QAA3F;AAEA,iBAAK,kBAAL,CAAwB,gBAAxB,CAAyC,KAAK,KAA9C,EAAqD,KAAK,WAA1D,EAAuE,KAAK,YAA5E,EAA0F,OAA1F;AAEA,iBAAK,oBAAL,CAA0B,gBAA1B,CAA2C,KAAK,KAAhD,EAAuD,KAAK,WAA5D,EAAyE,KAAK,YAA9E,EAA4F,SAA5F;AAEA,iBAAK,qBAAL,CAA2B,gBAA3B,CAA4C,KAAK,KAAjD,EAAwD,KAAK,WAA7D,EAA0E,KAAK,YAA/E,EAA6F,UAA7F;AAGA;AACA,iBAAK,YAAL,CAAkB,MAAlB;AACH;;;;;;AAlKL,QAAA,wBAAA,GAAA,wBAAA;;;;;;;;;;AChBA;;;;;IAIa,e;AAKT,+BAAA;AAAA;AAAuB;;;;qCAEN;AACb,mBAAO,KAAK,OAAZ;AACH;;;6BAEW,K,EAA+B,O,EAAkB,O,EAAgB;AACzE,iBAAK,YAAL,GAAiC,KAAK,YAAL,CAAkB,KAAlB,EAAyB,MAAM,aAA/B,EAA8C,OAA9C,CAAjC;AACA,iBAAK,cAAL,GAAmC,KAAK,YAAL,CAAkB,KAAlB,EAAyB,MAAM,eAA/B,EAAgD,OAAhD,CAAnC;AACA,iBAAK,OAAL,GAAe,KAAK,mBAAL,CAAyB,KAAzB,EAAgC,KAAK,YAArC,EAAmD,KAAK,cAAxD,CAAf;AACH;;;qCAEmB,K,EAA+B,I,EAAe,M,EAAe;AAC7E;AACA,gBAAI,SAAS,MAAM,YAAN,CAAmB,IAAnB,CAAb;AACA,kBAAM,YAAN,CAAmB,MAAnB,EAA2B,MAA3B;AACA,kBAAM,aAAN,CAAoB,MAApB;AAEA;AACA,gBAAI,UAAU,MAAM,kBAAN,CAAyB,MAAzB,EAAiC,MAAM,cAAvC,CAAd;AACA,gBAAI,OAAJ,EAAa;AACT,uBAAO,MAAP;AACH;AAED;AACA,oBAAQ,GAAR,CAAY,MAAM,gBAAN,CAAuB,MAAvB,CAAZ;AACA,kBAAM,YAAN,CAAmB,MAAnB;AACA,mBAAO,IAAP;AACH;;;4CAI0B,K,EAA+B,O,EAAuB,O,EAAqB;AAClG;AACA,gBAAI,kBAAkB,MAAM,aAAN,EAAtB;AAEA;AACA,kBAAM,YAAN,CAAmB,eAAnB,EAAoC,OAApC;AACA,kBAAM,YAAN,CAAmB,eAAnB,EAAoC,OAApC;AAEA;AACA,kBAAM,WAAN,CAAkB,eAAlB;AACA,gBAAI,SAAmB,MAAM,mBAAN,CAA0B,eAA1B,EAA2C,MAAM,WAAjD,CAAvB;AAEA;AACA,gBAAI,CAAC,MAAL,EAAa;AACT;AACA,oBAAI,gBAAyB,MAAM,iBAAN,CAAwB,eAAxB,CAA7B;AACA,wBAAQ,GAAR,CAAY,aAAZ;AAEA;AACA,wBAAQ,GAAR,CAAY,MAAM,iBAAN,CAAwB,eAAxB,CAAZ;AACA,sBAAM,aAAN,CAAoB,eAApB;AACH;AACD,mBAAO,eAAP;AACH;;;;;;AA5DL,QAAA,eAAA,GAAA,eAAA;;;;;;;;;;ACJA,IAAA,oBAAA,QAAA,mBAAA,CAAA;AACA,IAAA,kBAAA,QAAA,uBAAA,CAAA;AACA,IAAA,WAAA,QAAA,gBAAA,CAAA;AACA,IAAA,YAAA,QAAA,iBAAA,CAAA;AAMA,IAAI,iBAAiB;AACjB,gBAAY,YADK;AAEjB,iBAAa,YAFI;AAGjB,wBAAoB,mBAHH;AAIjB,wBAAoB,kBAJH;AAKjB,uBAAmB,iBALF;AAMjB,eAAW,WANM;AAOjB,kBAAc,CAPG;AAQjB,uBAAmB,CARF;AASjB,mCAA+B,CATd;AAUjB,iBAAa,EAVI;AAWjB,4BAAwB,CAXP;AAYjB,+BAA2B,CAZV;AAajB,2BAAuB;AAbN,CAArB;;IAgBa,uB;AAaT,uCAAA;AAAA;AAAuB;;;;6BAEX,K,EAA6B;AACrC,iBAAK,MAAL,GAAc,IAAI,kBAAA,eAAJ,EAAd;AACA,gBAAI,qBACA,kBAAkB,eAAe,kBAAjC,GAAsD,KAAtD,GACA,eADA,GACkB,eAAe,kBADjC,GACsD,KADtD,GAEA,eAFA,GAEkB,eAAe,iBAFjC,GAEqD,KAFrD,GAGA,iBAHA,GAGoB,eAAe,UAHnC,GAGgD,KAHhD,GAIA,iBAJA,GAIoB,eAAe,WAJnC,GAIiD,KAJjD,GAKA,4BALA,GAMA,iBANA,GAOA,kBAPA,GAOqB,eAAe,kBAPpC,GAOyD,KAPzD,GAOiE,eAAe,UAPhF,GAO6F,KAP7F,GAQA,wBARA,GAQ2B,eAAe,WAR1C,GAQwD,KARxD,GAQgE,eAAe,kBAR/E,GAQoG,KARpG,GASA,gCATA,GASmC,eAAe,iBATlD,GASsE,KATtE,GAUA,KAXJ;AAYA,gBAAI,uBACA,mBACA,4BADA,GAEA,UAFA,GAGA,oBAHA,GAGuB,eAAe,SAHtC,GAGkD,KAHlD,GAIA,4BAJA,GAKA,iBALA,GAMA,6BANA,GAMgC,eAAe,SAN/C,GAM2D,kBAN3D,GAOA,KARJ;AASA,iBAAK,MAAL,CAAY,IAAZ,CAAiB,KAAjB,EAAwB,kBAAxB,EAA4C,oBAA5C;AAEA;AACA,gBAAI,oBAAoB,IAAI,YAAJ,CAAiB,CACrC,CAAC,GADoC,EAC9B,GAD8B,EACzB,GADyB,EACpB,GADoB,EAErC,CAAC,GAFoC,EAE/B,CAAC,GAF8B,EAEzB,GAFyB,EAEpB,GAFoB,EAGpC,GAHoC,EAG9B,GAH8B,EAGzB,GAHyB,EAGpB,GAHoB,EAIpC,GAJoC,EAI/B,CAAC,GAJ8B,EAIzB,GAJyB,EAIpB,GAJoB,CAAjB,CAAxB;AAOA;AACA,iBAAK,oBAAL,GAA4B,MAAM,YAAN,EAA5B;AAEA;AACA,kBAAM,UAAN,CAAiB,MAAM,YAAvB,EAAqC,KAAK,oBAA1C;AAEA;AACA,kBAAM,UAAN,CAAiB,MAAM,YAAvB,EAAqC,iBAArC,EAAwD,MAAM,WAA9D;AAEA;AACA,iBAAK,uBAAL,GAA+B,EAA/B;AACA,iBAAK,qBAAL,GAA6B,EAA7B;AACA,iBAAK,sBAAL,CAA4B,KAA5B,EAAmC,CAAC,eAAe,UAAhB,EAA4B,eAAe,WAA3C,CAAnC;AACA,iBAAK,oBAAL,CAA0B,KAA1B,EAAiC,CAAC,eAAe,kBAAhB,EAAoC,eAAe,SAAnD,EAA8D,eAAe,kBAA7E,EAAiG,eAAe,iBAAhH,CAAjC;AAEA;AACA,iBAAK,eAAL,GAAuB,IAAI,SAAA,MAAJ,CAAW,CAAX,EAAc,CAAd,CAAvB;AACA,iBAAK,eAAL,GAAuB,IAAI,UAAA,OAAJ,EAAvB;AACA,iBAAK,YAAL,GAAoB,IAAI,UAAA,OAAJ,EAApB;AACA,iBAAK,WAAL,GAAmB,IAAI,UAAA,OAAJ,EAAnB;AACH;;;8CAE8B,K,EACP,W,EACA,Y,EACA,U,EAAkC;AACtD;AACA,gBAAI,qBAAqB,KAAK,MAAL,CAAY,UAAZ,EAAzB;AACA,kBAAM,UAAN,CAAiB,kBAAjB;AAED;AALuD;AAAA;AAAA;;AAAA;AAMvD,qCAAmB,UAAnB,8HAA+B;AAAA,wBAAtB,MAAsB;;AAC1B,yBAAK,oBAAL,CAA0B,KAA1B,EAAiC,WAAjC,EAA8C,YAA9C,EAA4D,MAA5D;AACH;AARqD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASzD;;;+CAE8B,K,EAA+B,sB,EAAsC;AAChG,iBAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,uBAAuB,MAA3C,EAAmD,GAAnD,EAAwD;AACpD,oBAAI,eAAwB,uBAAuB,CAAvB,CAA5B;AACA,oBAAI,WAAoB,MAAM,iBAAN,CAAwB,KAAK,MAAL,CAAY,UAAZ,EAAxB,EAAkD,YAAlD,CAAxB;AACA,qBAAK,uBAAL,CAA6B,YAA7B,IAA6C,QAA7C;AACH;AACJ;;;6CAE4B,K,EAA+B,oB,EAAoC;AAC5F,iBAAK,IAAI,IAAa,CAAtB,EAAyB,IAAI,qBAAqB,MAAlD,EAA0D,GAA1D,EAA+D;AAC3D,oBAAI,eAAwB,qBAAqB,CAArB,CAA5B;AACA,oBAAI,WAAkC,MAAM,kBAAN,CAAyB,KAAK,MAAL,CAAY,UAAZ,EAAzB,EAAmD,YAAnD,CAAtC;AACA,qBAAK,qBAAL,CAA2B,YAA3B,IAA2C,QAA3C;AACH;AACJ;;;6CAE+B,K,EACR,W,EACA,Y,EACA,M,EAAuB;AAC3C,gBAAI,aAAkC,OAAO,aAAP,EAAtC;AACA,gBAAI,UAA6B,WAAW,qBAAX,EAAjC;AAEA;AACA,gBAAI,cAAuB,WAAW,cAAX,EAA3B;AACA,gBAAI,eAAwB,WAAW,eAAX,EAA5B;AACA,gBAAI,kBAA2B,OAAO,WAAP,GAAqB,IAArB,KAA+B,cAAY,CAA1E;AACA,gBAAI,kBAA2B,OAAO,WAAP,GAAqB,IAArB,KAA+B,eAAa,CAA3E;AACA,gBAAI,mBAA4B,CAAC,kBAAmB,cAAY,CAAhC,KAAqC,cAAY,CAAjD,CAAhC;AACA,gBAAI,mBAA4B,CAAC,kBAAmB,eAAa,CAAjC,KAAsC,eAAa,CAAnD,CAAhC;AACA,iBAAK,eAAL,CAAqB,IAArB,CAA0B,gBAA1B;AACA,iBAAK,eAAL,CAAqB,IAArB,CAA0B,CAAC,gBAA3B;AAEA;AACA,gBAAI,eAAwB,cAAY,CAAxC;AACA,gBAAI,gBAAyB,eAAa,CAA1C;AACA,gBAAI,SAAkB,cAAY,YAAlC;AACA,gBAAI,SAAkB,eAAa,aAAnC;AACA,iBAAK,WAAL,CAAiB,IAAjB,CAAsB,MAAtB;AACA,iBAAK,WAAL,CAAiB,IAAjB,CAAsB,MAAtB;AAEA;AACA,4BAAA,aAAA,CAAc,QAAd,CAAuB,KAAK,eAA5B;AACA,4BAAA,aAAA,CAAc,KAAd,CAAoB,KAAK,eAAzB,EAA0C,KAAK,eAA/C,EAAgE,KAAK,YAArE,EAAmF,KAAK,WAAxF;AAEA;AACA,gBAAI,kBAA2B,cAAY,QAAQ,KAAnD;AACA,gBAAI,kBAA2B,eAAa,QAAQ,MAApD;AACA,gBAAI,aAAsB,OAAO,OAAP,EAA1B;AACA,gBAAI,YAAqB,OAAO,MAAP,EAAzB;AACA,gBAAI,iBAA0B,aAAW,QAAQ,KAAjD;AACA,gBAAI,iBAA0B,YAAU,QAAQ,MAAhD;AAEA;AACA,kBAAM,UAAN,CAAiB,MAAM,YAAvB,EAAqC,KAAK,oBAA1C;AACA,kBAAM,WAAN,CAAkB,MAAM,UAAxB,EAAoC,QAAQ,YAA5C;AAEA;AACA,gBAAI,qBAA8B,KAAK,uBAAL,CAA6B,eAAe,UAA5C,CAAlC;AACA,kBAAM,mBAAN,CAA0B,kBAA1B,EAA8C,eAAe,6BAA7D,EAA4F,MAAM,KAAlG,EAAyG,KAAzG,EAAgH,eAAe,WAA/H,EAA4I,eAAe,sBAA3J;AACA,kBAAM,uBAAN,CAA8B,kBAA9B;AACA,gBAAI,qBAA8B,KAAK,uBAAL,CAA6B,eAAe,WAA5C,CAAlC;AACA,kBAAM,mBAAN,CAA0B,kBAA1B,EAA8C,eAAe,6BAA7D,EAA4F,MAAM,KAAlG,EAAyG,KAAzG,EAAgH,eAAe,WAA/H,EAA4I,eAAe,yBAA3J;AACA,kBAAM,uBAAN,CAA8B,kBAA9B;AAEA;AACA,gBAAI,4BAAmD,KAAK,qBAAL,CAA2B,eAAe,kBAA1C,CAAvD;AACA,kBAAM,gBAAN,CAAuB,yBAAvB,EAAkD,KAAlD,EAAyD,KAAK,eAAL,CAAqB,OAArB,EAAzD;AACA,gBAAI,oBAA2C,KAAK,qBAAL,CAA2B,eAAe,SAA1C,CAA/C;AACA,kBAAM,SAAN,CAAgB,iBAAhB,EAAmC,QAAQ,cAA3C;AACA,gBAAI,2BAAkD,KAAK,qBAAL,CAA2B,eAAe,kBAA1C,CAAtD;AACA,kBAAM,SAAN,CAAgB,wBAAhB,EAA0C,eAA1C,EAA2D,eAA3D;AACA,gBAAI,0BAAiD,KAAK,qBAAL,CAA2B,eAAe,iBAA1C,CAArD;AACA,kBAAM,SAAN,CAAgB,uBAAhB,EAAyC,cAAzC,EAAyD,cAAzD;AAEA;AACA,kBAAM,UAAN,CAAiB,MAAM,cAAvB,EAAuC,eAAe,qBAAtD,EAA6E,eAAe,YAA5F;AACH;;;;;;AAjKL,QAAA,uBAAA,GAAA,uBAAA;;;;;;;;;ICzBa,gB;;;;AAAb,QAAA,gBAAA,GAAA,gBAAA;;;;;;;;;;ACAA,IAAA,oBAAA,QAAA,mBAAA,CAAA;AACA,IAAA,kBAAA,QAAA,uBAAA,CAAA;AACA,IAAA,WAAA,QAAA,gBAAA,CAAA;AACA,IAAA,YAAA,QAAA,iBAAA,CAAA;AAMA,IAAI,iBAAiB;AACjB,gBAAY,YADK;AAEjB,4BAAwB,sBAFP;AAGjB,iBAAa,YAHI;AAIjB,wBAAoB,mBAJH;AAKjB,wBAAoB,kBALH;AAMjB,uBAAmB,iBANF;AAOjB,eAAW,WAPM;AAQjB,kBAAc,CARG;AASjB,uBAAmB,CATF;AAUjB,mCAA+B,CAVd;AAWjB,iBAAa,EAXI;AAYjB,4BAAwB,CAZP;AAajB,+BAA2B,CAbV;AAcjB,2BAAuB;AAdN,CAArB;;IAiBa,6B;AAaT,6CAAA;AAAA;AAAuB;;;;6BAEX,K,EAA6B;AACjC,iBAAK,MAAL,GAAc,IAAI,kBAAA,eAAJ,EAAd;AACA,gBAAI,qBACJ;AACA;AACA;AACA,6BAHA,GAGoB,eAAe,UAHnC,GAGgD,KAHhD,GAIA,iBAJA,GAIoB,eAAe,sBAJnC,GAI4D,KAJ5D,GAKA,qBALA,GAMA,eANA,GAMkB,eAAe,kBANjC,GAMsD,KANtD,GAOA,iBAPA,GAQA,UARA,GAQa,eAAe,sBAR5B,GAQqD,KARrD,GASA,kBATA,GASqB,eAAe,kBATpC,GASyD,KATzD,GASiE,eAAe,UAThF,GAS6F,KAT7F,GAUA,KAXA;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACJ,gBAAI,uBACA,6BACA,qBADA,GAEA,iBAFA,GAGA,oBAHA,GAIA,sCAJA,GAKA,wBALA,GAMA,qBANA,GAOA,gBAPA,GAQA,OARA,GASA,gDATA,GASmD;AACnD,iBAXJ;AAYI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACJ,iBAAK,MAAL,CAAY,IAAZ,CAAiB,KAAjB,EAAwB,kBAAxB,EAA4C,oBAA5C;AAEA;AACA,gBAAI,oBAAoB,IAAI,YAAJ,CAAiB,CACrC,CAAC,GADoC,EAC9B,GAD8B,EACzB,GADyB,EACpB,GADoB,EAErC,CAAC,GAFoC,EAE/B,CAAC,GAF8B,EAEzB,GAFyB,EAEpB,GAFoB,EAGpC,GAHoC,EAG9B,GAH8B,EAGzB,GAHyB,EAGpB,GAHoB,EAIpC,GAJoC,EAI/B,CAAC,GAJ8B,EAIzB,GAJyB,EAIpB,GAJoB,CAAjB,CAAxB;AAOA;AACA,iBAAK,oBAAL,GAA4B,MAAM,YAAN,EAA5B;AAEA;AACA,kBAAM,UAAN,CAAiB,MAAM,YAAvB,EAAqC,KAAK,oBAA1C;AAEA;AACA,kBAAM,UAAN,CAAiB,MAAM,YAAvB,EAAqC,iBAArC,EAAwD,MAAM,WAA9D;AAEA;AACA,iBAAK,uBAAL,GAA+B,EAA/B;AACA,iBAAK,qBAAL,GAA6B,EAA7B;AACA,iBAAK,sBAAL,CAA4B,KAA5B,EAAmC,CAAC,eAAe,UAAhB,EAA4B,eAAe,WAA3C,CAAnC;AACA,iBAAK,oBAAL,CAA0B,KAA1B,EAAiC,CAAC,eAAe,kBAAhB,EAAoC,eAAe,SAAnD,EAA8D,eAAe,kBAA7E,EAAiG,eAAe,iBAAhH,CAAjC;AAEA;AACA,iBAAK,eAAL,GAAuB,IAAI,SAAA,MAAJ,CAAW,CAAX,EAAc,CAAd,CAAvB;AACA,iBAAK,eAAL,GAAuB,IAAI,UAAA,OAAJ,EAAvB;AACA,iBAAK,YAAL,GAAoB,IAAI,UAAA,OAAJ,EAApB;AACA,iBAAK,WAAL,GAAmB,IAAI,UAAA,OAAJ,EAAnB;AACH;;;yCAEyB,K,EACF,W,EACA,Y,EACA,U,EAAkC;AACtD;AACA,gBAAI,qBAAqB,KAAK,MAAL,CAAY,UAAZ,EAAzB;AACA,kBAAM,UAAN,CAAiB,kBAAjB;AAED;AALuD;AAAA;AAAA;;AAAA;AAMvD,qCAAmB,UAAnB,8HAA+B;AAAA,wBAAtB,MAAsB;;AAC1B,yBAAK,oBAAL,CAA0B,KAA1B,EAAiC,WAAjC,EAA8C,YAA9C,EAA4D,MAA5D;AACH;AARqD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASzD;;;+CAE8B,K,EAA+B,sB,EAAsC;AAChG,iBAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,uBAAuB,MAA3C,EAAmD,GAAnD,EAAwD;AACpD,oBAAI,eAAwB,uBAAuB,CAAvB,CAA5B;AACA,oBAAI,WAAoB,MAAM,iBAAN,CAAwB,KAAK,MAAL,CAAY,UAAZ,EAAxB,EAAkD,YAAlD,CAAxB;AACA,qBAAK,uBAAL,CAA6B,YAA7B,IAA6C,QAA7C;AACH;AACJ;;;6CAE4B,K,EAA+B,oB,EAAoC;AAC5F,iBAAK,IAAI,IAAa,CAAtB,EAAyB,IAAI,qBAAqB,MAAlD,EAA0D,GAA1D,EAA+D;AAC3D,oBAAI,eAAwB,qBAAqB,CAArB,CAA5B;AACA,oBAAI,WAAkC,MAAM,kBAAN,CAAyB,KAAK,MAAL,CAAY,UAAZ,EAAzB,EAAmD,YAAnD,CAAtC;AACA;AACA,qBAAK,qBAAL,CAA2B,YAA3B,IAA2C,QAA3C;AACH;AACJ;;;6CAE+B,K,EACR,W,EACA,Y,EACA,M,EAAuB;AAC5C;AACC;AAEA;AACA,gBAAI,cAAuB,GAA3B;AACA,gBAAI,eAAwB,GAA5B;AACA,gBAAI,kBAA2B,OAAO,WAAP,GAAqB,IAArB,KAA+B,cAAY,CAA1E;AACA,gBAAI,kBAA2B,OAAO,WAAP,GAAqB,IAArB,KAA+B,eAAa,CAA3E;AACA,gBAAI,mBAA4B,CAAC,kBAAmB,cAAY,CAAhC,KAAqC,cAAY,CAAjD,CAAhC;AACA,gBAAI,mBAA4B,CAAC,kBAAmB,eAAa,CAAjC,KAAsC,eAAa,CAAnD,CAAhC;AACA,iBAAK,eAAL,CAAqB,IAArB,CAA0B,gBAA1B;AACA,iBAAK,eAAL,CAAqB,IAArB,CAA0B,CAAC,gBAA3B;AAEA;AACA,gBAAI,eAAwB,cAAY,CAAxC;AACA,gBAAI,gBAAyB,eAAa,CAA1C;AACA,gBAAI,SAAkB,MAAI,YAA1B;AACA,gBAAI,SAAkB,MAAI,aAA1B;AACA,iBAAK,WAAL,CAAiB,IAAjB,CAAsB,MAAtB;AACA,iBAAK,WAAL,CAAiB,IAAjB,CAAsB,MAAtB;AAEA;AACA,4BAAA,aAAA,CAAc,QAAd,CAAuB,KAAK,eAA5B;AACA,4BAAA,aAAA,CAAc,KAAd,CAAoB,KAAK,eAAzB,EAA0C,KAAK,eAA/C,EAAgE,KAAK,YAArE,EAAmF,KAAK,WAAxF;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACL;AACI;AAEC;AACA,gBAAI,qBAA8B,KAAK,uBAAL,CAA6B,eAAe,UAA5C,CAAlC;AACA,kBAAM,mBAAN,CAA0B,kBAA1B,EAA8C,eAAe,6BAA7D,EAA4F,MAAM,KAAlG,EAAyG,KAAzG,EAAgH,eAAe,WAA/H,EAA4I,eAAe,sBAA3J;AACA,kBAAM,uBAAN,CAA8B,kBAA9B;AACF;AACC;AACA;AAEC;AACA,gBAAI,4BAAmD,KAAK,qBAAL,CAA2B,eAAe,kBAA1C,CAAvD;AACA,kBAAM,gBAAN,CAAuB,yBAAvB,EAAkD,KAAlD,EAAyD,KAAK,eAAL,CAAqB,OAArB,EAAzD;AACF;AACE;AACJ;AACA;AACA;AACA;AAEI;AACA,kBAAM,UAAN,CAAiB,MAAM,cAAvB,EAAuC,eAAe,qBAAtD,EAA6E,eAAe,YAA5F;AACH;;;;;;AAxLL,QAAA,6BAAA,GAAA,6BAAA;;;;;;;;;;;ICrBa,U;AAmBT,0BAAA;AAAA;;AACI;AACA,aAAK,eAAL,GAAuB,IAAI,KAAJ,EAAvB;AACA,aAAK,eAAL,GAAuB,IAAI,KAAJ,EAAvB;AACA,aAAK,UAAL,GAAkB,IAAI,KAAJ,EAAlB;AACA,aAAK,UAAL,GAAkB,IAAI,KAAJ,EAAlB;AACH;;;;wCAEmB;AAChB,mBAAO,KAAK,eAAL,CAAqB,MAA5B;AACH;;;0CAEwB,M,EAAuB;AAC5C,iBAAK,eAAL,CAAqB,IAArB,CAA0B,MAA1B;AACH;;;0CAEwB,M,EAAuB;AAC5C,iBAAK,eAAL,CAAqB,IAArB,CAA0B,MAA1B;AACH;;;qCAEmB,M,EAAuB;AACvC,iBAAK,UAAL,CAAgB,IAAhB,CAAqB,MAArB;AACH;;;6CAE2B,M,EAAuB;AAC/C,gBAAI,cAAc,KAAK,eAAL,CAAqB,OAArB,CAA6B,MAA7B,EAAqC,CAArC,CAAlB;AACA,gBAAG,cAAc,CAAC,CAAlB,EAAqB;AACjB,wBAAQ,GAAR,CAAY,oBAAZ;AACA,qBAAK,eAAL,CAAqB,MAArB,CAA4B,WAA5B,EAAyC,CAAzC;AACH;AACJ;;;6CAE2B,M,EAAuB;AAC/C,gBAAI,cAAc,KAAK,eAAL,CAAqB,OAArB,CAA6B,MAA7B,EAAqC,CAArC,CAAlB;AACA,gBAAG,cAAc,CAAC,CAAlB,EAAqB;AACjB,wBAAQ,GAAR,CAAY,oBAAZ;AACA,qBAAK,eAAL,CAAqB,MAArB,CAA4B,WAA5B,EAAyC,CAAzC;AACH;AACJ;;;oCAEkB,K,EAAgB,K,EAAc;AAAA;AAAA;AAAA;;AAAA;AAC7C,qCAAmB,KAAK,eAAxB,8HAAyC;AAAA,wBAAhC,MAAgC;;AACrC,wBAAI,OAAO,QAAP,CAAgB,KAAhB,EAAuB,KAAvB,CAAJ,EACI,OAAO,MAAP;AACP;AAJ4C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAK7C,mBAAO,IAAP;AACH;;;oCAEkB,K,EAAgB,K,EAAc;AAAA;AAAA;AAAA;;AAAA;AAC7C,sCAAmB,KAAK,eAAxB,mIAAyC;AAAA,wBAAhC,MAAgC;;AACrC,wBAAI,OAAO,QAAP,CAAgB,KAAhB,EAAuB,KAAvB,CAAJ,EACI,OAAO,MAAP;AACP;AAJ4C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAK7C,mBAAO,IAAP;AACH;AAED;;;;;;;;;;;;+BASc,K,EAAc;AAAA;AAAA;AAAA;;AAAA;AACxB,sCAAmB,KAAK,eAAxB,mIAAyC;AAAA,wBAAhC,MAAgC;;AACrC,2BAAO,MAAP,CAAc,KAAd;AACH;AAHuB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAI3B;;;gCAEW;AACR;AACA,iBAAK,UAAL,GAAkB,EAAlB;AAEA;AAJQ;AAAA;AAAA;;AAAA;AAKR,sCAAmB,KAAK,eAAxB,mIAAyC;AAAA,wBAAhC,MAAgC;;AACrC,yBAAK,UAAL,CAAgB,IAAhB,CAAqB,MAArB;AACH;AAPO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AASR,mBAAO,KAAK,UAAZ;AACH;;;iCAEY;AACT;AACA,iBAAK,UAAL,GAAkB,EAAlB;AAEA;AAJS;AAAA;AAAA;;AAAA;AAKT,sCAAmB,KAAK,eAAxB,mIAAyC;AAAA,wBAAhC,MAAgC;;AACrC,yBAAK,UAAL,CAAgB,IAAhB,CAAqB,MAArB;AACH;AAPQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAST,mBAAO,KAAK,UAAZ;AACH;;;;;;AAhHL,QAAA,UAAA,GAAA,UAAA;AACW,WAAA,SAAA,GAAqB,CAArB;;;;;;;;;;ACNX,IAAA,YAAA,QAAA,iBAAA,CAAA;AAEA;;;;;;;;;IAQsB,W;AAKlB,2BAAA;AAAA;;AACI,aAAK,QAAL,GAAgB,IAAI,UAAA,OAAJ,EAAhB;AACA,aAAK,QAAL,GAAgB,IAAI,UAAA,OAAJ,EAAhB;AACA,aAAK,KAAL,GAAa,IAAI,UAAA,OAAJ,EAAb;AAEA;AACA,aAAK,QAAL,CAAc,GAAd,CAAkB,GAAlB,EAAuB,GAAvB,EAA4B,GAA5B,EAAiC,GAAjC;AACA,aAAK,QAAL,CAAc,GAAd,CAAkB,GAAlB,EAAuB,GAAvB,EAA4B,GAA5B,EAAiC,GAAjC;AACA,aAAK,KAAL,CAAW,GAAX,CAAe,GAAf,EAAoB,GAApB,EAAyB,GAAzB,EAA8B,GAA9B;AACH;;;;sCAEiB;AACd,mBAAO,KAAK,QAAZ;AACH;;;sCAEiB;AACd,mBAAO,KAAK,QAAZ;AACH;;;mCAEc;AACX,mBAAO,KAAK,KAAZ;AACH;;;;;;AA1BL,QAAA,WAAA,GAAA,WAAA;;;;;;;;;;;;;;ACVA,IAAA,gBAAA,QAAA,gBAAA,CAAA;;IAGa,c;;;AAKT,4BAAmB,cAAnB,EAAwD,SAAxD,EAA4E,YAA5E,EAAiG;AAAA;;AAAA;;AAG7F,cAAK,UAAL,GAAkB,cAAlB;AACA,cAAK,KAAL,GAAa,SAAb;AACA,cAAK,QAAL,GAAgB,YAAhB;AAL6F;AAMhG;;;;sCAEiB;AACd,mBAAO,KAAK,QAAZ;AACH;;;wCAGmB;AAChB,mBAAO,KAAK,UAAZ;AACH;;;mCAEc;AACX,mBAAO,KAAK,KAAZ;AACH;;;iCAEe,S,EAAkB;AAC9B,iBAAK,KAAL,GAAa,SAAb;AACH;;;iCAEe,M,EAAiB,M,EAAe;AAC5C,gBAAI,cAAc,KAAK,aAAL,GAAqB,cAArB,EAAlB;AACA,gBAAI,eAAe,KAAK,aAAL,GAAqB,eAArB,EAAnB;AACA,gBAAI,aAAa,KAAK,WAAL,GAAmB,IAAnB,EAAjB;AACA,gBAAI,cAAc,KAAK,WAAL,GAAmB,IAAnB,KAA4B,WAA9C;AACA,gBAAI,YAAY,KAAK,WAAL,GAAmB,IAAnB,EAAhB;AACA,gBAAI,eAAe,KAAK,WAAL,GAAmB,IAAnB,KAA4B,YAA/C;AACA,gBAAS,SAAS,UAAV,IACC,cAAc,MADf,IAEC,SAAS,SAFV,IAGC,eAAe,MAHxB,EAGiC;AACzB,uBAAO,KAAP;AACP,aALD,MAMK;AACD,uBAAO,IAAP;AACH;AACJ;;;;EA9C+B,cAAA,W;;AAApC,QAAA,cAAA,GAAA,cAAA;;;;;;;;;;;ICAa,mB,GAKT,6BAAY,QAAZ,EAA+B,OAA/B,EAAiD,YAAjD,EAAsE;AAAA;;AAClE,SAAK,IAAL,GAAY,QAAZ;AACA,SAAK,GAAL,GAAW,OAAX;AACA,SAAK,QAAL,GAAgB,YAAhB;AACH,C;;AATL,QAAA,mBAAA,GAAA,mBAAA;;IAYa,kB;AAMT,gCACY,eADZ,EACsC,gBADtC,EAC+D;AAAA;;AAC5D;AACC,aAAK,UAAL,GAAkB,EAAlB;AACA,aAAK,WAAL,GAAmB,GAAnB;AACA,aAAK,YAAL,GAAoB,GAApB;AACH;;;;qCAEmB,K,EAAc;AAC9B,iBAAK,UAAL,CAAgB,KAAhB,IAAyB,IAAI,KAAJ,EAAzB;AACH;;;0CAEwB,K,EAAgB,K,EAAgB,a,EAAsB;AAC7E;AACC;AACA;AACA;AACA;AACA;AACC;AACH;;;yCAEoB;AACjB,mBAAO,KAAK,WAAZ;AACH;;;0CAEqB;AAClB,mBAAO,KAAK,YAAZ;AACH;AAEF;AACI;AACL;;;;qCAEsB,K,EAAc;AAC9B,mBAAO,KAAK,UAAL,CAAgB,KAAhB,CAAP;AACH;;;gCAEc,K,EAAgB,U,EAAmB;AAC9C,gBAAI,iBAAuC,KAAK,UAAL,CAAgB,KAAhB,EAAuB,UAAvB,CAA3C;AACA,mBAAO,eAAe,IAAtB;AACH;;;+BAEa,K,EAAgB,U,EAAmB;AAC7C,gBAAI,iBAAuC,KAAK,UAAL,CAAgB,KAAhB,EAAuB,UAAvB,CAA3C;AACA,mBAAO,eAAe,GAAtB;AACH;;;;;;AApDL,QAAA,kBAAA,GAAA,kBAAA;;;;;;;;;;;;;;ACfA,IAAA,gBAAA,QAAA,gBAAA,CAAA;;IAGa,c;;;AAOT,4BAAmB,cAAnB,EAAwD,SAAxD,EAA4E,YAA5E,EAAiG;AAAA;;AAAA;;AAE7F,cAAK,UAAL,GAAkB,cAAlB;AAEA;AACA,cAAK,KAAL,GAAa,SAAb;AACA,cAAK,mBAAL,GAA2B,CAA3B;AACA,cAAK,YAAL,GAAoB,CAApB;AACA,cAAK,QAAL,GAAgB,YAAhB;AAR6F;AAShG;;;;sCAEiB;AACd,mBAAO,KAAK,QAAZ;AACH;;;iDAE4B;AACzB,mBAAO,KAAK,mBAAZ;AACH;;;0CAEqB;AAClB,mBAAO,KAAK,YAAZ;AACH;;;wCAEmB;AAChB,mBAAO,KAAK,UAAZ;AACH;;;mCAEc;AACX,mBAAO,KAAK,KAAZ;AACH;;;iCAEe,S,EAAkB;AAC9B,iBAAK,KAAL,GAAa,SAAb;AACA,iBAAK,mBAAL,GAA2B,CAA3B;AACA,iBAAK,YAAL,GAAoB,CAApB;AACH;;;+BAEa,K,EAAc;AACxB,iBAAK,YAAL;AAEA;AACA,gBAAI,mBAAmB,KAAK,UAAL,CAAgB,YAAhB,CAA6B,KAAK,KAAlC,CAAvB;AACA,gBAAI,eAAe,iBAAiB,KAAK,mBAAtB,CAAnB;AACA,gBAAI,KAAK,YAAL,GAAqB,aAAa,QAAtC,EAAiD;AAC7C,qBAAK,mBAAL;AACA,oBAAI,KAAK,mBAAL,IAA4B,iBAAiB,MAAjD,EAAyD;AACrD,yBAAK,mBAAL,GAA2B,CAA3B;AACH;AACD,qBAAK,YAAL,GAAoB,CAApB;AACH;AACJ;;;iCAEe,M,EAAiB,M,EAAe;AAC5C,gBAAI,cAAc,KAAK,aAAL,GAAqB,cAArB,EAAlB;AACA,gBAAI,eAAe,KAAK,aAAL,GAAqB,eAArB,EAAnB;AACA,gBAAI,aAAa,KAAK,WAAL,GAAmB,IAAnB,EAAjB;AACA,gBAAI,cAAc,KAAK,WAAL,GAAmB,IAAnB,KAA4B,WAA9C;AACA,gBAAI,YAAY,KAAK,WAAL,GAAmB,IAAnB,EAAhB;AACA,gBAAI,eAAe,KAAK,WAAL,GAAmB,IAAnB,KAA4B,YAA/C;AACA,gBAAS,SAAS,UAAV,IACC,cAAc,MADf,IAEC,SAAS,SAFV,IAGC,eAAe,MAHxB,EAGiC;AACzB,uBAAO,KAAP;AACP,aALD,MAMK;AACD,uBAAO,IAAP;AACH;AACJ;AAED;;;;kCACc;AACV,mBAAO,KAAK,UAAL,CAAgB,OAAhB,CAAwB,KAAK,KAA7B,EAAoC,KAAK,mBAAzC,CAAP;AACH;;;iCAEY;AACT,mBAAO,KAAK,UAAL,CAAgB,MAAhB,CAAuB,KAAK,KAA5B,EAAmC,KAAK,mBAAxC,CAAP;AACH;;;mCAEc;AACX,gBAAI,UAAoB,kBACA,KAAK,WAAL,GAAmB,IAAnB,EADA,GAC4B,IAD5B,GACmC,KAAK,WAAL,GAAmB,IAAnB,EADnC,GAC+D,IAD/D,GAEA,UAFA,GAEa,KAAK,QAAL,EAFb,GAE+B,IAF/B,GAGA,wBAHA,GAG2B,KAAK,sBAAL,EAH3B,GAG2D,IAH3D,GAIA,iBAJA,GAIoB,KAAK,eAAL,EAJpB,GAI6C,IAJrE;AAKA,mBAAO,OAAP;AACH;;;;EA7F+B,cAAA,W;;AAApC,QAAA,cAAA,GAAA,cAAA;;;;;;;;;;;ICAa,c,GAKT,wBAAY,QAAZ,EAA+B,OAA/B,EAAiD,YAAjD,EAAsE;AAAA;;AAClE,SAAK,IAAL,GAAY,QAAZ;AACA,SAAK,GAAL,GAAW,OAAX;AACA,SAAK,QAAL,GAAgB,YAAhB;AACH,C;;AATL,QAAA,cAAA,GAAA,cAAA;;IAYa,kB;AAMT,gCAAmB,sBAAnB,EACY,eADZ,EACsC,gBADtC,EAC+D;AAAA;;AAC3D,aAAK,kBAAL,GAA0B,sBAA1B;AACA,aAAK,UAAL,GAAkB,EAAlB;AACA,aAAK,WAAL,GAAmB,eAAnB;AACA,aAAK,YAAL,GAAoB,gBAApB;AACH;;;;qCAEmB,K,EAAc;AAC9B,iBAAK,UAAL,CAAgB,KAAhB,IAAyB,IAAI,KAAJ,EAAzB;AACH;;;0CAEwB,K,EAAgB,K,EAAgB,a,EAAsB;AAC3E,gBAAI,UAAU,KAAK,kBAAL,CAAwB,KAAxB,GAA8B,KAAK,WAAjD;AACA,gBAAI,OAAO,KAAK,kBAAL,CAAwB,MAAxB,GAA+B,KAAK,YAA/C;AACA,gBAAI,MAAM,QAAQ,OAAlB;AACA,gBAAI,MAAM,KAAK,KAAL,CAAW,QAAS,OAApB,CAAV;AACA,gBAAI,OAAO,MAAM,KAAK,WAAtB;AACA,gBAAI,MAAM,MAAM,KAAK,YAArB;AACA,iBAAK,UAAL,CAAgB,KAAhB,EAAuB,IAAvB,CAA4B,IAAI,cAAJ,CAAmB,IAAnB,EAAyB,GAAzB,EAA8B,aAA9B,CAA5B;AACH;;;yCAEoB;AACjB,mBAAO,KAAK,WAAZ;AACH;;;0CAEqB;AAClB,iBAAK,WAAL,GAAmB,CAAnB;AACH;;;0CAEqB;AAClB,mBAAO,KAAK,YAAZ;AACH;;;2CAEsB;AACnB,iBAAK,YAAL,GAAoB,CAApB;AACH;;;gDAE2B;AACxB,mBAAO,KAAK,kBAAZ;AACH;;;qCAEmB,K,EAAc;AAC9B,mBAAO,KAAK,UAAL,CAAgB,KAAhB,CAAP;AACH;;;gCAEc,K,EAAgB,U,EAAmB;AAC9C,gBAAI,iBAAkC,KAAK,UAAL,CAAgB,KAAhB,EAAuB,UAAvB,CAAtC;AACA,mBAAO,eAAe,IAAtB;AACH;;;+BAEa,K,EAAgB,U,EAAmB;AAC7C,gBAAI,iBAAkC,KAAK,UAAL,CAAgB,KAAhB,EAAuB,UAAvB,CAAtC;AACA,mBAAO,eAAe,GAAtB;AACH;;;;;;AA5DL,QAAA,kBAAA,GAAA,kBAAA;;;;;;;;;;;ICPa,Y;AAaT,4BAAA;AAAA;;AAAA;;AAkBO,aAAA,gBAAA,GAAmB,UAAC,KAAD,EAA8B;AACpD,gBAAI,cAAuB,MAAM,OAAjC;AACA,gBAAI,cAAuB,MAAM,OAAjC;AACA,kBAAK,IAAL,GAAY,WAAZ;AACA,kBAAK,IAAL,GAAY,WAAZ;AACA,gBAAI,SAA0B,MAAK,KAAL,CAAW,WAAX,CAAuB,WAAvB,EAAoC,WAApC,CAA9B;AACA,gBAAI,SAA0B,MAAK,KAAL,CAAW,WAAX,CAAuB,WAAvB,EAAoC,WAApC,CAA9B;AACA,oBAAQ,GAAR,CAAY,kBAAkB,WAA9B;AACA,oBAAQ,GAAR,CAAY,kBAAkB,WAA9B;AAEA,gBAAG,UAAU,IAAV,IAAkB,UAAU,IAA/B,EAAoC;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAS,IAAT;AACH;AACD,gBAAI,UAAU,IAAd,EAAoB;AAChB,wBAAQ,GAAR,CAAY,iBAAZ;AACA,sBAAK,YAAL,GAAoB,IAApB;AACA;AACA,sBAAK,YAAL,GAAoB,MAApB;AACA,sBAAK,WAAL,GAAmB,OAAO,WAAP,GAAqB,IAArB,KAA8B,WAAjD;AACA,sBAAK,WAAL,GAAmB,OAAO,WAAP,GAAqB,IAArB,KAA8B,WAAjD;AACH,aAPD,MAOM,IAAI,UAAU,IAAd,EAAoB;AACtB,wBAAQ,GAAR,CAAY,iBAAZ;AACA,sBAAK,YAAL,GAAoB,IAApB;AACA;AACA,sBAAK,YAAL,GAAoB,MAApB;AACA,sBAAK,WAAL,GAAmB,OAAO,WAAP,GAAqB,IAArB,KAA8B,WAAjD;AACA,sBAAK,WAAL,GAAmB,OAAO,WAAP,GAAqB,IAArB,KAA8B,WAAjD;AACH;AACJ,SArCM;AAuCA,aAAA,gBAAA,GAAmB,UAAC,KAAD,EAA8B;AAEpD,gBAAI,MAAK,YAAL,IAAqB,IAAzB,EAA+B;AAC3B,wBAAQ,GAAR,CAAY,iBAAZ;AACA,sBAAK,YAAL,CAAkB,WAAlB,GAAgC,GAAhC,CAAoC,MAAM,OAAN,GAAgB,MAAK,WAAzD,EACoC,MAAM,OAAN,GAAgB,MAAK,WADzD,EAEoC,MAAK,YAAL,CAAkB,WAAlB,GAAgC,IAAhC,EAFpC,EAGoC,MAAK,YAAL,CAAkB,WAAlB,GAAgC,IAAhC,EAHpC;AAIH;AAED,gBAAI,MAAK,YAAL,IAAqB,IAAzB,EAA+B;AAC3B,wBAAQ,GAAR,CAAY,UAAZ;AACA,sBAAK,YAAL,CAAkB,WAAlB,GAAgC,GAAhC,CAAoC,MAAM,OAAN,GAAgB,MAAK,WAAzD,EACoC,MAAM,OAAN,GAAgB,MAAK,WADzD,EAEoC,MAAK,YAAL,CAAkB,WAAlB,GAAgC,IAAhC,EAFpC,EAGoC,MAAK,YAAL,CAAkB,WAAlB,GAAgC,IAAhC,EAHpC;AAIH;AACJ,SAjBM;AAmBA,aAAA,cAAA,GAAiB,UAAC,KAAD,EAA8B;AAClD,gBAAG,MAAK,YAAL,IAAqB,IAArB,IAA6B,MAAK,YAAL,IAAqB,IAArD,EAA0D;AACtD,sBAAK,eAAL;AACH;AACD,kBAAK,YAAL,GAAoB,IAApB;AACA,kBAAK,YAAL,GAAoB,IAApB;AACH,SANM;AAQA,aAAA,kBAAA,GAAqB,UAAC,KAAD,EAA8B;AACtD,gBAAI,cAAuB,MAAM,OAAjC;AACA,gBAAI,cAAuB,MAAM,OAAjC;AACA,kBAAK,IAAL,GAAY,WAAZ;AACA,kBAAK,IAAL,GAAY,WAAZ;AACA,gBAAI,SAA0B,MAAK,KAAL,CAAW,WAAX,CAAuB,WAAvB,EAAoC,WAApC,CAA9B;AACA,gBAAI,SAA0B,MAAK,KAAL,CAAW,WAAX,CAAuB,WAAvB,EAAoC,WAApC,CAA9B;AACA,gBAAG,UAAU,IAAb,EAAkB;AACd,oBAAG,UAAU,IAAV,IAAkB,OAAO,WAAP,KAAuB,OAAO,WAAP,EAA5C,EAAiE;AAC7D,0BAAK,eAAL,CAAqB,IAArB,CAA0B,MAA1B;AACA,6BAAS,IAAT,CAF6D,CAE9C;AAClB;AACJ;AACD,gBAAG,UAAU,IAAb,EAAkB;AACd,sBAAK,eAAL,CAAqB,IAArB,CAA0B,MAA1B;AACH;AACJ,SAhBM;AApFgB;;;;6BAEX,Q,EAAmB,S,EAAsB;AACjD,iBAAK,YAAL,GAAoB,IAApB;AACA,iBAAK,KAAL,GAAa,SAAb;AACA,iBAAK,WAAL,GAAmB,CAAC,CAApB;AACA,iBAAK,WAAL,GAAmB,CAAC,CAApB;AACA,iBAAK,eAAL,GAAuB,CAAvB;AACA,iBAAK,eAAL,GAAuB,EAAvB;AACA,iBAAK,eAAL,GAAuB,EAAvB;AAEA,gBAAI,SAAgD,SAAS,cAAT,CAAwB,QAAxB,CAApD;AACA,mBAAO,gBAAP,CAAwB,WAAxB,EAAqC,KAAK,gBAA1C;AACA,mBAAO,gBAAP,CAAwB,WAAxB,EAAqC,KAAK,gBAA1C;AACA,mBAAO,gBAAP,CAAwB,SAAxB,EAAmC,KAAK,cAAxC;AACA,mBAAO,gBAAP,CAAwB,UAAxB,EAAoC,KAAK,kBAAzC;AACH;;;6CAsFwB;AACrB,mBAAO,KAAK,eAAZ;AACH;;;6CAEwB;AACrB,mBAAO,KAAK,eAAL,CAAqB,GAArB,EAAP;AACH;;;6CAEwB;AACrB,mBAAO,KAAK,eAAZ;AACH;;;6CAEwB;AACrB,mBAAO,KAAK,eAAL,CAAqB,GAArB,EAAP;AACH;;;6CAEwB;AACrB,mBAAO,KAAK,eAAZ;AACH;;;6CAEwB;AACrB,iBAAK,eAAL;AACH;;;kCAEa;AACV,mBAAO,KAAK,IAAZ;AACH;;;kCAEa;AACV,mBAAO,KAAK,IAAZ;AACH;;;;;;AAjJL,QAAA,YAAA,GAAA,YAAA","file":"demo.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","/*\n * AnimatedSpriteDemo.ts - demonstrates some simple sprite rendering and \n * animation as well as some basic mouse interactions. Note that the\n * AnimationSpriteDemo class loads and creates custom content for the\n * purpose of demonstrating basic functionality.\n */\nimport {Game} from '../wolfie2d/Game'\nimport {ResourceManager} from '../wolfie2d/files/ResourceManager'\nimport {TextToRender} from '../wolfie2d/rendering/TextRenderer'\nimport {WebGLGameRenderingSystem} from '../wolfie2d/rendering/WebGLGameRenderingSystem'\nimport {SceneGraph} from '../wolfie2d/scene/SceneGraph'\nimport {AnimatedSprite} from '../wolfie2d/scene/sprite/AnimatedSprite'\nimport {AnimatedSpriteType} from '../wolfie2d/scene/sprite/AnimatedSpriteType'\nimport { GradientCircleType } from '../wolfie2d/scene/circle/GradientCircleType'\nimport { GradientCircle } from '../wolfie2d/scene/circle/GradientCircle'\nimport { WebGLGameTexture } from '../wolfie2d/rendering/WebGLGameTexture'\n\n// IN THIS EXAMPLE WE'LL HAVE 2 SPRITE TYPES THAT EACH HAVE THE SAME 2 STATES\n// AND WHERE EACH SPRITE TYPE HAS ITS OWN SPRITE SHEET\nconst DEMO_SPRITE_TYPES : string[] = [\n    'resources/animated_sprites/RedCircleMan.json',\n    'resources/animated_sprites/MultiColorBlock.json'\n];\nconst DEMO_SPRITE_STATES = {\n    FORWARD_STATE: 'FORWARD',\n    REVERSE_STATE: 'REVERSE'\n};\nconst DEMO_TEXTURES : string[] = [\n    'resources/images/EightBlocks.png', \n    'resources/images/RedCircleMan.png'\n];\n\nclass AnimatedSpriteDemo {\n    constructor() {}\n\n    /**\n     * This method initializes the application, building all the needed\n     * game objects and setting them up for use.\n     */\n    public buildTestScene(game : Game, callback : Function) {\n        let renderingSystem : WebGLGameRenderingSystem = game.getRenderingSystem();\n        let sceneGraph : SceneGraph = game.getSceneGraph();\n        let resourceManager : ResourceManager = game.getResourceManager();\n        let builder = this;\n \n        // EMPLOY THE RESOURCE MANAGER TO BUILD ALL THE WORLD CONTENT\n        resourceManager.loadTextures(DEMO_TEXTURES, renderingSystem, function() {\n            // ONLY AFTER ALL THE TEXTURES HAVE LOADED LOAD THE SPRITE TYPES\n            resourceManager.loadSpriteTypes(DEMO_SPRITE_TYPES, function() {\n                // ONLY AFTER ALL THE SPRITE TYPES HAVE LOADED LOAD THE SPRITES\n                builder.buildAnimatedSprites(resourceManager, sceneGraph);\n\n                // AND BUILD ALL THE TEXT OUR APP WILL USE\n                builder.buildText(game);\n\n                // EVERYTHING HAS BEEN BUILT, CALL THE CALLBACK\n                callback();\n            });\n        });\n    }\n\n    /*\n     * Builds all the animated sprites to be used by the application and\n     * adds them to the scene.\n     */\n    private buildAnimatedSprites(resourceManager : ResourceManager, scene : SceneGraph) {\n        let canvasWidth : number = (<HTMLCanvasElement>document.getElementById(\"game_canvas\")).width;\n        let canvasHeight : number = (<HTMLCanvasElement>document.getElementById(\"game_canvas\")).height;\n\n        // BUILD A BUNCH OF CIRCLE SPRITES\n        for (let i = 0; i < DEMO_SPRITE_TYPES.length; i++) {\n            for (let j = 0; j < 5; j++) {\n                let spriteTypeToUse : string = DEMO_SPRITE_TYPES[i];\n                let animatedSpriteType : AnimatedSpriteType = resourceManager.getAnimatedSpriteTypeById(spriteTypeToUse);\n                let spriteToAdd : AnimatedSprite = new AnimatedSprite(animatedSpriteType, DEMO_SPRITE_STATES.FORWARD_STATE, SceneGraph.lastIndex);\n                SceneGraph.lastIndex++;\n                let randomX : number = Math.floor(Math.random() * canvasWidth) - (animatedSpriteType.getSpriteWidth()/2);\n                let randomY : number = Math.floor(Math.random() * canvasHeight) - (animatedSpriteType.getSpriteHeight()/2);\n                spriteToAdd.getPosition().set(randomX, randomY, 0.0, 1.0);\n                scene.addAnimatedSprite(spriteToAdd);\n            }\n        }\n\n        //build circles\n        // for(let i = 0; i < 4; i++){\n        //     let type = new GradientCircleType(1, 1);\n        //     let circle : GradientCircle = new GradientCircle(type, \"RED\", SceneGraph.lastIndex);\n        //     SceneGraph.lastIndex++;\n        //     let randomX : number = Math.floor(Math.random() * canvasWidth) - 50;\n        //     let randomY : number = Math.floor(Math.random() * canvasHeight) - 50;\n        //     circle.getPosition().set(randomX, randomY, 0.0, 1.0);\n        //     scene.addGradientCirlce(circle);\n        // }\n        //build red circle\n        let type = new GradientCircleType(1, 1);\n        let circle : GradientCircle = new GradientCircle(type, \"RED\", SceneGraph.lastIndex);\n        SceneGraph.lastIndex++;\n        let randomX : number = Math.floor(Math.random() * canvasWidth) - 25;\n        let randomY : number = Math.floor(Math.random() * canvasHeight) - 25;\n        circle.getPosition().set(randomX, randomY, 0.0, 1.0);\n        scene.addGradientCirlce(circle);\n\n        type = new GradientCircleType(1, 1);\n        circle = new GradientCircle(type, \"BLUE\", SceneGraph.lastIndex);\n        SceneGraph.lastIndex++;\n        randomX = Math.floor(Math.random() * canvasWidth) - 25;\n        randomY = Math.floor(Math.random() * canvasHeight) - 25;\n        circle.getPosition().set(randomX, randomY, 0.0, 1.0);\n        scene.addGradientCirlce(circle);\n\n        type = new GradientCircleType(1, 1);\n        circle = new GradientCircle(type, \"GREEN\", SceneGraph.lastIndex);\n        SceneGraph.lastIndex++;\n        randomX = Math.floor(Math.random() * canvasWidth) - 25;\n        randomY = Math.floor(Math.random() * canvasHeight) - 25;\n        circle.getPosition().set(randomX, randomY, 0.0, 1.0);\n        scene.addGradientCirlce(circle);\n\n        type = new GradientCircleType(1, 1);\n        circle = new GradientCircle(type, \"YELLOW\", SceneGraph.lastIndex);\n        SceneGraph.lastIndex++;\n        randomX = Math.floor(Math.random() * canvasWidth) - 25;\n        randomY = Math.floor(Math.random() * canvasHeight) - 25;\n        circle.getPosition().set(randomX, randomY, 0.0, 1.0);\n        scene.addGradientCirlce(circle);\n\n        type = new GradientCircleType(1, 1);\n        circle = new GradientCircle(type, \"CYAN\", SceneGraph.lastIndex);\n        SceneGraph.lastIndex++;\n        randomX = Math.floor(Math.random() * canvasWidth) - 25;\n        randomY = Math.floor(Math.random() * canvasHeight) - 25;\n        circle.getPosition().set(randomX, randomY, 0.0, 1.0);\n        scene.addGradientCirlce(circle);\n    }\n\n    /*\n     * Builds all the text to be displayed in the application.\n     */\n    private buildText(game : Game) {\n        let sceneGraph : SceneGraph = game.getSceneGraph();\n        let numSpritesText = new TextToRender(\"Num Sprites\", \"\", 20, 50, function() {\n            numSpritesText.text = \"Number of Sprites: \" + sceneGraph.getNumSprites();\n        });\n        let textRenderer = game.getRenderingSystem().getTextRenderer();\n        textRenderer.addTextToRender(numSpritesText);\n    }\n}\n\n// THIS IS THE ENTRY POINT INTO OUR APPLICATION, WE MAKE\n// THE Game OBJECT AND INITIALIZE IT WITH THE CANVASES\nlet game = new Game();\ngame.init(\"game_canvas\", \"text_canvas\");\n\n// BUILD THE GAME SCENE\nlet demo = new AnimatedSpriteDemo();\ndemo.buildTestScene(game, function() {\n    // AND START THE GAME LOOP\n    game.start();\n});","/*\n * Game is the focal point of the application, it has 4 subsystems,\n * the resource manager, the scene graph, the rendering system, and\n * the UI controller. In addition it serves as the game loop, providing\n * both an update and draw function that is called on a schedule.\n */\nimport {GameLoopTemplate} from './loop/GameLoopTemplate'\nimport {WebGLGameRenderingSystem} from './rendering/WebGLGameRenderingSystem'\nimport {SceneGraph} from './scene/SceneGraph'\nimport {AnimatedSprite} from './scene/sprite/AnimatedSprite'\nimport {ResourceManager} from './files/ResourceManager'\nimport {UIController} from './ui/UIController'\nimport { GradientCircle } from './scene/circle/GradientCircle'\n\nexport class Game extends GameLoopTemplate {\n    private resourceManager : ResourceManager = new ResourceManager();\n    private sceneGraph : SceneGraph = new SceneGraph();\n    private renderingSystem : WebGLGameRenderingSystem = new WebGLGameRenderingSystem();\n    private uiController : UIController = new UIController();\n\n    public constructor() {\n        super();\n    }\n\n    public getRenderingSystem() : WebGLGameRenderingSystem {\n        return this.renderingSystem;\n    }\n\n    public getResourceManager() : ResourceManager {\n        return this.resourceManager;\n    }\n\n    public getSceneGraph() : SceneGraph {\n        return this.sceneGraph;\n    }\n\n    public init(gameCanvasId : string, textCanvasId : string) : void {\n        this.renderingSystem.init(gameCanvasId, textCanvasId);\n        this.uiController.init(gameCanvasId, this.sceneGraph);\n    }\n\n    public begin() : void {\n       //setTimeout(this.update1, 1000);\n    }\n\n    private isRed(g : GradientCircle) : boolean{\n        if(g.getState() == \"RED\"){\n            return true;\n        }\n        return false;\n    }\n\n    private isBlue(g : GradientCircle) : boolean{\n        if(g.getState() === \"BLUE\"){\n            return true;\n        }\n        return false;\n    }\n\n    private isGreen(g : GradientCircle) : boolean{\n        if(g.getState() === \"GREEN\"){\n            return true;\n        }\n        return false;\n    }\n\n    private isYellow(g : GradientCircle) : boolean{\n        if(g.getState() === \"YELLOW\"){\n            return true;\n        }\n        return false;\n    }\n\n    private isCyan(g : GradientCircle) : boolean{\n        if(g.getState() === \"CYAN\"){\n            return true;\n        }\n        return false;\n    }\n\n    private isMagenta(g : GradientCircle) : boolean{\n        if(g.getState() === \"MAGENTA\"){\n            return true;\n        }\n        return false;\n    }\n\n    /*\n     * This draws the game. Note that we are not currently using the \n     * interpolation value, but could once physics is involved.\n     */\n    public draw(interpolationPercentage : number) : void {\n        // GET THE VISIBLE SET FROM THE SCENE GRAPH\n        let visibleSprites : Array<AnimatedSprite>;\n        visibleSprites = <Array<AnimatedSprite>>this.sceneGraph.scope();\n        let circleSet : Array<GradientCircle>;\n        circleSet = <Array<GradientCircle>>this.sceneGraph.scope2();\n        let redSet : Array<GradientCircle>;\n        redSet = circleSet.filter(this.isRed);\n\n        let blueSet : Array<GradientCircle>;\n        blueSet = circleSet.filter(this.isBlue);\n\n        let greenSet : Array<GradientCircle>;\n        greenSet = circleSet.filter(this.isGreen);\n\n        let yellowSet : Array<GradientCircle>;\n        yellowSet = circleSet.filter(this.isYellow);\n\n        let cyanSet : Array<GradientCircle>;\n        cyanSet = circleSet.filter(this.isCyan);\n\n        let magentaSet : Array<GradientCircle>;\n        magentaSet = circleSet.filter(this.isMagenta);\n\n\n        // RENDER THE VISIBLE SET, WHICH SHOULD ALL BE RENDERABLE\n        this.renderingSystem.render(visibleSprites, redSet, blueSet, greenSet, cyanSet, yellowSet, magentaSet);\n    }\n\n    /**\n     * Updates the scene.\n     */\n    public update(delta : number) : void {\n        this.sceneGraph.update(delta);\n         var to_add = this.uiController.getNumObjectsToAdd();\n         if(to_add > 0){\n            for(var i = 0; i < to_add; i++){\n                var new_sprite = this.resourceManager.generate_random_sprite(this.uiController.getXPos(), this.uiController.getYPos());\n                this.sceneGraph.addAnimatedSprite(new_sprite);\n                var visibleSprites = <Array<AnimatedSprite>>this.sceneGraph.scope();\n                this.uiController.subNumObjectsToAdd();\n\n            }\n            this.renderingSystem.render(visibleSprites, [], [], [], [], [], []);\n        }\n        while(this.uiController.getSpritesToRemove().length > 0){\n            var sprite = this.uiController.popSpritesToRemove();\n            //sprite.clearSprite();\n            this.sceneGraph.removeAnimatedSprite(sprite);\n        }\n\n        while(this.uiController.getCirclesToRemove().length > 0){\n            var circle = this.uiController.popCirclesToRemove();\n            //sprite.clearSprite();\n            this.sceneGraph.removeGradientCircle(circle);\n        }\n    }\n\n    \n    \n    /**\n     * Updates the FPS counter.\n     */\n    public end(fps : number, panic : boolean) : void {\n        if (panic) {\n            var discardedTime = Math.round(this.resetFrameDelta());\n            console.warn('Main loop panicked, probably because the browser tab was put in the background. Discarding ' + discardedTime + 'ms');\n        }\n    }\n}","/*\n * ResourceManager.js\n *\n * This class is responsible for managing all shared resources. This means things\n * that may be needed by multiple game objects. In this application this means\n * textures for the purpose of GPU rendering and animated sprite types.\n */\nimport {SpriteTypeData, AnimationStateData, AnimationFrameData} from './SpriteTypeData'\nimport {HashTable} from '../data/HashTable'\nimport {WebGLGameRenderingSystem} from '../rendering/WebGLGameRenderingSystem'\nimport {WebGLGameTexture} from '../rendering/WebGLGameTexture'\nimport {AnimatedSprite} from '../scene/sprite/AnimatedSprite'\nimport {AnimatedSpriteType} from '../scene/sprite/AnimatedSpriteType'\nimport { SceneGraph } from '../scene/SceneGraph'\n\n//constants assed by me\nconst DEMO_SPRITE_TYPES : string[] = [\n    'resources/animated_sprites/RedCircleMan.json',\n    'resources/animated_sprites/MultiColorBlock.json'\n];\nconst DEMO_SPRITE_STATES = {\n    FORWARD_STATE: 'FORWARD',\n    REVERSE_STATE: 'REVERSE'\n};\nconst DEMO_TEXTURES : string[] = [\n    'resources/images/EightBlocks.png', \n    'resources/images/RedCircleMan.png'\n];\n\nexport class ResourceManager {\n    \n    // GAME TEXTURES \n    private gameTextures : Array<WebGLGameTexture> = new Array();\n    private gameTextureIds : HashTable<number> = {};\n    private numTexturesToLoad : number;\n    private numTexturesLoaded : number;\n\n    // ANIMATED SPRITE TYPES\n    private gameSpriteTypes : Array<AnimatedSpriteType> = new Array();\n    private gameSpriteTypeIds : HashTable<number> = {};\n    private numSpriteTypesToLoad : number;\n    private numSpriteTypesLoaded : number;\n\n    public constructor() {}\n\n    // ACCESSOR METHODS\n\n    public getAnimatedSpriteTypeByIndex(typeIndex : number) : AnimatedSpriteType {\n        return this.gameSpriteTypes[typeIndex];\n    }\n\n    public getAnimatedSpriteTypeById(typeId : string) : AnimatedSpriteType {\n        let typeIndex : number = this.gameSpriteTypeIds[typeId];\n        return this.getAnimatedSpriteTypeByIndex(typeIndex);\n    }\n    \n    // ADDS A NEW SPRITE TYPE \n    public addAnimatedSpriteType(typeId : number, spriteType : AnimatedSpriteType) : void {\n        this.gameSpriteTypes[typeId] = spriteType;\n    }\n\n    /*\n     * Loads all the textures listed in the texturePaths argument and once\n     * that is done it calls the callback function.\n     */\n    public loadTextures(    texturePaths : Array<string>, \n                            renderingSystem : WebGLGameRenderingSystem, \n                            callback : Function) : void {\n        // THEN LOAD THE TEXTURES WE'LL BE USING\n        this.numTexturesToLoad = texturePaths.length;\n        this.numTexturesLoaded = 0;\n        let thisResourceManager = this;\n        let startNumTextures = this.gameTextures.length;\n        for (let i : number = 0; i < this.numTexturesToLoad; i++) {\n            let textureToLoad : WebGLGameTexture = new WebGLGameTexture();\n            let textureId = startNumTextures + i;\n            thisResourceManager.gameTextures[textureId] = textureToLoad;\n            thisResourceManager.gameTextureIds[texturePaths[i]] = textureId;\n            thisResourceManager.loadImage(texturePaths[i], textureId, function(id : number, image : HTMLImageElement) {\n                renderingSystem.initWebGLTexture(textureToLoad, id, image, function() {\n                    thisResourceManager.completeLoadingTexture(callback);\n                });\n            });\n        }\n    }\n\n    /*\n     * Loads all the sprite types listed in the spriteTypePaths argument and once\n     * that is done it calls the callback function.\n     */\n    public loadSpriteTypes(spriteTypePaths : Array<string>, \n                    callback : Function) : void {\n        // THEN LOAD THE TEXTURES WE'LL BE USING\n        this.numSpriteTypesToLoad = spriteTypePaths.length;\n        this.numSpriteTypesLoaded = 0;\n        let thisResourceManager = this;\n        let startNumSpriteTypes = this.gameSpriteTypes.length;\n        for (let i : number = 0; i < this.numSpriteTypesToLoad; i++) {\n            let spriteTypeId = startNumSpriteTypes + i;\n            this.loadSpriteType(spriteTypePaths[i], spriteTypeId, function() {\n                thisResourceManager.completeLoadingSpriteType(callback);\n            });\n        }\n    }\n\n    // PRIVATE HELPER METHODS\n\n    //public helper methods\n    public generate_random_sprite(posX : number, posY : number) : AnimatedSprite{\n        let canvasWidth : number = (<HTMLCanvasElement>document.getElementById(\"game_canvas\")).width;\n        let canvasHeight : number = (<HTMLCanvasElement>document.getElementById(\"game_canvas\")).height;\n\n\n        let spriteTypeToUse : string = DEMO_SPRITE_TYPES[0];\n        let animatedSpriteType : AnimatedSpriteType = this.getAnimatedSpriteTypeById(spriteTypeToUse);\n        let spriteToAdd : AnimatedSprite = new AnimatedSprite(animatedSpriteType, DEMO_SPRITE_STATES.FORWARD_STATE, SceneGraph.lastIndex);\n        SceneGraph.lastIndex++;\n        let newX : number = posX - (animatedSpriteType.getSpriteWidth()/2);\n        let newY : number = posY - (animatedSpriteType.getSpriteHeight()/2);\n        spriteToAdd.getPosition().set(newX, newY, 0.0, 1.0);\n        return spriteToAdd;\n    }\n\n    // LOADS A NEW JSON FILE AND UPON COMPLETION CALLS THE callback FUNCTION\n    private loadJsonFile(testFilePath : string, callback : Function) : void {\n        let xobj : XMLHttpRequest = new XMLHttpRequest();\n        xobj.overrideMimeType(\"application/json\");\n        xobj.open('GET', testFilePath, true);\n        xobj.onreadystatechange = function () {\n            if ((xobj.readyState == 4) && (xobj.status == 200)) {\n                callback(xobj.responseText);\n            }\n        };\n        xobj.send(null);\n    }\n\n    // CHECKS TO SEE IF ALL TEXTURE LOADING IS COMPLETE, IF YES, callback IS INVOKED\n    private completeLoadingTexture(callback : Function) : void {\n        this.numTexturesLoaded++;\n        if (this.numTexturesLoaded === this.numTexturesToLoad) {\n            callback();\n        }\n    }\n\n    /**\n     * Loads an Image into RAM and once that process is complete it\n     * calls the callback method argument, presumably to then load\n     * it into GPU memory.\n     */\n    private loadImage(path : string, id : number, callback : Function) : void {\n        // MAKE THE IMAGE\n        var image = new Image();\n\n        // ONCE THE IMAGE LOADING IS COMPLETED, THE CALLBACK WILL GET CALLED\n        image.onload = function () { \n            callback(id, image); \n        }\n\n        // START IMAGE LOADING\n        image.src = path;\n    }\n\n    /*\n     * This function loads a single sprite type resource from a JSON file and upon\n     * completion calls the callback function.\n     */\n    private loadSpriteType(jsonFilePath : string, spriteTypeId : number, callback : Function) : void {\n        let thisResourceManager : ResourceManager = this;\n        this.loadJsonFile(jsonFilePath, function(jsonText : string) {\n            let spriteType : AnimatedSpriteType = thisResourceManager.loadSpriteTypeData(jsonText);\n            thisResourceManager.gameSpriteTypes[spriteTypeId] = spriteType;\n            thisResourceManager.gameSpriteTypeIds[jsonFilePath] = spriteTypeId;\n            callback();\n        });\n    }\n\n    /*\n     * This helper function loads all the json text into an AnimatedSpriteType\n     * object and returns it.\n     */\n    private loadSpriteTypeData = (jsonText : string) : AnimatedSpriteType => {\n        let jsonData : SpriteTypeData = <SpriteTypeData>JSON.parse(jsonText);\n        let texturePath = jsonData.spriteSheetImage;\n        let textureId = this.gameTextureIds[texturePath];\n        let texture : WebGLGameTexture = this.gameTextures[textureId];\n        let spriteWidth : number = jsonData.spriteWidth;\n        let spriteHeight : number = jsonData.spriteHeight;\n        let animatedSpriteType = new AnimatedSpriteType(texture, spriteWidth, spriteHeight);\n        for (let i = 0; i < jsonData.animations.length; i++) {\n            let animation = <AnimationStateData>jsonData.animations[i];\n            animatedSpriteType.addAnimation(animation.name);\n            for (var j = 0; j < animation.frames.length; j++) {\n                var frame = animation.frames[j];\n                animatedSpriteType.addAnimationFrame(animation.name, frame.index, frame.duration);\n            }\n        }\n        return animatedSpriteType;\n    }\n\n    // CHECKS TO SEE IF ALL SPRITE TYPE LOADING IS COMPLETE, IF YES, callback IS INVOKED\n    private completeLoadingSpriteType(callback : Function) : void {\n        this.numSpriteTypesLoaded++;\n        if (this.numSpriteTypesLoaded === this.numSpriteTypesToLoad) {\n            callback();\n        }\n    }    \n}","export abstract class GameLoopTemplate {\n    // ALL INSTANCE VARIABLES WILL BE INITIALIZED VIA THE CONSTRUCTOR\n    private fps: number;\n    private simulationTimestep: number;\n    private frameDelta: number;\n    private lastFrameTimeMs: number;\n    private fpsAlpha: number;\n    private fpsUpdateInterval: number;\n    private lastFpsUpdate: number;\n    private framesSinceLastFpsUpdate: number;\n    private numUpdateSteps: number;\n    private minFrameDelay: number;\n    private running: boolean;\n    private started: boolean;\n    private panic: boolean;\n    private raf: number;\n\n    constructor() {\n        // An exponential moving average of the frames per second.\n        this.fps = 60;\n\n        // The amount of time (in milliseconds) to simulate each time update() runs.\n        // See `MainLoop.setSimulationTimestep()` for details.\n        this.simulationTimestep = 1000 / this.fps;\n\n        // The cumulative amount of in-app time that hasn't been simulated yet.\n        // See the comments inside animate() for details.\n        this.frameDelta = 0;\n\n        // The timestamp in milliseconds of the last time the main loop was run.\n        // Used to compute the time elapsed between frames.\n        this.lastFrameTimeMs = 0;\n\n        // A factor that affects how heavily to weight more recent seconds'\n        // performance when calculating the average frames per second. Valid values\n        // range from zero to one inclusive. Higher values result in weighting more\n        // recent seconds more heavily.\n        this.fpsAlpha = 0.9;\n\n        // The minimum duration between updates to the frames-per-second estimate.\n        // Higher values increase accuracy, but result in slower updates.\n        this.fpsUpdateInterval = 1000;\n\n        // The timestamp (in milliseconds) of the last time the `fps` moving\n        // average was updated.\n        this.lastFpsUpdate = 0;\n\n        // The number of frames delivered since the last time the `fps` moving\n        // average was updated (i.e. since `lastFpsUpdate`).\n        this.framesSinceLastFpsUpdate = 0;\n\n        // The number of times update() is called in a given frame. This is only\n        // relevant inside of animate(), but a reference is held externally so that\n        // this variable is not marked for garbage collection every time the main\n        // loop runs.\n        this.numUpdateSteps = 0;\n\n        // The minimum amount of time in milliseconds that must pass since the last\n        // frame was executed before another frame can be executed. The\n        // multiplicative inverse caps the FPS (the default of zero means there is\n        // no cap).\n        this.minFrameDelay = 0;\n\n        // Whether the main loop is running.\n        this.running = false;\n\n        // `true` if `MainLoop.start()` has been called and the most recent time it\n        // was called has not been followed by a call to `MainLoop.stop()`. This is\n        // different than `running` because there is a delay of a few milliseconds\n        // after `MainLoop.start()` is called before the application is considered\n        // \"running.\" This delay is due to waiting for the next frame.\n        this.started = false;\n\n        // Whether the simulation has fallen too far behind real time.\n        // Specifically, `panic` will be set to `true` if too many updates occur in\n        // one frame. This is only relevant inside of animate(), but a reference is\n        // held externally so that this variable is not marked for garbage\n        // collection every time the main loop runs.\n        this.panic = false;\n    }\n\n    /**\n     * Gets how many milliseconds should be simulated by every run of update().\n     *\n     * See `MainLoop.setSimulationTimestep()` for details on this value.\n     *\n     * @return {Number}\n     *   The number of milliseconds that should be simulated by every run of\n     *   {@link #setUpdate update}().\n     */\n    getSimulationTimestep(): number {\n        return this.simulationTimestep;\n    }\n\n    /**\n     * Sets how many milliseconds should be simulated by every run of update().\n     *\n     * The perceived frames per second (FPS) is effectively capped at the\n     * multiplicative inverse of the simulation timestep. That is, if the\n     * timestep is 1000 / 60 (which is the default), then the maximum perceived\n     * FPS is effectively 60. Decreasing the timestep increases the maximum\n     * perceived FPS at the cost of running {@link #setUpdate update}() more\n     * times per frame at lower frame rates. Since running update() more times\n     * takes more time to process, this can actually slow down the frame rate.\n     * Additionally, if the amount of time it takes to run update() exceeds or\n     * very nearly exceeds the timestep, the application will freeze and crash\n     * in a spiral of death (unless it is rescued; see `MainLoop.setEnd()` for\n     * an explanation of what can be done if a spiral of death is occurring).\n     *\n     * The exception to this is that interpolating between updates for each\n     * render can increase the perceived frame rate and reduce visual\n     * stuttering. See `MainLoop.setDraw()` for an explanation of how to do\n     * this.\n     *\n     * If you are considering decreasing the simulation timestep in order to\n     * raise the maximum perceived FPS, keep in mind that most monitors can't\n     * display more than 60 FPS. Whether humans can tell the difference among\n     * high frame rates depends on the application, but for reference, film is\n     * usually displayed at 24 FPS, other videos at 30 FPS, most games are\n     * acceptable above 30 FPS, and virtual reality might require 75 FPS to\n     * feel natural. Some gaming monitors go up to 144 FPS. Setting the\n     * timestep below 1000 / 144 is discouraged and below 1000 / 240 is\n     * strongly discouraged. The default of 1000 / 60 is good in most cases.\n     *\n     * The simulation timestep should typically only be changed at\n     * deterministic times (e.g. before the main loop starts for the first\n     * time, and not in response to user input or slow frame rates) to avoid\n     * introducing non-deterministic behavior. The update timestep should be\n     * the same for all players/users in multiplayer/multi-user applications.\n     *\n     * See also `MainLoop.getSimulationTimestep()`.\n     *\n     * @param {Number} timestep\n     *   The number of milliseconds that should be simulated by every run of\n     *   {@link #setUpdate update}().\n     */\n    setSimulationTimestep(timestep: number): void {\n        this.simulationTimestep = timestep;\n    }\n\n    /**\n     * Returns the exponential moving average of the frames per second.\n     *\n     * @return {Number}\n     *   The exponential moving average of the frames per second.\n     */\n    getFPS(): number {\n        return this.fps;\n    }\n\n    /**\n     * Gets the maximum frame rate.\n     *\n     * Other factors also limit the FPS; see `MainLoop.setSimulationTimestep`\n     * for details.\n     *\n     * See also `MainLoop.setMaxAllowedFPS()`.\n     *\n     * @return {Number}\n     *   The maximum number of frames per second allowed.\n     */\n    getMaxAllowedFPS(): number {\n        return 1000 / this.minFrameDelay;\n    }\n\n    /**\n     * Sets a maximum frame rate.\n     *\n     * See also `MainLoop.getMaxAllowedFPS()`.\n     *\n     * @param {Number} [fps=Infinity]\n     *   The maximum number of frames per second to execute. If Infinity or not\n     *   passed, there will be no FPS cap (although other factors do limit the\n     *   FPS; see `MainLoop.setSimulationTimestep` for details). If zero, this\n     *   will stop the loop, and when the loop is next started, it will return\n     *   to the previous maximum frame rate. Passing negative values will stall\n     *   the loop until this function is called again with a positive value.\n     *\n     * @chainable\n     */\n    setMaxAllowedFPS(fps: number): void {\n        if (typeof fps === 'undefined') {\n            fps = Infinity;\n        }\n        if (fps === 0) {\n            this.stop();\n        }\n        else {\n            // Dividing by Infinity returns zero.\n            this.minFrameDelay = 1000 / fps;\n        }\n    }\n\n    /**\n     * Reset the amount of time that has not yet been simulated to zero.\n     *\n     * This introduces non-deterministic behavior if called after the\n     * application has started running (unless it is being reset, in which case\n     * it doesn't matter). However, this can be useful in cases where the\n     * amount of time that has not yet been simulated has grown very large\n     * (for example, when the application's tab gets put in the background and\n     * the browser throttles the timers as a result). In applications with\n     * lockstep the player would get dropped, but in other networked\n     * applications it may be necessary to snap or ease the player/user to the\n     * authoritative state and discard pending updates in the process. In\n     * non-networked applications it may also be acceptable to simply resume\n     * the application where it last left off and ignore the accumulated\n     * unsimulated time.\n     *\n     * @return {Number}\n     *   The cumulative amount of elapsed time in milliseconds that has not yet\n     *   been simulated, but is being discarded as a result of calling this\n     *   function.\n     */\n    resetFrameDelta() : number {\n        var oldFrameDelta = this.frameDelta;\n        this.frameDelta = 0;\n        return oldFrameDelta;\n    }\n\n    /**\n     * Starts the main loop.\n     *\n     * Note that the application is not considered \"running\" immediately after\n     * this function returns; rather, it is considered \"running\" after the\n     * application draws its first frame. The distinction is that event\n     * handlers should remain paused until the application is running, even\n     * after `MainLoop.start()` is called. Check `MainLoop.isRunning()` for the\n     * current status. To act after the application starts, register a callback\n     * with requestAnimationFrame() after calling this function and execute the\n     * action in that callback. It is safe to call `MainLoop.start()` multiple\n     * times even before the application starts running and without calling\n     * `MainLoop.stop()` in between, although there is no reason to do this;\n     * the main loop will only start if it is not already started.\n     *\n     * See also `MainLoop.stop()`.\n     */\n    start(): void {\n        if (!this.started) {\n            // Since the application doesn't start running immediately, track\n            // whether this function was called and use that to keep it from\n            // starting the main loop multiple times.\n            this.started = true;\n\n            // In the main loop, draw() is called after update(), so if we\n            // entered the main loop immediately, we would never render the\n            // initial state before any updates occur. Instead, we run one\n            // frame where all we do is draw, and then start the main loop with\n            // the next frame.\n            this.raf = requestAnimationFrame(this.startLoop.bind(this));\n        }\n    }\n\n    startLoop(timestamp : number): void {\n        // Render the initial state before any updates occur.\n        this.draw(1);\n\n        // The application isn't considered \"running\" until the\n        // application starts drawing.\n        this.running = true;\n\n        // Reset variables that are used for tracking time so that we\n        // don't simulate time passed while the application was paused.\n        this.lastFrameTimeMs = timestamp;\n        this.lastFpsUpdate = timestamp;\n        this.framesSinceLastFpsUpdate = 0;\n\n        // Start the main loop.\n        this.raf = window.requestAnimationFrame(this.animate.bind(this));\n    }\n\n    /**\n     * Returns whether the main loop is currently running.\n     *\n     * See also `MainLoop.start()` and `MainLoop.stop()`.\n     *\n     * @return {Boolean}\n     *   Whether the main loop is currently running.\n     */\n    isRunning(): boolean {\n        return this.running;\n    }\n\n    /**\n     * Stops the main loop.\n     *\n     * Event handling and other background tasks should also be paused when the\n     * main loop is paused.\n     *\n     * Note that pausing in multiplayer/multi-user applications will cause the\n     * player's/user's client to become out of sync. In this case the\n     * simulation should exit, or the player/user needs to be snapped to their\n     * updated position when the main loop is started again.\n     *\n     * See also `MainLoop.start()` and `MainLoop.isRunning()`.\n     */\n    stop(): void {\n        this.running = false;\n        this.started = false;\n        window.cancelAnimationFrame(this.raf);\n    }\n\n    /**\n     * The main loop that runs updates and rendering.\n     * \n     * @param {DOMHighResTimeStamp} timestamp\n     * The current timestamp. In practice this is supplied by\n     * requestAnimationFrame at the time that it starts to fire callbacks. This\n     * should only be used for comparison to other timestamps because the epoch\n     * (i.e. the \"zero\" time) depends on the engine running this code. In engines\n     * that support `DOMHighResTimeStamp` (all modern browsers except iOS Safari\n     * 8) the epoch is the time the page started loading, specifically\n     * `performance.timing.navigationStart`. Everywhere else, including node.js,\n     * the epoch is the Unix epoch (1970-01-01T00:00:00Z).\n     * \n     * @ignore\n     */\n    animate(timestamp : number): void {\n        // Run the loop again the next time the browser is ready to render.\n        // We set rafHandle immediately so that the next frame can be canceled\n        // during the current frame.\n        this.raf = window.requestAnimationFrame(this.animate.bind(this));\n\n        // Throttle the frame rate (if minFrameDelay is set to a non-zero value by\n        // `MainLoop.setMaxAllowedFPS()`).\n        if (timestamp < this.lastFrameTimeMs + this.minFrameDelay) {\n            return;\n        }\n\n        // frameDelta is the cumulative amount of in-app time that hasn't been\n        // simulated yet. Add the time since the last frame. We need to track total\n        // not-yet-simulated time (as opposed to just the time elapsed since the\n        // last frame) because not all actually elapsed time is guaranteed to be\n        // simulated each frame. See the comments below for details.\n        this.frameDelta += timestamp - this.lastFrameTimeMs;\n        this.lastFrameTimeMs = timestamp;\n\n        // Run any updates that are not dependent on time in the simulation. See\n        // `MainLoop.setBegin()` for additional details on how to use this.\n        this.begin(timestamp, this.frameDelta);\n\n        // Update the estimate of the frame rate, `fps`. Approximately every\n        // second, the number of frames that occurred in that second are included\n        // in an exponential moving average of all frames per second. This means\n        // that more recent seconds affect the estimated frame rate more than older\n        // seconds.\n        if (timestamp > this.lastFpsUpdate + this.fpsUpdateInterval) {\n            // Compute the new exponential moving average.\n            this.fps =\n                // Divide the number of frames since the last FPS update by the\n                // amount of time that has passed to get the mean frames per second\n                // over that period. This is necessary because slightly more than a\n                // second has likely passed since the last update.\n                this.fpsAlpha * this.framesSinceLastFpsUpdate * 1000 / (timestamp - this.lastFpsUpdate) +\n                (1 - this.fpsAlpha) * this.fps;\n\n            // Reset the frame counter and last-updated timestamp since their\n            // latest values have now been incorporated into the FPS estimate.\n            this.lastFpsUpdate = timestamp;\n            this.framesSinceLastFpsUpdate = 0;\n        }\n        // Count the current frame in the next frames-per-second update. This\n        // happens after the previous section because the previous section\n        // calculates the frames that occur up until `timestamp`, and `timestamp`\n        // refers to a time just before the current frame was delivered.\n        this.framesSinceLastFpsUpdate++;\n\n        /*\n         * A naive way to move an object along its X-axis might be to write a main\n         * loop containing the statement `obj.x += 10;` which would move the object\n         * 10 units per frame. This approach suffers from the issue that it is\n         * dependent on the frame rate. In other words, if your application is\n         * running slowly (that is, fewer frames per second), your object will also\n         * appear to move slowly, whereas if your application is running quickly\n         * (that is, more frames per second), your object will appear to move\n         * quickly. This is undesirable, especially in multiplayer/multi-user\n         * applications.\n         *\n         * One solution is to multiply the speed by the amount of time that has\n         * passed between rendering frames. For example, if you want your object to\n         * move 600 units per second, you might write `obj.x += 600 * delta`, where\n         * `delta` is the time passed since the last frame. (For convenience, let's\n         * move this statement to an update() function that takes `delta` as a\n         * parameter.) This way, your object will move a constant distance over\n         * time. However, at low frame rates and high speeds, your object will move\n         * large distances every frame, which can cause it to do strange things\n         * such as move through walls. Additionally, we would like our program to\n         * be deterministic. That is, every time we run the application with the\n         * same input, we would like exactly the same output. If the time between\n         * frames (the `delta`) varies, our output will diverge the longer the\n         * program runs due to accumulated rounding errors, even at normal frame\n         * rates.\n         *\n         * A better solution is to separate the amount of time simulated in each\n         * update() from the amount of time between frames. Our update() function\n         * doesn't need to change; we just need to change the delta we pass to it\n         * so that each update() simulates a fixed amount of time (that is, `delta`\n         * should have the same value each time update() is called). The update()\n         * function can be run multiple times per frame if needed to simulate the\n         * total amount of time passed since the last frame. (If the time that has\n         * passed since the last frame is less than the fixed simulation time, we\n         * just won't run an update() until the the next frame. If there is\n         * unsimulated time left over that is less than our timestep, we'll just\n         * leave it to be simulated during the next frame.) This approach avoids\n         * inconsistent rounding errors and ensures that there are no giant leaps\n         * through walls between frames.\n         *\n         * That is what is done below. It introduces a new problem, but it is a\n         * manageable one: if the amount of time spent simulating is consistently\n         * longer than the amount of time between frames, the application could\n         * freeze and crash in a spiral of death. This won't happen as long as the\n         * fixed simulation time is set to a value that is high enough that\n         * update() calls usually take less time than the amount of time they're\n         * simulating. If it does start to happen anyway, see `MainLoop.setEnd()`\n         * for a discussion of ways to stop it.\n         *\n         * Additionally, see `MainLoop.setUpdate()` for a discussion of performance\n         * considerations.\n         *\n         * Further reading for those interested:\n         *\n         * - http://gameprogrammingpatterns.com/game-loop.html\n         * - http://gafferongames.com/game-physics/fix-your-timestep/\n         * - https://gamealchemist.wordpress.com/2013/03/16/thoughts-on-the-javascript-game-loop/\n         * - https://developer.mozilla.org/en-US/docs/Games/Anatomy\n         */\n        this.numUpdateSteps = 0;\n        while (this.frameDelta >= this.simulationTimestep) {\n            this.update(this.simulationTimestep);\n            this.frameDelta -= this.simulationTimestep;\n\n            /*\n             * Sanity check: bail if we run the loop too many times.\n             *\n             * One way this could happen is if update() takes longer to run than\n             * the time it simulates, thereby causing a spiral of death. For ways\n             * to avoid this, see `MainLoop.setEnd()`. Another way this could\n             * happen is if the browser throttles serving frames, which typically\n             * occurs when the tab is in the background or the device battery is\n             * low. An event outside of the main loop such as audio processing or\n             * synchronous resource reads could also cause the application to hang\n             * temporarily and accumulate not-yet-simulated time as a result.\n             *\n             * 240 is chosen because, for any sane value of simulationTimestep, 240\n             * updates will simulate at least one second, and it will simulate four\n             * seconds with the default value of simulationTimestep. (Safari\n             * notifies users that the script is taking too long to run if it takes\n             * more than five seconds.)\n             *\n             * If there are more updates to run in a frame than this, the\n             * application will appear to slow down to the user until it catches\n             * back up. In networked applications this will usually cause the user\n             * to get out of sync with their peers, but if the updates are taking\n             * this long already, they're probably already out of sync.\n             */\n            if (++this.numUpdateSteps >= 240) {\n                this.panic = true;\n                break;\n            }\n        }\n\n        /*\n         * Render the screen. We do this regardless of whether update() has run\n         * during this frame because it is possible to interpolate between updates\n         * to make the frame rate appear faster than updates are actually\n         * happening. See `MainLoop.setDraw()` for an explanation of how to do\n         * that.\n         *\n         * We draw after updating because we want the screen to reflect a state of\n         * the application that is as up-to-date as possible. (`MainLoop.start()`\n         * draws the very first frame in the application's initial state, before\n         * any updates have occurred.) Some sources speculate that rendering\n         * earlier in the requestAnimationFrame callback can get the screen painted\n         * faster; this is mostly not true, and even when it is, it's usually just\n         * a trade-off between rendering the current frame sooner and rendering the\n         * next frame later.\n         *\n         * See `MainLoop.setDraw()` for details about draw() itself.\n         */\n        this.draw(this.frameDelta / this.simulationTimestep);\n\n        // Run any updates that are not dependent on time in the simulation. See\n        // `MainLoop.setEnd()` for additional details on how to use this.\n        this.end(this.fps, this.panic);\n\n        this.panic = false;\n    }\n\n    // SUBCLASSES MUST OVERRIDE FOUR REQUIRED METHODS:\n        // begin\n        // update\n        // draw\n        // end\n\n    /**\n     * A function that runs at the beginning of the main loop.\n     *\n     * The begin() function is typically used to process input before the\n     * updates run. Processing input here (in chunks) can reduce the running\n     * time of event handlers, which is useful because long-running event\n     * handlers can sometimes delay frames.\n     *\n     * Unlike {@link #setUpdate update}(), which can run zero or more times per\n     * frame, begin() always runs exactly once per frame. This makes it useful\n     * for any updates that are not dependent on time in the simulation.\n     * Examples include adjusting HUD calculations or performing long-running\n     * updates incrementally. Compared to {@link #setEnd end}(), generally\n     * actions should occur in begin() if they affect anything that\n     * {@link #setUpdate update}() or {@link #setDraw draw}() use.\n     *\n     * @param {Function} begin\n     *   The begin() function.\n     * @param {Number} [begin.timestamp]\n     *   The current timestamp (when the frame started), in milliseconds. This\n     *   should only be used for comparison to other timestamps because the\n     *   epoch (i.e. the \"zero\" time) depends on the engine running this code.\n     *   In engines that support `DOMHighResTimeStamp` (all modern browsers\n     *   except iOS Safari 8) the epoch is the time the page started loading,\n     *   specifically `performance.timing.navigationStart`. Everywhere else,\n     *   including node.js, the epoch is the Unix epoch (1970-01-01T00:00:00Z).\n     * @param {Number} [begin.delta]\n     *   The total elapsed time that has not yet been simulated, in\n     *   milliseconds.\n     */\n    abstract begin(timestamp : number, delta : number) : void;\n\n    /**\n     * A function that runs updates (i.e. AI and physics).\n     *\n     * The update() function should simulate anything that is affected by time.\n     * It can be called zero or more times per frame depending on the frame\n     * rate.\n     *\n     * As with everything in the main loop, the running time of update()\n     * directly affects the frame rate. If update() takes long enough that the\n     * frame rate drops below the target (\"budgeted\") frame rate, parts of the\n     * update() function that do not need to execute between every frame can be\n     * moved into Web Workers. (Various sources on the internet sometimes\n     * suggest other scheduling patterns using setTimeout() or setInterval().\n     * These approaches sometimes offer modest improvements with minimal\n     * changes to existing code, but because JavaScript is single-threaded, the\n     * updates will still block rendering and drag down the frame rate. Web\n     * Workers execute in separate threads, so they free up more time in the\n     * main loop.)\n     *\n     * This script can be imported into a Web Worker using importScripts() and\n     * used to run a second main loop in the worker. Some considerations:\n     *\n     * - Profile your code before doing the work to move it into Web Workers.\n     *   It could be the rendering that is the bottleneck, in which case the\n     *   solution is to decrease the visual complexity of the scene.\n     * - It doesn't make sense to move the *entire* contents of update() into\n     *   workers unless {@link #setDraw draw}() can interpolate between frames.\n     *   The lowest-hanging fruit is background updates (like calculating\n     *   citizens' happiness in a city-building game), physics that doesn't\n     *   affect the scene (like flags waving in the wind), and anything that is\n     *   occluded or happening far off screen.\n     * - If draw() needs to interpolate physics based on activity that occurs\n     *   in a worker, the worker needs to pass the interpolation value back to\n     *   the main thread so that is is available to draw().\n     * - Web Workers can't access the state of the main thread, so they can't\n     *   directly modify objects in your scene. Moving data to and from Web\n     *   Workers is a pain. The fastest way to do it is with Transferable\n     *   Objects: basically, you can pass an ArrayBuffer to a worker,\n     *   destroying the original reference in the process.\n     *\n     * You can read more about Web Workers and Transferable Objects at\n     * [HTML5 Rocks](http://www.html5rocks.com/en/tutorials/workers/basics/).\n     *\n     * @param {Function} update\n     *   The update() function.\n     * @param {Number} [update.delta]\n     *   The amount of time in milliseconds to simulate in the update. In most\n     *   cases this timestep never changes in order to ensure deterministic\n     *   updates. The timestep is the same as that returned by\n     *   `MainLoop.getSimulationTimestep()`.\n     */\n    abstract update(timeStep : number) : void;\n\n    /**\n     * A function that draws things on the screen.\n     *\n     * The draw() function gets passed the percent of time that the next run of\n     * {@link #setUpdate update}() will simulate that has actually elapsed, as\n     * a decimal. In other words, draw() gets passed how far between update()\n     * calls it is. This is useful because the time simulated by update() and\n     * the time between draw() calls is usually different, so the parameter to\n     * draw() can be used to interpolate motion between frames to make\n     * rendering appear smoother. To illustrate, if update() advances the\n     * simulation at each vertical bar in the first row below, and draw() calls\n     * happen at each vertical bar in the second row below, then some frames\n     * will have time left over that is not yet simulated by update() when\n     * rendering occurs in draw():\n     *\n     *     update() timesteps:  |  |  |  |  |  |  |  |  |\n     *     draw() calls:        |   |   |   |   |   |   |\n     *\n     * To interpolate motion for rendering purposes, objects' state after the\n     * last update() must be retained and used to calculate an intermediate\n     * state. Note that this means renders will be up to one update() behind.\n     * This is still better than extrapolating (projecting objects' state after\n     * a future update()) which can produce bizarre results. Storing multiple\n     * states can be difficult to set up, and keep in mind that running this\n     * process takes time that could push the frame rate down, so it's often\n     * not worthwhile unless stuttering is visible.\n     *\n     * @param {Function} draw\n     *   The draw() function.\n     * @param {Number} [draw.interpolationPercentage]\n     *   The cumulative amount of time that hasn't been simulated yet, divided\n     *   by the amount of time that will be simulated the next time update()\n     *   runs. Useful for interpolating frames.\n     */\n    public abstract draw(interpolationPercentage : number) : void;\n\n    /**\n     * A function that runs at the end of the main loop.\n     *\n     * Unlike {@link #setUpdate update}(), which can run zero or more times per\n     * frame, end() always runs exactly once per frame. This makes it useful\n     * for any updates that are not dependent on time in the simulation.\n     * Examples include cleaning up any temporary state set up by\n     * {@link #setBegin begin}(), lowering the visual quality if the frame rate\n     * is too low, or performing long-running updates incrementally. Compared\n     * to begin(), generally actions should occur in end() if they use anything\n     * that update() or {@link #setDraw draw}() affect.\n     *\n     * @param {Function} end\n     *   The end() function.\n     * @param {Number} [end.fps]\n     *   The exponential moving average of the frames per second. This is the\n     *   same value returned by `MainLoop.getFPS()`. It can be used to take\n     *   action when the FPS is too low (or to restore to normalcy if the FPS\n     *   moves back up). Examples of actions to take if the FPS is too low\n     *   include exiting the application, lowering the visual quality, stopping\n     *   or reducing activities outside of the main loop like event handlers or\n     *   audio playback, performing non-critical updates less frequently, or\n     *   increasing the simulation timestep (by calling\n     *   `MainLoop.setSimulationTimestep()`). Note that this last option\n     *   results in more time being simulated per update() call, which causes\n     *   the application to behave non-deterministically.\n     * @param {Boolean} [end.panic=false]\n     *   Indicates whether the simulation has fallen too far behind real time.\n     *   Specifically, `panic` will be `true` if too many updates occurred in\n     *   one frame. In networked lockstep applications, the application should\n     *   wait for some amount of time to see if the user can catch up before\n     *   dropping the user. In networked but non-lockstep applications, this\n     *   typically indicates that the user needs to be snapped or eased to the\n     *   current authoritative state. When this happens, it may be convenient\n     *   to call `MainLoop.resetFrameDelta()` to discard accumulated pending\n     *   updates. In non-networked applications, it may be acceptable to allow\n     *   the application to keep running for awhile to see if it will catch up.\n     *   However, this could also cause the application to look like it is\n     *   running very quickly for a few frames as it transitions through the\n     *   intermediate states. An alternative that may be acceptable is to\n     *   simply ignore the unsimulated elapsed time by calling\n     *   `MainLoop.resetFrameDelta()` even though this introduces\n     *   non-deterministic behavior. In all cases, if the application panics\n     *   frequently, this is an indication that the main loop is running too\n     *   slowly. However, most of the time the drop in frame rate will probably\n     *   be noticeable before a panic occurs. To help the application catch up\n     *   after a panic caused by a spiral of death, the same steps can be taken\n     *   that are suggested above if the FPS drops too low.\n     */\n    abstract end(fps : number, panic : boolean) : void;\n}","/*\n * MathUtilities provides a number of services for rendering using 4x4 matrices, like\n * transformting (i.e. translation, rotation, and scaling) 3d or 2d points from world\n * coordinate systems to screen coordinate systems.\n */\nimport {Matrix} from './Matrix'\nimport {Vector3} from './Vector3'\n\nexport namespace MathUtilities {\n    export function determinant4x4(result : Matrix) : number {\n        let det0 = result.get(0, 0) * (\n            (result.get(1, 1) * ((result.get(2, 2) * result.get(3, 3)) - (result.get(2, 3) * result.get(3, 2))))\n            - (result.get(1, 2) * ((result.get(2, 1) * result.get(3, 3)) - (result.get(2, 3) * result.get(3, 1))))\n            + (result.get(1, 3) * ((result.get(2, 1) * result.get(3, 2)) - (result.get(3, 1) * result.get(2, 2)))));\n        let det1 = result.get(0, 1) * (\n            (result.get(1, 0) * ((result.get(2, 2) * result.get(3, 3)) - (result.get(2, 3) * result.get(3, 2))))\n            - (result.get(1, 2) * ((result.get(2, 0) * result.get(3, 3)) - (result.get(3, 0) * result.get(2, 3))))\n            + (result.get(1, 3) * ((result.get(2, 0) * result.get(3, 2)) - (result.get(3, 0) * result.get(2, 2)))));\n        let det2 = result.get(0, 2) * (\n            (result.get(1, 0) * ((result.get(2, 1) * result.get(3, 3)) - (result.get(2, 3) * result.get(3, 1))))\n            - (result.get(1, 1) * ((result.get(2, 0) * result.get(3, 3)) - (result.get(2, 3) * result.get(3, 0))))\n            + (result.get(1, 3) * ((result.get(2, 0) * result.get(3, 1)) - (result.get(2, 1) * result.get(3, 0)))));\n        let det3 = result.get(0, 3) * (\n            (result.get(1, 0) * ((result.get(2, 1) * result.get(3, 2)) - (result.get(2, 2) * result.get(3, 1))))\n            - (result.get(1, 1) * ((result.get(2, 0) * result.get(3, 2)) - (result.get(2, 2) * result.get(3, 0))))\n            + (result.get(1, 2) * ((result.get(2, 0) * result.get(3, 1)) - (result.get(2, 1) * result.get(3, 0)))));\n        let det = det0 - det1 + det2 - det3;\n        console.log(\"det = \" + det0 + \" + \" + det1 + \" + \" + det2 + \" + \" + det3);\n        return det;\n    }\n    export function identity(result : Matrix) : void {\n        if (result.getRows() === result.getColumns()) {\n            for (let i = 0; i < result.getRows(); i++) {\n                for (let j = 0; j < result.getColumns(); j++) {\n                    if (i === j)\n                        result.set(1.0, i, j);\n                    else\n                        result.set(0.0, i, j);\n                }\n            }\n        }\n    }\n    export function inverse(result : Matrix, mat : Matrix) : void {\n        let det = this.determinant(mat);\n        let m00 = mat.get(0, 0); let m01 = mat.get(0, 1); let m02 = mat.get(0, 2); let m03 = mat.get(0, 3);\n        let m10 = mat.get(1, 0); let m11 = mat.get(1, 1); let m12 = mat.get(1, 2); let m13 = mat.get(1, 3);\n        let m20 = mat.get(2, 0); let m21 = mat.get(2, 1); let m22 = mat.get(2, 2); let m23 = mat.get(2, 3);\n        let m30 = mat.get(3, 0); let m31 = mat.get(3, 1); let m32 = mat.get(3, 2); let m33 = mat.get(3, 3);\n        let temp = new Matrix(4, 4);\n        temp.set((m12 * m23 * m31) - (m13 * m22 * m31) + (m13 * m21 * m32) - (m11 * m23 * m32) - (m12 * m21 * m33) + (m11 * m22 * m33), 0, 0);\n        temp.set((m03 * m22 * m31) - (m02 * m23 * m31) - (m03 * m21 * m32) + (m01 * m23 * m32) + (m02 * m21 * m33) - (m01 * m22 * m33), 0, 1);\n        temp.set((m02 * m13 * m31) - (m03 * m12 * m31) + (m03 * m11 * m32) - (m01 * m13 * m32) - (m02 * m11 * m33) + (m01 * m12 * m33), 0, 2);\n        temp.set((m03 * m12 * m21) - (m02 * m13 * m21) - (m03 * m11 * m22) + (m01 * m13 * m22) + (m02 * m11 * m23) - (m01 * m12 * m23), 0, 3);\n        temp.set((m13 * m22 * m30) - (m12 * m23 * m30) - (m13 * m20 * m32) + (m10 * m23 * m32) + (m12 * m20 * m33) - (m10 * m22 * m33), 1, 0);\n        temp.set((m02 * m23 * m30) - (m03 * m22 * m30) + (m03 * m20 * m32) - (m00 * m23 * m32) - (m02 * m20 * m33) + (m00 * m22 * m33), 1, 1);\n        temp.set((m03 * m12 * m30) - (m02 * m13 * m30) - (m03 * m10 * m32) + (m00 * m13 * m32) + (m02 * m10 * m33) - (m00 * m12 * m33), 1, 2);\n        temp.set((m02 * m13 * m20) - (m03 * m12 * m20) + (m03 * m10 * m22) - (m00 * m13 * m22) - (m02 * m10 * m23) + (m00 * m12 * m23), 1, 3);\n        temp.set((m11 * m23 * m30) - (m13 * m21 * m30) + (m13 * m20 * m31) - (m10 * m23 * m31) - (m11 * m20 * m33) + (m10 * m21 * m33), 2, 0);\n        temp.set((m03 * m21 * m30) - (m01 * m23 * m30) - (m03 * m20 * m31) + (m00 * m23 * m31) + (m01 * m20 * m33) - (m00 * m21 * m33), 2, 1);\n        temp.set((m01 * m13 * m30) - (m03 * m11 * m30) + (m03 * m10 * m31) - (m00 * m13 * m31) - (m01 * m10 * m33) + (m00 * m11 * m33), 2, 2);\n        temp.set((m03 * m11 * m20) - (m01 * m13 * m20) - (m03 * m10 * m21) + (m00 * m13 * m21) + (m01 * m10 * m23) - (m00 * m11 * m23), 2, 3);\n        temp.set((m12 * m21 * m30) - (m11 * m22 * m30) - (m12 * m20 * m31) + (m10 * m22 * m31) + (m11 * m20 * m32) - (m10 * m21 * m32), 3, 0);\n        temp.set((m01 * m22 * m30) - (m02 * m21 * m30) + (m02 * m20 * m31) - (m00 * m22 * m31) - (m01 * m20 * m32) + (m00 * m21 * m32), 3, 1);\n        temp.set((m02 * m11 * m30) - (m01 * m12 * m30) - (m02 * m10 * m31) + (m00 * m12 * m31) + (m01 * m10 * m32) - (m00 * m11 * m32), 3, 2);\n        temp.set((m01 * m12 * m20) - (m02 * m11 * m20) + (m02 * m10 * m21) - (m00 * m12 * m21) - (m01 * m10 * m22) + (m00 * m11 * m22), 3, 3);\n        for (let i = 0; i < 4; i++) {\n            for (let j = 0; j < 4; j++) {\n                result.set(temp.get(i, j) / det, i, j);\n            }\n        }\n    }\n    export function model(result : Matrix, translation : Vector3, rotation : Vector3, scale : Vector3) : void {\n        // TRANSLATION MATRIX\t\n        let translationMatrix = new Matrix(4, 4);\n        this.identity(translationMatrix);\n        this.translate(translationMatrix, translation);\n\n        // ROTATION MATRIX\n        let rotationMatrix = new Matrix(4, 4);\n        this.identity(rotationMatrix);\n        this.rotate(rotationMatrix, rotation);\n\n        // SCALING MATRIX\n        let scaleMatrix = new Matrix(4, 4);\n        this.identity(scaleMatrix);\n        this.scale(scaleMatrix, scale);\n\n        // AND NOW MULTIPLY THEM TOGETHER IN THE CORRECT ORDER\n        let tempMatrix = new Matrix(4, 4);\n        this.multiply(tempMatrix, translationMatrix, rotationMatrix);\n        this.multiply(result, tempMatrix, scaleMatrix);\n    }\n\n    export function multiply(result : Matrix, mat0 : Matrix, mat1 : Matrix) : void {\n        // result MIGHT BE mat0 OR mat1 SO IT'S BEST IF WE\n        // CALCULATE TEMP VALUES FIRST BEFORE ASSIGNMENT\n        let r00 = (mat0.get(0, 0) * mat1.get(0, 0))\n            + (mat0.get(0, 1) * mat1.get(1, 0))\n            + (mat0.get(0, 2) * mat1.get(2, 0))\n            + (mat0.get(0, 3) * mat1.get(3, 0));\n        let r10 = (mat0.get(1, 0) * mat1.get(0, 0))\n            + (mat0.get(1, 1) * mat1.get(1, 0))\n            + (mat0.get(1, 2) * mat1.get(2, 0))\n            + (mat0.get(1, 3) * mat1.get(3, 0));\n        let r20 = (mat0.get(2, 0) * mat1.get(0, 0))\n            + (mat0.get(2, 1) * mat1.get(1, 0))\n            + (mat0.get(2, 2) * mat1.get(2, 0))\n            + (mat0.get(2, 3) * mat1.get(3, 0));\n        let r30 = (mat0.get(3, 0) * mat1.get(0, 0))\n            + (mat0.get(3, 1) * mat1.get(1, 0))\n            + (mat0.get(3, 2) * mat1.get(2, 0))\n            + (mat0.get(3, 3) * mat1.get(3, 0));\n        let r01 = (mat0.get(0, 0) * mat1.get(0, 1))\n            + (mat0.get(0, 1) * mat1.get(1, 1))\n            + (mat0.get(0, 2) * mat1.get(2, 1))\n            + (mat0.get(0, 3) * mat1.get(3, 1));\n        let r11 = (mat0.get(1, 0) * mat1.get(0, 1))\n            + (mat0.get(1, 1) * mat1.get(1, 1))\n            + (mat0.get(1, 2) * mat1.get(2, 1))\n            + (mat0.get(1, 3) * mat1.get(3, 1));\n        let r21 = (mat0.get(2, 0) * mat1.get(0, 1))\n            + (mat0.get(2, 1) * mat1.get(1, 1))\n            + (mat0.get(2, 2) * mat1.get(2, 1))\n            + (mat0.get(2, 3) * mat1.get(3, 1));\n        let r31 = (mat0.get(3, 0) * mat1.get(0, 1))\n            + (mat0.get(3, 1) * mat1.get(1, 1))\n            + (mat0.get(3, 2) * mat1.get(2, 1))\n            + (mat0.get(3, 3) * mat1.get(3, 1));\n        let r02 = (mat0.get(0, 0) * mat1.get(0, 2))\n            + (mat0.get(0, 1) * mat1.get(1, 2))\n            + (mat0.get(0, 2) * mat1.get(2, 2))\n            + (mat0.get(0, 3) * mat1.get(3, 2));\n        let r12 = (mat0.get(1, 0) * mat1.get(0, 2))\n            + (mat0.get(1, 1) * mat1.get(1, 2))\n            + (mat0.get(1, 2) * mat1.get(2, 2))\n            + (mat0.get(1, 3) * mat1.get(3, 2));\n        let r22 = (mat0.get(2, 0) * mat1.get(0, 2))\n            + (mat0.get(2, 1) * mat1.get(1, 2))\n            + (mat0.get(2, 2) * mat1.get(2, 2))\n            + (mat0.get(2, 3) * mat1.get(3, 2));\n        let r32 = (mat0.get(3, 0) * mat1.get(0, 2))\n            + (mat0.get(3, 1) * mat1.get(1, 2))\n            + (mat0.get(3, 2) * mat1.get(2, 2))\n            + (mat0.get(3, 3) * mat1.get(3, 2));\n        let r03 = (mat0.get(0, 0) * mat1.get(0, 3))\n            + (mat0.get(0, 1) * mat1.get(1, 3))\n            + (mat0.get(0, 2) * mat1.get(2, 3))\n            + (mat0.get(0, 3) * mat1.get(3, 3));\n        let r13 = (mat0.get(1, 0) * mat1.get(0, 3))\n            + (mat0.get(1, 1) * mat1.get(1, 3))\n            + (mat0.get(1, 2) * mat1.get(2, 3))\n            + (mat0.get(1, 3) * mat1.get(3, 3));\n        let r23 = (mat0.get(2, 0) * mat1.get(0, 3))\n            + (mat0.get(2, 1) * mat1.get(1, 3))\n            + (mat0.get(2, 2) * mat1.get(2, 3))\n            + (mat0.get(2, 3) * mat1.get(3, 3));\n        let r33 = (mat0.get(3, 0) * mat1.get(0, 3))\n            + (mat0.get(3, 1) * mat1.get(1, 3))\n            + (mat0.get(3, 2) * mat1.get(2, 3))\n            + (mat0.get(3, 3) * mat1.get(3, 3));\n\n        // NOW PUT ALL THE CALCULATED VALUES IN THE result MATRIX\n        result.set(r00, 0, 0);\n        result.set(r10, 1, 0);\n        result.set(r20, 2, 0);\n        result.set(r30, 3, 0);\n        result.set(r01, 0, 1);\n        result.set(r11, 1, 1);\n        result.set(r21, 2, 1);\n        result.set(r31, 3, 1);\n        result.set(r02, 0, 2);\n        result.set(r12, 1, 2);\n        result.set(r22, 2, 2);\n        result.set(r32, 3, 2);\n        result.set(r03, 0, 3);\n        result.set(r13, 1, 3);\n        result.set(r23, 2, 3);\n        result.set(r33, 3, 3);\n    }\n\n    export function projection(result : Matrix, nearZ : number, farZ : number, viewportWidth : number, viewportHeight : number, fovY : number) : void {\n        let aspectRatio = viewportWidth / viewportHeight;\n        let fieldOfViewY = this.math.degreesToRadians(fovY);\n        let fieldOfViewX = 2 * Math.atan(Math.tan(fieldOfViewY / 2) * aspectRatio);\n\n        // WE'LL USE THESE AS SHORTHAND FOR LOADING OUR MATRIX\n        let n = nearZ;\n        let f = farZ;\n        let r = Math.tan(fieldOfViewX / 2) * n;\n        let t = Math.tan(fieldOfViewY / 2) * n;\n\n        // 0-3\n        result.set(n / r, 0, 0);\n        result.set(0.0, 0, 1);\n        result.set(0.0, 0, 2);\n        result.set(0.0, 0, 3);\n        // 4-7\n        result.set(0.0, 1, 0);\n        result.set(n / t, 1, 1);\n        result.set(0.0, 1, 2);\n        result.set(0.0, 1, 3);\n        // 8-11\n        result.set(0.0, 2, 0);\n        result.set(0.0, 2, 1);\n        result.set((-(f + n)) / (f - n), 2, 2);\n        result.set((-2 * f * n) / (f - n), 2, 3);\n        // 12-15 \n        result.set(0.0, 3, 0);\n        result.set(0.0, 3, 1);\n        result.set(-1.0, 3, 2);\n        result.set(0.0, 3, 3);\n    }\n\n    export function rotate(result : Matrix, rotationVector : Vector3) : void {\n        // START WITH THE X-AXIS ROTATION\n        let xRotationMatrix = new Matrix(4, 4);\n        this.identity(xRotationMatrix);\n        let thetaX = rotationVector.getThetaX();\n        xRotationMatrix.set(Math.cos(thetaX), 1, 1);\n        xRotationMatrix.set(Math.sin(thetaX), 2, 1);\n        xRotationMatrix.set(-1 * Math.sin(thetaX), 1, 2);\n        xRotationMatrix.set(Math.cos(thetaX), 2, 2);\n\n        // START WITH THE Y-AXIS ROTATION\n        let yRotationMatrix = new Matrix(4, 4);\n        this.identity(yRotationMatrix);\n        let thetaY = rotationVector.getThetaY();\n        yRotationMatrix.set(Math.cos(thetaY), 0, 0);\n        yRotationMatrix.set(-1 * Math.sin(thetaY), 2, 0);\n        yRotationMatrix.set(Math.sin(thetaY), 0, 2);\n        yRotationMatrix.set(Math.cos(thetaY), 2, 2);\n\n        // START WITH THE Z-AXIS ROTATION\n        let zRotationMatrix = new Matrix(4, 4);\n        this.identity(zRotationMatrix);\n        let thetaZ = rotationVector.getThetaZ();\n        zRotationMatrix.set(Math.cos(thetaZ), 0, 0);\n        zRotationMatrix.set(Math.sin(thetaZ), 1, 0);\n        zRotationMatrix.set(-1 * Math.sin(thetaZ), 0, 1);\n        zRotationMatrix.set(Math.cos(thetaZ), 1, 1);\n\n        // START WITH THE X-AXIS ROTATION\n        let tempMatrix = new Matrix(4, 4);\n        this.identity(tempMatrix);\n        this.multiply(tempMatrix, xRotationMatrix, yRotationMatrix);\n        this.multiply(result, tempMatrix, zRotationMatrix);\n    }\n\n    export function scale(result : Matrix, scaleVector : Vector3) : void {\n        // START WITH THE IDENTITY MATRIX\n        this.identity(result, scaleVector);\n\n        // AND THEN LOAD IN THE TRANSLATION VALUES\n        result.set(scaleVector.getX(), 0, 0);\n        result.set(scaleVector.getY(), 1, 1);\n        result.set(scaleVector.getZ(), 2, 2);\n    }\n\n    export function transform(result : Vector3, mat : Matrix, vec : Vector3) : void {\n        result.setX((mat.get(0, 0) * vec.getX()) + (mat.get(0, 1) * vec.getY()) + (mat.get(0, 2) * vec.getZ()) + (mat.get(0, 3) * vec.getW()));\n        result.setY((mat.get(1, 0) * vec.getX()) + (mat.get(1, 1) * vec.getY()) + (mat.get(1, 2) * vec.getZ()) + (mat.get(1, 3) * vec.getW()));\n        result.setZ((mat.get(2, 0) * vec.getX()) + (mat.get(2, 1) * vec.getY()) + (mat.get(2, 2) * vec.getZ()) + (mat.get(2, 3) * vec.getW()));\n        result.setW((mat.get(3, 0) * vec.getX()) + (mat.get(3, 1) * vec.getY()) + (mat.get(3, 2) * vec.getZ()) + (mat.get(3, 3) * vec.getW()));\n    }\n\n    export function translate(result : Matrix, translationVector : Vector3) : void {\n        // START WITH THE IDENTITY MATRIX\n        this.identity(result);\n\n        // AND THEN LOAD IN THE TRANSLATION VALUES\n        result.set(translationVector.getX(), 0, 3);\n        result.set(translationVector.getY(), 1, 3);\n        result.set(translationVector.getZ(), 2, 3);\n    }\n\n    export function transpose(result : Matrix, mat : Matrix) : void {\n        for (let i = 0; i < 4; i++) {\n            for (let j = 0; j < 4; j++) {\n                let temp = mat.get(i, j);\n                result.set(temp, j, i);\n            }\n        }\n    }\n\n    export function view(result : Matrix, cameraPosition : Vector3, cameraOrientation : Vector3) : void {\n        let pitch = this.math.degreesToRadians(cameraOrientation.getThetaX());\n        let yaw = this.math.degreesToRadians(cameraOrientation.getThetaY());\n        let roll = this.math.degreesToRadians(cameraOrientation.getThetaZ());\n\n        // TO TRANSLATE\n        let translateVector = this.math.vectorMath.createPositionVector();\n        translateVector.set(-cameraPosition.getX(), -cameraPosition.getY(), -cameraPosition.getZ());\n        let translateMatrix = new Matrix(4, 4);\n        this.identity(translateMatrix);\n        this.translate(translateMatrix, translateVector);\n\n        // TO ROTATE\n        let rotateVector = this.math.vectorMath.createRotationVector();\n        rotateVector.set(-pitch, -yaw, -roll);\n        let rotateMatrix = new Matrix(4, 4);\n        this.rotate(rotateMatrix, rotateVector);\n\n        // NOW COMBINE THE 2 MATRICES\n        this.multiply(result, rotateMatrix, translateMatrix);\n    }\n\n    export function addVectors(result : Vector3, vec0 : Vector3, vec1 : Vector3) : void {\n        for (let i = 0; i < vec0.getSize(); i++) {\n            let total = vec0.getAt(i) + vec1.getAt(i);\n            result.setAt(i, total);\n        }\n    }\n\n    export function crossProduct(result : Vector3, vec0 : Vector3, vec1 : Vector3) : void {\n        let result0 = (vec0.getY() * vec1.getZ())\n            - (vec1.getY() * vec0.getZ());\n        let result1 = (vec0.getZ() * vec1.getX())\n            - (vec1.getZ() * vec0.getX());\n        let result2 = (vec0.getX() * vec1.getY())\n            - (vec1.getX() * vec0.getY());\n        result.setX(result0);\n        result.setY(result1);\n        result.setZ(result2);\n    }\n\n    export function dotProduct(vec0 : Vector3, vec1 : Vector3) : number {\n        let resultX = vec0.getX() * vec1.getX();\n        let resultY = vec0.getY() * vec1.getY();\n        let resultZ = vec0.getZ() * vec1.getZ();\n        return resultX + resultY + resultZ;\n    }\n\n    export function multiplyVectors(result : Vector3, vec : Vector3, scalar : number) : void {\n        let vecX = vec.getX() * scalar;\n        let vecY = vec.getY() * scalar;\n        let vecZ = vec.getZ() * scalar;\n        result.setX(vecX);\n        result.setY(vecY);\n        result.setZ(vecZ);\n    }\n\n    export function normalize(result : Vector3, vec : Vector3) : void {\n        let xSquared = vec.getX() * vec.getX();\n        let ySquared = vec.getY() * vec.getY();\n        let zSquared = vec.getZ() * vec.getZ();\n        let distance = Math.sqrt(xSquared + ySquared + zSquared);\n        result.setX(vec.getX() / distance);\n        result.setY(vec.getY() / distance);\n        result.setZ(vec.getZ() / distance);\n    }\n\n    export function subtractVectors(result : Vector3, vec0 : Vector3, vec1 : Vector3) : void {\n        let resultX = vec0.getX() - vec1.getX();\n        let resultY = vec0.getY() - vec1.getY();\n        let resultZ = vec0.getZ() - vec1.getZ();\n        result.setX(resultX);\n        result.setY(resultY);\n        result.setZ(resultZ);\n    }\n}","/*\n * A Matrix is used for transforming points from local\n * coordinates to world coordinates.\n */\nexport class Matrix {\n    private mat : Float32Array;\n    private rows : number;\n    private columns : number;\n\n    public constructor(rows : number, columns : number) {\n        this.rows = rows;\n        this.columns = columns;\n        this.mat = new Float32Array(rows * columns);\n        for (let i = 0; i < (rows * columns); i++)\n            this.mat[i] = 0.0;\n    }\n\n    public getData() : Float32Array {\n        return this.mat;\n    }\n\n    public getRows() : number {\n        return this.rows;\n    }\n\n    public getColumns() : number {\n        return this.columns;\n    }\n\n    public getIndex (rows : number, columns : number) : number {\n        return (this.rows * columns) + rows;\n    }\n    \n    public get (row : number, column : number) : number {\n        let index = this.getIndex(row, column);\n        let valueToReturn = this.mat[index];\n        return valueToReturn;\n    }\n\n    public set (value : number, row : number, column : number) {\n        let index = this.getIndex(row, column);\n        this.mat[index] = value;\n    }\n    \n    public print () : void {\n        let maxWidth = 0;\n        for (let i = 0; i < 4; i++) {\n            for (let j = 0; j < 4; j++) {\n                let testNum = this.get(j, i) + \"\";\n                if (testNum.length > maxWidth) {\n                    maxWidth = testNum.length;\n                }\n            }\n        }\n        let text = \"[ \";\n        for (let i = 0; i < this.rows; i++) {\n            if (i > 0)\n                text += \"  \";\n            for (var j = 0; j < this.columns; j++) {\n                var numText = this.get(i, j) + \"\";\n                while (numText.length < maxWidth) {\n                    numText = \" \" + numText;\n                }\n                text += numText;\n                if (j < (this.columns - 1)) {\n                    text += \",\";\n                }\n                text += \" \";\n            }\n            if (i < (this.rows - 1)) {\n                text += \"\\n\";\n            }\n            text += \"]\";\n            console.log(text);\n        }\n    }\n}","/**\n * Vector3\n * \n * The Vector3 class can be used for any 2d or 3d point, vector, \n * or rotation (i.e. angles of orientation).\n */\nexport class Vector3 {\n    private vec : Float32Array;\n    private size : number;\n\n    public constructor() {\n        this.vec = new Float32Array(4);\n        for (let i = 0; i < 4; i++)\n            this.vec[i] = 0.0;\n        this.size = 4;\n    }\n\n    public getSize() : number {\n        return this.size;\n    }\n\n    public getAt(index : number) : number {\n        return this.vec[index];\n    }\n\n    public getX() : number {\n        return this.vec[0];\n    }\n\n    public getY() : number {\n        return this.vec[1];\n    }\n\n    public getZ() : number {\n        return this.vec[2];\n    }\n\n    public getW() : number {\n        return this.vec[3];\n    }\n\n    public getThetaX() : number {\n        return this.vec[0];\n    }\n\n    public getThetaY() : number {\n        return this.vec[1];\n    }\n\n    public getThetaZ() : number {\n        return this.vec[2];\n    }\n\n    public set(init0 : number, init1 : number, init2 : number, init3 : number) : void {\n        this.vec[0] = init0;\n        this.vec[1] = init1;\n        this.vec[2] = init2;\n        this.vec[3] = init3;\n    }\n\n    public setAt(index : number, value : number) : void {\n        this.vec[index] = value;\n    }\n\n    public setX(initX : number) : void {\n        this.vec[0] = initX;\n    }\n\n    public setY(initY : number) : void {\n        this.vec[1] = initY;\n    }\n\n    public setZ(initZ : number) : void {\n        this.vec[2] = initZ;\n    }\n\n    public setW(initW : number) : void {\n        this.vec[3] = initW;\n    }\n\n    public setThetaX(initThetaX : number) : void {\n        this.setX(initThetaX);\n    }\n\n    public setThetaY(initThetaY : number) : void {\n        this.setY(initThetaY);\n    }\n\n    public setThetaZ(initThetaZ : number) : void {\n        this.setZ(initThetaZ);\n    }\n\n    public print() : void {\n        let text = \"[\";\n        for (let i = 0; i < this.size; i++) {\n            text += this.vec[i];\n            if (i < (this.size - 1)) {\n                text += \", \";\n            }\n        }\n        text += \"]\";\n        console.log(text);\n    }\n}","/*\n * This class renders text to a canvas, updated each frame.\n */\nimport {HashTable} from '../data/HashTable'\n\nexport class TextToRender {\n    public id : string;\n    public text : string;\n    public x : number;\n    public y : number;\n    public update : Function;\n    public fontFamily : string;\n    public fontSize : number;\n    public fontColor : string;\n    public properties : HashTable<object>;\n\n    public constructor(initId : string, initText : string, initX : number, initY : number, initUpdate : Function) {\n        this.id = initId;\n        this.text = initText;\n        this.x = initX;\n        this.y = initY;\n        this.update = initUpdate;\n        this.fontFamily = \"\";\n        this.fontSize = 0;\n        this.fontColor = \"\";\n        this.properties = {};\n    }\n}\n\nexport class TextRenderer {\n    private textToRender : Array<TextToRender>;\n    private textCanvas : HTMLCanvasElement;\n    private textCanvasWidth : number;\n    private textCanvasHeight : number;\n    private textCtx : CanvasRenderingContext2D;\n    private defaultFontFamily : string;\n    private defaultFontSize : number;\n    private defaultFontColor : string;\n\n    public constructor(textCanvasId : string, initFontFamily : string, initFontSize : number, initFontColor : string) {\n        this.textToRender = new Array();\n        this.textCanvas = <HTMLCanvasElement>document.getElementById(textCanvasId);\n        this.textCanvas.width = window.innerWidth;\n        this.textCanvas.height = window.innerHeight;\n        this.textCanvasWidth = this.textCanvas.width;\n        this.textCanvasHeight = this.textCanvas.height;\n        this.textCtx = this.textCanvas.getContext(\"2d\");\n        this.defaultFontFamily = initFontFamily;\n        this.defaultFontSize = initFontSize;\n        this.defaultFontColor = initFontColor;\n    }\n    \n    public addTextToRender(textToAdd : TextToRender) : void {\n        textToAdd.fontFamily = this.defaultFontFamily;\n        textToAdd.fontSize = this.defaultFontSize;\n        textToAdd.fontColor = this.defaultFontColor;\n        this.textToRender.push(textToAdd);\n    }\n\n    public clear() : void {\n        this.textToRender = [];\n    }\n\n    public getCanvasWidth() : number {\n        return this.textCanvasWidth;\n    }\n\n    public getCanvasHeight() : number {\n        return this.textCanvasHeight;\n    }\n\n    public render() : void {\n        this.textCtx.clearRect(0, 0, this.textCanvas.width, this.textCanvas.height);\n        for (var i = 0; i < this.textToRender.length; i++) {\n            var textToRender = this.textToRender[i];\n            textToRender.update();\n            this.textCtx.font = \"\" + textToRender.fontSize + \"px \" + textToRender.fontFamily;\n            this.textCtx.fillStyle = textToRender.fontColor;\n            this.textCtx.fillText(textToRender.text, textToRender.x, textToRender.y);\n        }\n    }\n}","import {WebGLGameShader} from './WebGLGameShader'\nimport {MathUtilities} from '../math/MathUtilities'\nimport { Matrix } from '../math/Matrix'\nimport { Vector3 } from '../math/Vector3'\nimport {GradientCircle} from '../scene/circle/GradientCircle'\nimport {GradientCircleType} from '../scene/circle/GradientCircleType'\nimport {WebGLGameTexture} from './WebGLGameTexture'\nimport {HashTable} from '../data/HashTable'\n\nvar SpriteDefaults = {\n    A_POSITION: \"a_Position\",\n    A_VALUE_TO_INTERPOLATE: \"a_ValueToInterpolate\",\n    A_TEX_COORD: \"a_TexCoord\",\n    U_SPRITE_TRANSFORM: \"u_SpriteTransform\",\n    U_TEX_COORD_FACTOR: \"u_TexCoordFactor\",\n    U_TEX_COORD_SHIFT: \"u_TexCoordShift\",\n    U_SAMPLER: \"u_Sampler\",\n    NUM_VERTICES: 4,\n    FLOATS_PER_VERTEX: 2,\n    FLOATS_PER_TEXTURE_COORDINATE: 2,\n    TOTAL_BYTES: 16,\n    VERTEX_POSITION_OFFSET: 0,\n    TEXTURE_COORDINATE_OFFSET: 8,\n    INDEX_OF_FIRST_VERTEX: 0\n};\n\nexport class WebGLGameBlueCircleRenderer {\n    private shader : WebGLGameShader;\n    private vertexTexCoordBuffer : WebGLBuffer;\n\n    // WE'LL USE THESE FOR TRANSOFMRING OBJECTS WHEN WE DRAW THEM\n    private spriteTransform : Matrix;\n    private spriteTranslate : Vector3;\n    private spriteRotate : Vector3;\n    private spriteScale : Vector3;    \n\n    private webGLAttributeLocations : HashTable<GLuint>;\n    private webGLUniformLocations : HashTable<WebGLUniformLocation>;\n\n    public constructor() {}\n    \n    public init(webGL : WebGLRenderingContext) : void {\n            this.shader = new WebGLGameShader();\n            var vertexShaderSource =\n            'precision highp float;\\n\\n' +\n            //'uniform vec2 ' + CircleDefaults.U_TEX_COORD_FACTOR + ';\\n' +\n            //'uniform vec2 ' + CircleDefaults.U_TEX_COORD_SHIFT + ';\\n' +\n            'attribute vec4 ' + SpriteDefaults.A_POSITION + ';\\n' +\n            'attribute vec2 ' + SpriteDefaults.A_VALUE_TO_INTERPOLATE + ';\\n' +\n            'varying vec2 val;\\n' +\n            'uniform mat4 ' + SpriteDefaults.U_SPRITE_TRANSFORM + ';\\n' +\n            'void main() {\\n' +\n            '  val = ' + SpriteDefaults.A_VALUE_TO_INTERPOLATE + ';\\n' +\n            '  gl_Position = ' + SpriteDefaults.U_SPRITE_TRANSFORM + ' * ' + SpriteDefaults.A_POSITION + ';\\n' +\n            '}\\n';\n            // 'uniform mat4 ' + SpriteDefaults.U_SPRITE_TRANSFORM + ';\\n' +\n            // 'uniform vec2 ' + SpriteDefaults.U_TEX_COORD_FACTOR + ';\\n' +\n            // 'uniform vec2 ' + SpriteDefaults.U_TEX_COORD_SHIFT + ';\\n' +\n            // 'attribute vec4 ' + SpriteDefaults.A_POSITION + ';\\n' +\n            // 'attribute vec2 ' + SpriteDefaults.A_TEX_COORD + ';\\n' +\n            // 'varying vec2 v_TexCoord;\\n' +\n            // 'void main() {\\n' +\n            // '  gl_Position = ' + SpriteDefaults.U_SPRITE_TRANSFORM + ' * ' + SpriteDefaults.A_POSITION + ';\\n' +\n            // '  vec2 tempTexCoord = ' + SpriteDefaults.A_TEX_COORD + ' * ' + SpriteDefaults.U_TEX_COORD_FACTOR + ';\\n' +\n            // '  v_TexCoord = tempTexCoord + ' + SpriteDefaults.U_TEX_COORD_SHIFT + ';\\n' +\n            // '}\\n';\n        var fragmentShaderSource =\n            'precision highp float;\\n' +\n            'varying vec2 val;\\n' +\n            'void main() {\\n' +\n            '  float R = 0.4;\\n' +\n            '  float dist = sqrt(dot(val,val));\\n' +\n            '  float alpha = 1.0;\\n' +\n            '  if (dist > R) {\\n' +\n            '    discard;\\n' +\n            '  }\\n' +\n            '  gl_FragColor = vec4(0, 0, dist, alpha);\\n' + //TODO might need randomly generated variables here\n            '}\\n';\n            // '#ifdef GL_ES\\n' +\n            // 'precision mediump float;\\n' +\n            // '#endif\\n' +\n            // 'uniform sampler2D ' + SpriteDefaults.U_SAMPLER + ';\\n' +\n            // 'varying vec2 v_TexCoord;\\n' +\n            // 'void main() {\\n' +\n            // '  gl_FragColor = texture2D(' + SpriteDefaults.U_SAMPLER + ', v_TexCoord);\\n' +\n            // '}\\n';\n        this.shader.init(webGL, vertexShaderSource, fragmentShaderSource);\n\n        // GET THE webGL OBJECT TO USE\n        var verticesTexCoords = new Float32Array([\n            -0.5,  0.5, 0.0, 0.0,\n            -0.5, -0.5, 0.0, 1.0,\n             0.5,  0.5, 1.0, 0.0,\n             0.5, -0.5, 1.0, 1.0\n        ]);\n\n        // CREATE THE BUFFER ON THE GPU\n        this.vertexTexCoordBuffer = webGL.createBuffer();\n\n        // BIND THE BUFFER TO BE VERTEX DATA\n        webGL.bindBuffer(webGL.ARRAY_BUFFER, this.vertexTexCoordBuffer);\n\n        // AND SEND THE DATA TO THE BUFFER WE CREATED ON THE GPU\n        webGL.bufferData(webGL.ARRAY_BUFFER, verticesTexCoords, webGL.STATIC_DRAW);\n\n        // SETUP THE SHADER ATTRIBUTES AND UNIFORMS\n        this.webGLAttributeLocations = {};\n        this.webGLUniformLocations = {};\n        this.loadAttributeLocations(webGL, [SpriteDefaults.A_POSITION, SpriteDefaults.A_TEX_COORD]);\n        this.loadUniformLocations(webGL, [SpriteDefaults.U_SPRITE_TRANSFORM, SpriteDefaults.U_SAMPLER, SpriteDefaults.U_TEX_COORD_FACTOR, SpriteDefaults.U_TEX_COORD_SHIFT]);\n\n        // WE'LL USE THESE FOR TRANSOFMRING OBJECTS WHEN WE DRAW THEM\n        this.spriteTransform = new Matrix(4, 4);\n        this.spriteTranslate = new Vector3();\n        this.spriteRotate = new Vector3();\n        this.spriteScale = new Vector3();\n    }\n\n    public renderRedCircles(  webGL : WebGLRenderingContext, \n                            canvasWidth : number, \n                            canvasHeight : number, \n                            visibleSet : Array<GradientCircle>) : void {\n        // SELECT THE ANIMATED SPRITE RENDERING SHADER PROGRAM FOR USE\n        let shaderProgramToUse = this.shader.getProgram();\n        webGL.useProgram(shaderProgramToUse);\n\n       // AND THEN RENDER EACH ONE\n       for (let sprite of visibleSet) {\n            this.renderAnimatedSprite(webGL, canvasWidth, canvasHeight, sprite);        \n        }\n    }\n\n    private loadAttributeLocations(webGL : WebGLRenderingContext, attributeLocationNames : Array<string>) {\n        for (var i = 0; i < attributeLocationNames.length; i++) {\n            let locationName : string = attributeLocationNames[i];\n            let location : GLuint = webGL.getAttribLocation(this.shader.getProgram(), locationName);\n            this.webGLAttributeLocations[locationName] = location;\n        }\n    }\n\n    private loadUniformLocations(webGL : WebGLRenderingContext, uniformLocationNames : Array<string>) {\n        for (let i : number = 0; i < uniformLocationNames.length; i++) {\n            let locationName : string = uniformLocationNames[i];\n            let location : WebGLUniformLocation = webGL.getUniformLocation(this.shader.getProgram(), locationName);\n            //console.log(location.)\n            this.webGLUniformLocations[locationName] = location;\n        }\n    }\n\n    private renderAnimatedSprite(   webGL : WebGLRenderingContext, \n                            canvasWidth : number, \n                            canvasHeight : number, \n                            circle : GradientCircle) {\n       // let spriteType : GradientCircle = circle.getCircleType();\n        //let texture : WebGLGameTexture = spriteType.getSpriteSheetTexture();\n\n        // CALCULATE HOW MUCH TO TRANSLATE THE QUAD PER THE SPRITE POSITION\n        let spriteWidth : number = 100;\n        let spriteHeight : number = 100;\n        let spriteXInPixels : number = circle.getPosition().getX() + (spriteWidth/2);\n        let spriteYInPixels : number = circle.getPosition().getY() + (spriteHeight/2);\n        let spriteXTranslate : number = (spriteXInPixels - (canvasWidth/2))/(canvasWidth/2);\n        let spriteYTranslate : number = (spriteYInPixels - (canvasHeight/2))/(canvasHeight/2);\n        this.spriteTranslate.setX(spriteXTranslate);\n        this.spriteTranslate.setY(-spriteYTranslate);\n\n        // CALCULATE HOW MUCH TO SCALE THE QUAD PER THE SPRITE SIZE\n        let defaultWidth : number = canvasWidth/2;\n        let defaultHeight : number = canvasHeight/2;\n        let scaleX : number = 250/defaultWidth;\n        let scaleY : number = 250/defaultHeight;\n        this.spriteScale.setX(scaleX);\n        this.spriteScale.setY(scaleY);\n\n        // @todo - COMBINE THIS WITH THE ROTATE AND SCALE VALUES FROM THE SPRITE\n        MathUtilities.identity(this.spriteTransform);\n        MathUtilities.model(this.spriteTransform, this.spriteTranslate, this.spriteRotate, this.spriteScale);\n        \n        // FIGURE OUT THE TEXTURE COORDINATE FACTOR AND SHIFT\n        // let texCoordFactorX : number = spriteWidth/texture.width;\n        // let texCoordFactorY : number = spriteHeight/texture.height;\n        // let spriteLeft : number = sprite.getLeft();\n        // let spriteTop : number = sprite.getTop();\n        // let texCoordShiftX : number = spriteLeft/texture.width;\n        // let texCoordShiftY : number = spriteTop/texture.height;   \n\n        // USE THE ATTRIBUTES\n   // webGL.bindBuffer(webGL.ARRAY_BUFFER, this.vertexTexCoordBuffer);\n       // webGL.bindTexture(webGL.TEXTURE_2D, texture.webGLTexture);\n\n        // HOOK UP THE ATTRIBUTES\n        let a_PositionLocation : GLuint = this.webGLAttributeLocations[SpriteDefaults.A_POSITION];\n        webGL.vertexAttribPointer(a_PositionLocation, SpriteDefaults.FLOATS_PER_TEXTURE_COORDINATE, webGL.FLOAT, false, SpriteDefaults.TOTAL_BYTES, SpriteDefaults.VERTEX_POSITION_OFFSET);\n        webGL.enableVertexAttribArray(a_PositionLocation);\n      //  let a_TexCoordLocation : GLuint = this.webGLAttributeLocations[SpriteDefaults.A_TEX_COORD];\n       // webGL.vertexAttribPointer(a_TexCoordLocation, SpriteDefaults.FLOATS_PER_TEXTURE_COORDINATE, webGL.FLOAT, false, SpriteDefaults.TOTAL_BYTES, SpriteDefaults.TEXTURE_COORDINATE_OFFSET);\n       // webGL.enableVertexAttribArray(a_TexCoordLocation);\n\n        // USE THE UNIFORMS\n        let u_SpriteTransformLocation : WebGLUniformLocation = this.webGLUniformLocations[SpriteDefaults.U_SPRITE_TRANSFORM];\n        webGL.uniformMatrix4fv(u_SpriteTransformLocation, false, this.spriteTransform.getData());\n      //  let u_SamplerLocation : WebGLUniformLocation = this.webGLUniformLocations[SpriteDefaults.U_SAMPLER];\n        //webGL.uniform1i(u_SamplerLocation, texture.webGLTextureId);\n    //     let u_TexCoordFactorLocation : WebGLUniformLocation = this.webGLUniformLocations[SpriteDefaults.U_TEX_COORD_FACTOR];\n    //    // webGL.uniform2f(u_TexCoordFactorLocation, texCoordFactorX, texCoordFactorY);\n    //     let u_TexCoordShiftLocation : WebGLUniformLocation = this.webGLUniformLocations[SpriteDefaults.U_TEX_COORD_SHIFT];\n    //     webGL.uniform2f(u_TexCoordShiftLocation, texCoordShiftX, texCoordShiftY);\n\n        // DRAW THE SPRITE AS A TRIANGLE STRIP USING 4 VERTICES, STARTING AT THE START OF THE ARRAY (index 0)\n        webGL.drawArrays(webGL.TRIANGLE_STRIP, SpriteDefaults.INDEX_OF_FIRST_VERTEX, SpriteDefaults.NUM_VERTICES);\n    }\n}","import {WebGLGameShader} from './WebGLGameShader'\nimport {MathUtilities} from '../math/MathUtilities'\nimport { Matrix } from '../math/Matrix'\nimport { Vector3 } from '../math/Vector3'\nimport {GradientCircle} from '../scene/circle/GradientCircle'\nimport {GradientCircleType} from '../scene/circle/GradientCircleType'\nimport {WebGLGameTexture} from './WebGLGameTexture'\nimport {HashTable} from '../data/HashTable'\n\nvar SpriteDefaults = {\n    A_POSITION: \"a_Position\",\n    A_VALUE_TO_INTERPOLATE: \"a_ValueToInterpolate\",\n    A_TEX_COORD: \"a_TexCoord\",\n    U_SPRITE_TRANSFORM: \"u_SpriteTransform\",\n    U_TEX_COORD_FACTOR: \"u_TexCoordFactor\",\n    U_TEX_COORD_SHIFT: \"u_TexCoordShift\",\n    U_SAMPLER: \"u_Sampler\",\n    NUM_VERTICES: 4,\n    FLOATS_PER_VERTEX: 2,\n    FLOATS_PER_TEXTURE_COORDINATE: 2,\n    TOTAL_BYTES: 16,\n    VERTEX_POSITION_OFFSET: 0,\n    TEXTURE_COORDINATE_OFFSET: 8,\n    INDEX_OF_FIRST_VERTEX: 0\n};\n\nexport class WebGLGameCircleRenderer {\n    private shader : WebGLGameShader;\n    private vertexTexCoordBuffer : WebGLBuffer;\n\n    // WE'LL USE THESE FOR TRANSOFMRING OBJECTS WHEN WE DRAW THEM\n    private spriteTransform : Matrix;\n    private spriteTranslate : Vector3;\n    private spriteRotate : Vector3;\n    private spriteScale : Vector3;    \n\n    private webGLAttributeLocations : HashTable<GLuint>;\n    private webGLUniformLocations : HashTable<WebGLUniformLocation>;\n\n    public constructor() {}\n    \n    public init(webGL : WebGLRenderingContext) : void {\n            this.shader = new WebGLGameShader();\n            var vertexShaderSource =\n            'precision highp float;\\n\\n' +\n            //'uniform vec2 ' + CircleDefaults.U_TEX_COORD_FACTOR + ';\\n' +\n            //'uniform vec2 ' + CircleDefaults.U_TEX_COORD_SHIFT + ';\\n' +\n            'attribute vec4 ' + SpriteDefaults.A_POSITION + ';\\n' +\n            'attribute vec2 ' + SpriteDefaults.A_VALUE_TO_INTERPOLATE + ';\\n' +\n            'varying vec2 val;\\n' +\n            'uniform mat4 ' + SpriteDefaults.U_SPRITE_TRANSFORM + ';\\n' +\n            'void main() {\\n' +\n            '  val = ' + SpriteDefaults.A_VALUE_TO_INTERPOLATE + ';\\n' +\n            '  gl_Position = ' + SpriteDefaults.U_SPRITE_TRANSFORM + ' * ' + SpriteDefaults.A_POSITION + ';\\n' +\n            '}\\n';\n            // 'uniform mat4 ' + SpriteDefaults.U_SPRITE_TRANSFORM + ';\\n' +\n            // 'uniform vec2 ' + SpriteDefaults.U_TEX_COORD_FACTOR + ';\\n' +\n            // 'uniform vec2 ' + SpriteDefaults.U_TEX_COORD_SHIFT + ';\\n' +\n            // 'attribute vec4 ' + SpriteDefaults.A_POSITION + ';\\n' +\n            // 'attribute vec2 ' + SpriteDefaults.A_TEX_COORD + ';\\n' +\n            // 'varying vec2 v_TexCoord;\\n' +\n            // 'void main() {\\n' +\n            // '  gl_Position = ' + SpriteDefaults.U_SPRITE_TRANSFORM + ' * ' + SpriteDefaults.A_POSITION + ';\\n' +\n            // '  vec2 tempTexCoord = ' + SpriteDefaults.A_TEX_COORD + ' * ' + SpriteDefaults.U_TEX_COORD_FACTOR + ';\\n' +\n            // '  v_TexCoord = tempTexCoord + ' + SpriteDefaults.U_TEX_COORD_SHIFT + ';\\n' +\n            // '}\\n';\n        var fragmentShaderSource =\n            'precision highp float;\\n' +\n            'varying vec2 val;\\n' +\n            'void main() {\\n' +\n            '  float R = 0.4;\\n' +\n            '  float dist = sqrt(dot(val,val));\\n' +\n            '  float alpha = 1.0;\\n' +\n            '  if (dist > R) {\\n' +\n            '    discard;\\n' +\n            '  }\\n' +\n            '  gl_FragColor = vec4(dist, 0, dist, alpha);\\n' + //TODO might need randomly generated variables here\n            '}\\n';\n            // '#ifdef GL_ES\\n' +\n            // 'precision mediump float;\\n' +\n            // '#endif\\n' +\n            // 'uniform sampler2D ' + SpriteDefaults.U_SAMPLER + ';\\n' +\n            // 'varying vec2 v_TexCoord;\\n' +\n            // 'void main() {\\n' +\n            // '  gl_FragColor = texture2D(' + SpriteDefaults.U_SAMPLER + ', v_TexCoord);\\n' +\n            // '}\\n';\n        this.shader.init(webGL, vertexShaderSource, fragmentShaderSource);\n\n        // GET THE webGL OBJECT TO USE\n        var verticesTexCoords = new Float32Array([\n            -0.5,  0.5, 0.0, 0.0,\n            -0.5, -0.5, 0.0, 1.0,\n             0.5,  0.5, 1.0, 0.0,\n             0.5, -0.5, 1.0, 1.0\n        ]);\n\n        // CREATE THE BUFFER ON THE GPU\n        this.vertexTexCoordBuffer = webGL.createBuffer();\n\n        // BIND THE BUFFER TO BE VERTEX DATA\n        webGL.bindBuffer(webGL.ARRAY_BUFFER, this.vertexTexCoordBuffer);\n\n        // AND SEND THE DATA TO THE BUFFER WE CREATED ON THE GPU\n        webGL.bufferData(webGL.ARRAY_BUFFER, verticesTexCoords, webGL.STATIC_DRAW);\n\n        // SETUP THE SHADER ATTRIBUTES AND UNIFORMS\n        this.webGLAttributeLocations = {};\n        this.webGLUniformLocations = {};\n        this.loadAttributeLocations(webGL, [SpriteDefaults.A_POSITION, SpriteDefaults.A_TEX_COORD]);\n        this.loadUniformLocations(webGL, [SpriteDefaults.U_SPRITE_TRANSFORM, SpriteDefaults.U_SAMPLER, SpriteDefaults.U_TEX_COORD_FACTOR, SpriteDefaults.U_TEX_COORD_SHIFT]);\n\n        // WE'LL USE THESE FOR TRANSOFMRING OBJECTS WHEN WE DRAW THEM\n        this.spriteTransform = new Matrix(4, 4);\n        this.spriteTranslate = new Vector3();\n        this.spriteRotate = new Vector3();\n        this.spriteScale = new Vector3();\n    }\n\n    public renderGradientCircles(  webGL : WebGLRenderingContext, \n                            canvasWidth : number, \n                            canvasHeight : number, \n                            visibleSet : Array<GradientCircle>) : void {\n        // SELECT THE ANIMATED SPRITE RENDERING SHADER PROGRAM FOR USE\n        let shaderProgramToUse = this.shader.getProgram();\n        webGL.useProgram(shaderProgramToUse);\n\n       // AND THEN RENDER EACH ONE\n       for (let sprite of visibleSet) {\n            this.renderAnimatedSprite(webGL, canvasWidth, canvasHeight, sprite);        \n        }\n    }\n\n    private loadAttributeLocations(webGL : WebGLRenderingContext, attributeLocationNames : Array<string>) {\n        for (var i = 0; i < attributeLocationNames.length; i++) {\n            let locationName : string = attributeLocationNames[i];\n            let location : GLuint = webGL.getAttribLocation(this.shader.getProgram(), locationName);\n            this.webGLAttributeLocations[locationName] = location;\n        }\n    }\n\n    private loadUniformLocations(webGL : WebGLRenderingContext, uniformLocationNames : Array<string>) {\n        for (let i : number = 0; i < uniformLocationNames.length; i++) {\n            let locationName : string = uniformLocationNames[i];\n            let location : WebGLUniformLocation = webGL.getUniformLocation(this.shader.getProgram(), locationName);\n            //console.log(location.)\n            this.webGLUniformLocations[locationName] = location;\n        }\n    }\n\n    private renderAnimatedSprite(   webGL : WebGLRenderingContext, \n                            canvasWidth : number, \n                            canvasHeight : number, \n                            circle : GradientCircle) {\n       // let spriteType : GradientCircle = circle.getCircleType();\n        //let texture : WebGLGameTexture = spriteType.getSpriteSheetTexture();\n\n        // CALCULATE HOW MUCH TO TRANSLATE THE QUAD PER THE SPRITE POSITION\n        let spriteWidth : number = 100;\n        let spriteHeight : number = 100;\n        let spriteXInPixels : number = circle.getPosition().getX() + (spriteWidth/2);\n        let spriteYInPixels : number = circle.getPosition().getY() + (spriteHeight/2);\n        let spriteXTranslate : number = (spriteXInPixels - (canvasWidth/2))/(canvasWidth/2);\n        let spriteYTranslate : number = (spriteYInPixels - (canvasHeight/2))/(canvasHeight/2);\n        this.spriteTranslate.setX(spriteXTranslate);\n        this.spriteTranslate.setY(-spriteYTranslate);\n\n        // CALCULATE HOW MUCH TO SCALE THE QUAD PER THE SPRITE SIZE\n        let defaultWidth : number = canvasWidth/2;\n        let defaultHeight : number = canvasHeight/2;\n        let scaleX : number = 250/defaultWidth;\n        let scaleY : number = 250/defaultHeight;\n        this.spriteScale.setX(scaleX);\n        this.spriteScale.setY(scaleY);\n\n        // @todo - COMBINE THIS WITH THE ROTATE AND SCALE VALUES FROM THE SPRITE\n        MathUtilities.identity(this.spriteTransform);\n        MathUtilities.model(this.spriteTransform, this.spriteTranslate, this.spriteRotate, this.spriteScale);\n        \n        // FIGURE OUT THE TEXTURE COORDINATE FACTOR AND SHIFT\n        // let texCoordFactorX : number = spriteWidth/texture.width;\n        // let texCoordFactorY : number = spriteHeight/texture.height;\n        // let spriteLeft : number = sprite.getLeft();\n        // let spriteTop : number = sprite.getTop();\n        // let texCoordShiftX : number = spriteLeft/texture.width;\n        // let texCoordShiftY : number = spriteTop/texture.height;   \n\n        // USE THE ATTRIBUTES\n   // webGL.bindBuffer(webGL.ARRAY_BUFFER, this.vertexTexCoordBuffer);\n       // webGL.bindTexture(webGL.TEXTURE_2D, texture.webGLTexture);\n\n        // HOOK UP THE ATTRIBUTES\n        let a_PositionLocation : GLuint = this.webGLAttributeLocations[SpriteDefaults.A_POSITION];\n        webGL.vertexAttribPointer(a_PositionLocation, SpriteDefaults.FLOATS_PER_TEXTURE_COORDINATE, webGL.FLOAT, false, SpriteDefaults.TOTAL_BYTES, SpriteDefaults.VERTEX_POSITION_OFFSET);\n        webGL.enableVertexAttribArray(a_PositionLocation);\n      //  let a_TexCoordLocation : GLuint = this.webGLAttributeLocations[SpriteDefaults.A_TEX_COORD];\n       // webGL.vertexAttribPointer(a_TexCoordLocation, SpriteDefaults.FLOATS_PER_TEXTURE_COORDINATE, webGL.FLOAT, false, SpriteDefaults.TOTAL_BYTES, SpriteDefaults.TEXTURE_COORDINATE_OFFSET);\n       // webGL.enableVertexAttribArray(a_TexCoordLocation);\n\n        // USE THE UNIFORMS\n        let u_SpriteTransformLocation : WebGLUniformLocation = this.webGLUniformLocations[SpriteDefaults.U_SPRITE_TRANSFORM];\n        webGL.uniformMatrix4fv(u_SpriteTransformLocation, false, this.spriteTransform.getData());\n      //  let u_SamplerLocation : WebGLUniformLocation = this.webGLUniformLocations[SpriteDefaults.U_SAMPLER];\n        //webGL.uniform1i(u_SamplerLocation, texture.webGLTextureId);\n    //     let u_TexCoordFactorLocation : WebGLUniformLocation = this.webGLUniformLocations[SpriteDefaults.U_TEX_COORD_FACTOR];\n    //    // webGL.uniform2f(u_TexCoordFactorLocation, texCoordFactorX, texCoordFactorY);\n    //     let u_TexCoordShiftLocation : WebGLUniformLocation = this.webGLUniformLocations[SpriteDefaults.U_TEX_COORD_SHIFT];\n    //     webGL.uniform2f(u_TexCoordShiftLocation, texCoordShiftX, texCoordShiftY);\n\n        // DRAW THE SPRITE AS A TRIANGLE STRIP USING 4 VERTICES, STARTING AT THE START OF THE ARRAY (index 0)\n        webGL.drawArrays(webGL.TRIANGLE_STRIP, SpriteDefaults.INDEX_OF_FIRST_VERTEX, SpriteDefaults.NUM_VERTICES);\n    }\n}","import {WebGLGameShader} from './WebGLGameShader'\nimport {MathUtilities} from '../math/MathUtilities'\nimport { Matrix } from '../math/Matrix'\nimport { Vector3 } from '../math/Vector3'\nimport {GradientCircle} from '../scene/circle/GradientCircle'\nimport {GradientCircleType} from '../scene/circle/GradientCircleType'\nimport {WebGLGameTexture} from './WebGLGameTexture'\nimport {HashTable} from '../data/HashTable'\n\nvar SpriteDefaults = {\n    A_POSITION: \"a_Position\",\n    A_VALUE_TO_INTERPOLATE: \"a_ValueToInterpolate\",\n    A_TEX_COORD: \"a_TexCoord\",\n    U_SPRITE_TRANSFORM: \"u_SpriteTransform\",\n    U_TEX_COORD_FACTOR: \"u_TexCoordFactor\",\n    U_TEX_COORD_SHIFT: \"u_TexCoordShift\",\n    U_SAMPLER: \"u_Sampler\",\n    NUM_VERTICES: 4,\n    FLOATS_PER_VERTEX: 2,\n    FLOATS_PER_TEXTURE_COORDINATE: 2,\n    TOTAL_BYTES: 16,\n    VERTEX_POSITION_OFFSET: 0,\n    TEXTURE_COORDINATE_OFFSET: 8,\n    INDEX_OF_FIRST_VERTEX: 0\n};\n\nexport class WebGLGameCyanCircleRenderer {\n    private shader : WebGLGameShader;\n    private vertexTexCoordBuffer : WebGLBuffer;\n\n    // WE'LL USE THESE FOR TRANSOFMRING OBJECTS WHEN WE DRAW THEM\n    private spriteTransform : Matrix;\n    private spriteTranslate : Vector3;\n    private spriteRotate : Vector3;\n    private spriteScale : Vector3;    \n\n    private webGLAttributeLocations : HashTable<GLuint>;\n    private webGLUniformLocations : HashTable<WebGLUniformLocation>;\n\n    public constructor() {}\n    \n    public init(webGL : WebGLRenderingContext) : void {\n            this.shader = new WebGLGameShader();\n            var vertexShaderSource =\n            'precision highp float;\\n\\n' +\n            //'uniform vec2 ' + CircleDefaults.U_TEX_COORD_FACTOR + ';\\n' +\n            //'uniform vec2 ' + CircleDefaults.U_TEX_COORD_SHIFT + ';\\n' +\n            'attribute vec4 ' + SpriteDefaults.A_POSITION + ';\\n' +\n            'attribute vec2 ' + SpriteDefaults.A_VALUE_TO_INTERPOLATE + ';\\n' +\n            'varying vec2 val;\\n' +\n            'uniform mat4 ' + SpriteDefaults.U_SPRITE_TRANSFORM + ';\\n' +\n            'void main() {\\n' +\n            '  val = ' + SpriteDefaults.A_VALUE_TO_INTERPOLATE + ';\\n' +\n            '  gl_Position = ' + SpriteDefaults.U_SPRITE_TRANSFORM + ' * ' + SpriteDefaults.A_POSITION + ';\\n' +\n            '}\\n';\n            // 'uniform mat4 ' + SpriteDefaults.U_SPRITE_TRANSFORM + ';\\n' +\n            // 'uniform vec2 ' + SpriteDefaults.U_TEX_COORD_FACTOR + ';\\n' +\n            // 'uniform vec2 ' + SpriteDefaults.U_TEX_COORD_SHIFT + ';\\n' +\n            // 'attribute vec4 ' + SpriteDefaults.A_POSITION + ';\\n' +\n            // 'attribute vec2 ' + SpriteDefaults.A_TEX_COORD + ';\\n' +\n            // 'varying vec2 v_TexCoord;\\n' +\n            // 'void main() {\\n' +\n            // '  gl_Position = ' + SpriteDefaults.U_SPRITE_TRANSFORM + ' * ' + SpriteDefaults.A_POSITION + ';\\n' +\n            // '  vec2 tempTexCoord = ' + SpriteDefaults.A_TEX_COORD + ' * ' + SpriteDefaults.U_TEX_COORD_FACTOR + ';\\n' +\n            // '  v_TexCoord = tempTexCoord + ' + SpriteDefaults.U_TEX_COORD_SHIFT + ';\\n' +\n            // '}\\n';\n        var fragmentShaderSource =\n            'precision highp float;\\n' +\n            'varying vec2 val;\\n' +\n            'void main() {\\n' +\n            '  float R = 0.4;\\n' +\n            '  float dist = sqrt(dot(val,val));\\n' +\n            '  float alpha = 1.0;\\n' +\n            '  if (dist > R) {\\n' +\n            '    discard;\\n' +\n            '  }\\n' +\n            '  gl_FragColor = vec4(0, dist, dist, alpha);\\n' + //TODO might need randomly generated variables here\n            '}\\n';\n            // '#ifdef GL_ES\\n' +\n            // 'precision mediump float;\\n' +\n            // '#endif\\n' +\n            // 'uniform sampler2D ' + SpriteDefaults.U_SAMPLER + ';\\n' +\n            // 'varying vec2 v_TexCoord;\\n' +\n            // 'void main() {\\n' +\n            // '  gl_FragColor = texture2D(' + SpriteDefaults.U_SAMPLER + ', v_TexCoord);\\n' +\n            // '}\\n';\n        this.shader.init(webGL, vertexShaderSource, fragmentShaderSource);\n\n        // GET THE webGL OBJECT TO USE\n        var verticesTexCoords = new Float32Array([\n            -0.5,  0.5, 0.0, 0.0,\n            -0.5, -0.5, 0.0, 1.0,\n             0.5,  0.5, 1.0, 0.0,\n             0.5, -0.5, 1.0, 1.0\n        ]);\n\n        // CREATE THE BUFFER ON THE GPU\n        this.vertexTexCoordBuffer = webGL.createBuffer();\n\n        // BIND THE BUFFER TO BE VERTEX DATA\n        webGL.bindBuffer(webGL.ARRAY_BUFFER, this.vertexTexCoordBuffer);\n\n        // AND SEND THE DATA TO THE BUFFER WE CREATED ON THE GPU\n        webGL.bufferData(webGL.ARRAY_BUFFER, verticesTexCoords, webGL.STATIC_DRAW);\n\n        // SETUP THE SHADER ATTRIBUTES AND UNIFORMS\n        this.webGLAttributeLocations = {};\n        this.webGLUniformLocations = {};\n        this.loadAttributeLocations(webGL, [SpriteDefaults.A_POSITION, SpriteDefaults.A_TEX_COORD]);\n        this.loadUniformLocations(webGL, [SpriteDefaults.U_SPRITE_TRANSFORM, SpriteDefaults.U_SAMPLER, SpriteDefaults.U_TEX_COORD_FACTOR, SpriteDefaults.U_TEX_COORD_SHIFT]);\n\n        // WE'LL USE THESE FOR TRANSOFMRING OBJECTS WHEN WE DRAW THEM\n        this.spriteTransform = new Matrix(4, 4);\n        this.spriteTranslate = new Vector3();\n        this.spriteRotate = new Vector3();\n        this.spriteScale = new Vector3();\n    }\n\n    public renderRedCircles(  webGL : WebGLRenderingContext, \n                            canvasWidth : number, \n                            canvasHeight : number, \n                            visibleSet : Array<GradientCircle>) : void {\n        // SELECT THE ANIMATED SPRITE RENDERING SHADER PROGRAM FOR USE\n        let shaderProgramToUse = this.shader.getProgram();\n        webGL.useProgram(shaderProgramToUse);\n\n       // AND THEN RENDER EACH ONE\n       for (let sprite of visibleSet) {\n            this.renderAnimatedSprite(webGL, canvasWidth, canvasHeight, sprite);        \n        }\n    }\n\n    private loadAttributeLocations(webGL : WebGLRenderingContext, attributeLocationNames : Array<string>) {\n        for (var i = 0; i < attributeLocationNames.length; i++) {\n            let locationName : string = attributeLocationNames[i];\n            let location : GLuint = webGL.getAttribLocation(this.shader.getProgram(), locationName);\n            this.webGLAttributeLocations[locationName] = location;\n        }\n    }\n\n    private loadUniformLocations(webGL : WebGLRenderingContext, uniformLocationNames : Array<string>) {\n        for (let i : number = 0; i < uniformLocationNames.length; i++) {\n            let locationName : string = uniformLocationNames[i];\n            let location : WebGLUniformLocation = webGL.getUniformLocation(this.shader.getProgram(), locationName);\n            //console.log(location.)\n            this.webGLUniformLocations[locationName] = location;\n        }\n    }\n\n    private renderAnimatedSprite(   webGL : WebGLRenderingContext, \n                            canvasWidth : number, \n                            canvasHeight : number, \n                            circle : GradientCircle) {\n       // let spriteType : GradientCircle = circle.getCircleType();\n        //let texture : WebGLGameTexture = spriteType.getSpriteSheetTexture();\n\n        // CALCULATE HOW MUCH TO TRANSLATE THE QUAD PER THE SPRITE POSITION\n        let spriteWidth : number = 100;\n        let spriteHeight : number = 100;\n        let spriteXInPixels : number = circle.getPosition().getX() + (spriteWidth/2);\n        let spriteYInPixels : number = circle.getPosition().getY() + (spriteHeight/2);\n        let spriteXTranslate : number = (spriteXInPixels - (canvasWidth/2))/(canvasWidth/2);\n        let spriteYTranslate : number = (spriteYInPixels - (canvasHeight/2))/(canvasHeight/2);\n        this.spriteTranslate.setX(spriteXTranslate);\n        this.spriteTranslate.setY(-spriteYTranslate);\n\n        // CALCULATE HOW MUCH TO SCALE THE QUAD PER THE SPRITE SIZE\n        let defaultWidth : number = canvasWidth/2;\n        let defaultHeight : number = canvasHeight/2;\n        let scaleX : number = 250/defaultWidth;\n        let scaleY : number = 250/defaultHeight;\n        this.spriteScale.setX(scaleX);\n        this.spriteScale.setY(scaleY);\n\n        // @todo - COMBINE THIS WITH THE ROTATE AND SCALE VALUES FROM THE SPRITE\n        MathUtilities.identity(this.spriteTransform);\n        MathUtilities.model(this.spriteTransform, this.spriteTranslate, this.spriteRotate, this.spriteScale);\n        \n        // FIGURE OUT THE TEXTURE COORDINATE FACTOR AND SHIFT\n        // let texCoordFactorX : number = spriteWidth/texture.width;\n        // let texCoordFactorY : number = spriteHeight/texture.height;\n        // let spriteLeft : number = sprite.getLeft();\n        // let spriteTop : number = sprite.getTop();\n        // let texCoordShiftX : number = spriteLeft/texture.width;\n        // let texCoordShiftY : number = spriteTop/texture.height;   \n\n        // USE THE ATTRIBUTES\n   // webGL.bindBuffer(webGL.ARRAY_BUFFER, this.vertexTexCoordBuffer);\n       // webGL.bindTexture(webGL.TEXTURE_2D, texture.webGLTexture);\n\n        // HOOK UP THE ATTRIBUTES\n        let a_PositionLocation : GLuint = this.webGLAttributeLocations[SpriteDefaults.A_POSITION];\n        webGL.vertexAttribPointer(a_PositionLocation, SpriteDefaults.FLOATS_PER_TEXTURE_COORDINATE, webGL.FLOAT, false, SpriteDefaults.TOTAL_BYTES, SpriteDefaults.VERTEX_POSITION_OFFSET);\n        webGL.enableVertexAttribArray(a_PositionLocation);\n      //  let a_TexCoordLocation : GLuint = this.webGLAttributeLocations[SpriteDefaults.A_TEX_COORD];\n       // webGL.vertexAttribPointer(a_TexCoordLocation, SpriteDefaults.FLOATS_PER_TEXTURE_COORDINATE, webGL.FLOAT, false, SpriteDefaults.TOTAL_BYTES, SpriteDefaults.TEXTURE_COORDINATE_OFFSET);\n       // webGL.enableVertexAttribArray(a_TexCoordLocation);\n\n        // USE THE UNIFORMS\n        let u_SpriteTransformLocation : WebGLUniformLocation = this.webGLUniformLocations[SpriteDefaults.U_SPRITE_TRANSFORM];\n        webGL.uniformMatrix4fv(u_SpriteTransformLocation, false, this.spriteTransform.getData());\n      //  let u_SamplerLocation : WebGLUniformLocation = this.webGLUniformLocations[SpriteDefaults.U_SAMPLER];\n        //webGL.uniform1i(u_SamplerLocation, texture.webGLTextureId);\n    //     let u_TexCoordFactorLocation : WebGLUniformLocation = this.webGLUniformLocations[SpriteDefaults.U_TEX_COORD_FACTOR];\n    //    // webGL.uniform2f(u_TexCoordFactorLocation, texCoordFactorX, texCoordFactorY);\n    //     let u_TexCoordShiftLocation : WebGLUniformLocation = this.webGLUniformLocations[SpriteDefaults.U_TEX_COORD_SHIFT];\n    //     webGL.uniform2f(u_TexCoordShiftLocation, texCoordShiftX, texCoordShiftY);\n\n        // DRAW THE SPRITE AS A TRIANGLE STRIP USING 4 VERTICES, STARTING AT THE START OF THE ARRAY (index 0)\n        webGL.drawArrays(webGL.TRIANGLE_STRIP, SpriteDefaults.INDEX_OF_FIRST_VERTEX, SpriteDefaults.NUM_VERTICES);\n    }\n}","import {WebGLGameShader} from './WebGLGameShader'\nimport {MathUtilities} from '../math/MathUtilities'\nimport { Matrix } from '../math/Matrix'\nimport { Vector3 } from '../math/Vector3'\nimport {GradientCircle} from '../scene/circle/GradientCircle'\nimport {GradientCircleType} from '../scene/circle/GradientCircleType'\nimport {WebGLGameTexture} from './WebGLGameTexture'\nimport {HashTable} from '../data/HashTable'\n\nvar SpriteDefaults = {\n    A_POSITION: \"a_Position\",\n    A_VALUE_TO_INTERPOLATE: \"a_ValueToInterpolate\",\n    A_TEX_COORD: \"a_TexCoord\",\n    U_SPRITE_TRANSFORM: \"u_SpriteTransform\",\n    U_TEX_COORD_FACTOR: \"u_TexCoordFactor\",\n    U_TEX_COORD_SHIFT: \"u_TexCoordShift\",\n    U_SAMPLER: \"u_Sampler\",\n    NUM_VERTICES: 4,\n    FLOATS_PER_VERTEX: 2,\n    FLOATS_PER_TEXTURE_COORDINATE: 2,\n    TOTAL_BYTES: 16,\n    VERTEX_POSITION_OFFSET: 0,\n    TEXTURE_COORDINATE_OFFSET: 8,\n    INDEX_OF_FIRST_VERTEX: 0\n};\n\nexport class WebGLGameGreenCircleRenderer {\n    private shader : WebGLGameShader;\n    private vertexTexCoordBuffer : WebGLBuffer;\n\n    // WE'LL USE THESE FOR TRANSOFMRING OBJECTS WHEN WE DRAW THEM\n    private spriteTransform : Matrix;\n    private spriteTranslate : Vector3;\n    private spriteRotate : Vector3;\n    private spriteScale : Vector3;    \n\n    private webGLAttributeLocations : HashTable<GLuint>;\n    private webGLUniformLocations : HashTable<WebGLUniformLocation>;\n\n    public constructor() {}\n    \n    public init(webGL : WebGLRenderingContext) : void {\n            this.shader = new WebGLGameShader();\n            var vertexShaderSource =\n            'precision highp float;\\n\\n' +\n            //'uniform vec2 ' + CircleDefaults.U_TEX_COORD_FACTOR + ';\\n' +\n            //'uniform vec2 ' + CircleDefaults.U_TEX_COORD_SHIFT + ';\\n' +\n            'attribute vec4 ' + SpriteDefaults.A_POSITION + ';\\n' +\n            'attribute vec2 ' + SpriteDefaults.A_VALUE_TO_INTERPOLATE + ';\\n' +\n            'varying vec2 val;\\n' +\n            'uniform mat4 ' + SpriteDefaults.U_SPRITE_TRANSFORM + ';\\n' +\n            'void main() {\\n' +\n            '  val = ' + SpriteDefaults.A_VALUE_TO_INTERPOLATE + ';\\n' +\n            '  gl_Position = ' + SpriteDefaults.U_SPRITE_TRANSFORM + ' * ' + SpriteDefaults.A_POSITION + ';\\n' +\n            '}\\n';\n            // 'uniform mat4 ' + SpriteDefaults.U_SPRITE_TRANSFORM + ';\\n' +\n            // 'uniform vec2 ' + SpriteDefaults.U_TEX_COORD_FACTOR + ';\\n' +\n            // 'uniform vec2 ' + SpriteDefaults.U_TEX_COORD_SHIFT + ';\\n' +\n            // 'attribute vec4 ' + SpriteDefaults.A_POSITION + ';\\n' +\n            // 'attribute vec2 ' + SpriteDefaults.A_TEX_COORD + ';\\n' +\n            // 'varying vec2 v_TexCoord;\\n' +\n            // 'void main() {\\n' +\n            // '  gl_Position = ' + SpriteDefaults.U_SPRITE_TRANSFORM + ' * ' + SpriteDefaults.A_POSITION + ';\\n' +\n            // '  vec2 tempTexCoord = ' + SpriteDefaults.A_TEX_COORD + ' * ' + SpriteDefaults.U_TEX_COORD_FACTOR + ';\\n' +\n            // '  v_TexCoord = tempTexCoord + ' + SpriteDefaults.U_TEX_COORD_SHIFT + ';\\n' +\n            // '}\\n';\n        var fragmentShaderSource =\n            'precision highp float;\\n' +\n            'varying vec2 val;\\n' +\n            'void main() {\\n' +\n            '  float R = 0.4;\\n' +\n            '  float dist = sqrt(dot(val,val));\\n' +\n            '  float alpha = 1.0;\\n' +\n            '  if (dist > R) {\\n' +\n            '    discard;\\n' +\n            '  }\\n' +\n            '  gl_FragColor = vec4(0, dist, 0, alpha);\\n' + //TODO might need randomly generated variables here\n            '}\\n';\n            // '#ifdef GL_ES\\n' +\n            // 'precision mediump float;\\n' +\n            // '#endif\\n' +\n            // 'uniform sampler2D ' + SpriteDefaults.U_SAMPLER + ';\\n' +\n            // 'varying vec2 v_TexCoord;\\n' +\n            // 'void main() {\\n' +\n            // '  gl_FragColor = texture2D(' + SpriteDefaults.U_SAMPLER + ', v_TexCoord);\\n' +\n            // '}\\n';\n        this.shader.init(webGL, vertexShaderSource, fragmentShaderSource);\n\n        // GET THE webGL OBJECT TO USE\n        var verticesTexCoords = new Float32Array([\n            -0.5,  0.5, 0.0, 0.0,\n            -0.5, -0.5, 0.0, 1.0,\n             0.5,  0.5, 1.0, 0.0,\n             0.5, -0.5, 1.0, 1.0\n        ]);\n\n        // CREATE THE BUFFER ON THE GPU\n        this.vertexTexCoordBuffer = webGL.createBuffer();\n\n        // BIND THE BUFFER TO BE VERTEX DATA\n        webGL.bindBuffer(webGL.ARRAY_BUFFER, this.vertexTexCoordBuffer);\n\n        // AND SEND THE DATA TO THE BUFFER WE CREATED ON THE GPU\n        webGL.bufferData(webGL.ARRAY_BUFFER, verticesTexCoords, webGL.STATIC_DRAW);\n\n        // SETUP THE SHADER ATTRIBUTES AND UNIFORMS\n        this.webGLAttributeLocations = {};\n        this.webGLUniformLocations = {};\n        this.loadAttributeLocations(webGL, [SpriteDefaults.A_POSITION, SpriteDefaults.A_TEX_COORD]);\n        this.loadUniformLocations(webGL, [SpriteDefaults.U_SPRITE_TRANSFORM, SpriteDefaults.U_SAMPLER, SpriteDefaults.U_TEX_COORD_FACTOR, SpriteDefaults.U_TEX_COORD_SHIFT]);\n\n        // WE'LL USE THESE FOR TRANSOFMRING OBJECTS WHEN WE DRAW THEM\n        this.spriteTransform = new Matrix(4, 4);\n        this.spriteTranslate = new Vector3();\n        this.spriteRotate = new Vector3();\n        this.spriteScale = new Vector3();\n    }\n\n    public renderRedCircles(  webGL : WebGLRenderingContext, \n                            canvasWidth : number, \n                            canvasHeight : number, \n                            visibleSet : Array<GradientCircle>) : void {\n        // SELECT THE ANIMATED SPRITE RENDERING SHADER PROGRAM FOR USE\n        let shaderProgramToUse = this.shader.getProgram();\n        webGL.useProgram(shaderProgramToUse);\n\n       // AND THEN RENDER EACH ONE\n       for (let sprite of visibleSet) {\n            this.renderAnimatedSprite(webGL, canvasWidth, canvasHeight, sprite);        \n        }\n    }\n\n    private loadAttributeLocations(webGL : WebGLRenderingContext, attributeLocationNames : Array<string>) {\n        for (var i = 0; i < attributeLocationNames.length; i++) {\n            let locationName : string = attributeLocationNames[i];\n            let location : GLuint = webGL.getAttribLocation(this.shader.getProgram(), locationName);\n            this.webGLAttributeLocations[locationName] = location;\n        }\n    }\n\n    private loadUniformLocations(webGL : WebGLRenderingContext, uniformLocationNames : Array<string>) {\n        for (let i : number = 0; i < uniformLocationNames.length; i++) {\n            let locationName : string = uniformLocationNames[i];\n            let location : WebGLUniformLocation = webGL.getUniformLocation(this.shader.getProgram(), locationName);\n            //console.log(location.)\n            this.webGLUniformLocations[locationName] = location;\n        }\n    }\n\n    private renderAnimatedSprite(   webGL : WebGLRenderingContext, \n                            canvasWidth : number, \n                            canvasHeight : number, \n                            circle : GradientCircle) {\n       // let spriteType : GradientCircle = circle.getCircleType();\n        //let texture : WebGLGameTexture = spriteType.getSpriteSheetTexture();\n\n        // CALCULATE HOW MUCH TO TRANSLATE THE QUAD PER THE SPRITE POSITION\n        let spriteWidth : number = 100;\n        let spriteHeight : number = 100;\n        let spriteXInPixels : number = circle.getPosition().getX() + (spriteWidth/2);\n        let spriteYInPixels : number = circle.getPosition().getY() + (spriteHeight/2);\n        let spriteXTranslate : number = (spriteXInPixels - (canvasWidth/2))/(canvasWidth/2);\n        let spriteYTranslate : number = (spriteYInPixels - (canvasHeight/2))/(canvasHeight/2);\n        this.spriteTranslate.setX(spriteXTranslate);\n        this.spriteTranslate.setY(-spriteYTranslate);\n\n        // CALCULATE HOW MUCH TO SCALE THE QUAD PER THE SPRITE SIZE\n        let defaultWidth : number = canvasWidth/2;\n        let defaultHeight : number = canvasHeight/2;\n        let scaleX : number = 250/defaultWidth;\n        let scaleY : number = 250/defaultHeight;\n        this.spriteScale.setX(scaleX);\n        this.spriteScale.setY(scaleY);\n\n        // @todo - COMBINE THIS WITH THE ROTATE AND SCALE VALUES FROM THE SPRITE\n        MathUtilities.identity(this.spriteTransform);\n        MathUtilities.model(this.spriteTransform, this.spriteTranslate, this.spriteRotate, this.spriteScale);\n        \n        // FIGURE OUT THE TEXTURE COORDINATE FACTOR AND SHIFT\n        // let texCoordFactorX : number = spriteWidth/texture.width;\n        // let texCoordFactorY : number = spriteHeight/texture.height;\n        // let spriteLeft : number = sprite.getLeft();\n        // let spriteTop : number = sprite.getTop();\n        // let texCoordShiftX : number = spriteLeft/texture.width;\n        // let texCoordShiftY : number = spriteTop/texture.height;   \n\n        // USE THE ATTRIBUTES\n   // webGL.bindBuffer(webGL.ARRAY_BUFFER, this.vertexTexCoordBuffer);\n       // webGL.bindTexture(webGL.TEXTURE_2D, texture.webGLTexture);\n\n        // HOOK UP THE ATTRIBUTES\n        let a_PositionLocation : GLuint = this.webGLAttributeLocations[SpriteDefaults.A_POSITION];\n        webGL.vertexAttribPointer(a_PositionLocation, SpriteDefaults.FLOATS_PER_TEXTURE_COORDINATE, webGL.FLOAT, false, SpriteDefaults.TOTAL_BYTES, SpriteDefaults.VERTEX_POSITION_OFFSET);\n        webGL.enableVertexAttribArray(a_PositionLocation);\n      //  let a_TexCoordLocation : GLuint = this.webGLAttributeLocations[SpriteDefaults.A_TEX_COORD];\n       // webGL.vertexAttribPointer(a_TexCoordLocation, SpriteDefaults.FLOATS_PER_TEXTURE_COORDINATE, webGL.FLOAT, false, SpriteDefaults.TOTAL_BYTES, SpriteDefaults.TEXTURE_COORDINATE_OFFSET);\n       // webGL.enableVertexAttribArray(a_TexCoordLocation);\n\n        // USE THE UNIFORMS\n        let u_SpriteTransformLocation : WebGLUniformLocation = this.webGLUniformLocations[SpriteDefaults.U_SPRITE_TRANSFORM];\n        webGL.uniformMatrix4fv(u_SpriteTransformLocation, false, this.spriteTransform.getData());\n      //  let u_SamplerLocation : WebGLUniformLocation = this.webGLUniformLocations[SpriteDefaults.U_SAMPLER];\n        //webGL.uniform1i(u_SamplerLocation, texture.webGLTextureId);\n    //     let u_TexCoordFactorLocation : WebGLUniformLocation = this.webGLUniformLocations[SpriteDefaults.U_TEX_COORD_FACTOR];\n    //    // webGL.uniform2f(u_TexCoordFactorLocation, texCoordFactorX, texCoordFactorY);\n    //     let u_TexCoordShiftLocation : WebGLUniformLocation = this.webGLUniformLocations[SpriteDefaults.U_TEX_COORD_SHIFT];\n    //     webGL.uniform2f(u_TexCoordShiftLocation, texCoordShiftX, texCoordShiftY);\n\n        // DRAW THE SPRITE AS A TRIANGLE STRIP USING 4 VERTICES, STARTING AT THE START OF THE ARRAY (index 0)\n        webGL.drawArrays(webGL.TRIANGLE_STRIP, SpriteDefaults.INDEX_OF_FIRST_VERTEX, SpriteDefaults.NUM_VERTICES);\n    }\n}","import {WebGLGameShader} from './WebGLGameShader'\nimport {MathUtilities} from '../math/MathUtilities'\nimport { Matrix } from '../math/Matrix'\nimport { Vector3 } from '../math/Vector3'\nimport {GradientCircle} from '../scene/circle/GradientCircle'\nimport {GradientCircleType} from '../scene/circle/GradientCircleType'\nimport {WebGLGameTexture} from './WebGLGameTexture'\nimport {HashTable} from '../data/HashTable'\n\nvar SpriteDefaults = {\n    A_POSITION: \"a_Position\",\n    A_VALUE_TO_INTERPOLATE: \"a_ValueToInterpolate\",\n    A_TEX_COORD: \"a_TexCoord\",\n    U_SPRITE_TRANSFORM: \"u_SpriteTransform\",\n    U_TEX_COORD_FACTOR: \"u_TexCoordFactor\",\n    U_TEX_COORD_SHIFT: \"u_TexCoordShift\",\n    U_SAMPLER: \"u_Sampler\",\n    NUM_VERTICES: 4,\n    FLOATS_PER_VERTEX: 2,\n    FLOATS_PER_TEXTURE_COORDINATE: 2,\n    TOTAL_BYTES: 16,\n    VERTEX_POSITION_OFFSET: 0,\n    TEXTURE_COORDINATE_OFFSET: 8,\n    INDEX_OF_FIRST_VERTEX: 0\n};\n\nexport class WebGLGameMagentaCircleRenderer {\n    private shader : WebGLGameShader;\n    private vertexTexCoordBuffer : WebGLBuffer;\n\n    // WE'LL USE THESE FOR TRANSOFMRING OBJECTS WHEN WE DRAW THEM\n    private spriteTransform : Matrix;\n    private spriteTranslate : Vector3;\n    private spriteRotate : Vector3;\n    private spriteScale : Vector3;    \n\n    private webGLAttributeLocations : HashTable<GLuint>;\n    private webGLUniformLocations : HashTable<WebGLUniformLocation>;\n\n    public constructor() {}\n    \n    public init(webGL : WebGLRenderingContext) : void {\n            this.shader = new WebGLGameShader();\n            var vertexShaderSource =\n            'precision highp float;\\n\\n' +\n            //'uniform vec2 ' + CircleDefaults.U_TEX_COORD_FACTOR + ';\\n' +\n            //'uniform vec2 ' + CircleDefaults.U_TEX_COORD_SHIFT + ';\\n' +\n            'attribute vec4 ' + SpriteDefaults.A_POSITION + ';\\n' +\n            'attribute vec2 ' + SpriteDefaults.A_VALUE_TO_INTERPOLATE + ';\\n' +\n            'varying vec2 val;\\n' +\n            'uniform mat4 ' + SpriteDefaults.U_SPRITE_TRANSFORM + ';\\n' +\n            'void main() {\\n' +\n            '  val = ' + SpriteDefaults.A_VALUE_TO_INTERPOLATE + ';\\n' +\n            '  gl_Position = ' + SpriteDefaults.U_SPRITE_TRANSFORM + ' * ' + SpriteDefaults.A_POSITION + ';\\n' +\n            '}\\n';\n            // 'uniform mat4 ' + SpriteDefaults.U_SPRITE_TRANSFORM + ';\\n' +\n            // 'uniform vec2 ' + SpriteDefaults.U_TEX_COORD_FACTOR + ';\\n' +\n            // 'uniform vec2 ' + SpriteDefaults.U_TEX_COORD_SHIFT + ';\\n' +\n            // 'attribute vec4 ' + SpriteDefaults.A_POSITION + ';\\n' +\n            // 'attribute vec2 ' + SpriteDefaults.A_TEX_COORD + ';\\n' +\n            // 'varying vec2 v_TexCoord;\\n' +\n            // 'void main() {\\n' +\n            // '  gl_Position = ' + SpriteDefaults.U_SPRITE_TRANSFORM + ' * ' + SpriteDefaults.A_POSITION + ';\\n' +\n            // '  vec2 tempTexCoord = ' + SpriteDefaults.A_TEX_COORD + ' * ' + SpriteDefaults.U_TEX_COORD_FACTOR + ';\\n' +\n            // '  v_TexCoord = tempTexCoord + ' + SpriteDefaults.U_TEX_COORD_SHIFT + ';\\n' +\n            // '}\\n';\n        var fragmentShaderSource =\n            'precision highp float;\\n' +\n            'varying vec2 val;\\n' +\n            'void main() {\\n' +\n            '  float R = 0.4;\\n' +\n            '  float dist = sqrt(dot(val,val));\\n' +\n            '  float alpha = 1.0;\\n' +\n            '  if (dist > R) {\\n' +\n            '    discard;\\n' +\n            '  }\\n' +\n            '  gl_FragColor = vec4(dist, 0, dist, alpha);\\n' + //TODO might need randomly generated variables here\n            '}\\n';\n            // '#ifdef GL_ES\\n' +\n            // 'precision mediump float;\\n' +\n            // '#endif\\n' +\n            // 'uniform sampler2D ' + SpriteDefaults.U_SAMPLER + ';\\n' +\n            // 'varying vec2 v_TexCoord;\\n' +\n            // 'void main() {\\n' +\n            // '  gl_FragColor = texture2D(' + SpriteDefaults.U_SAMPLER + ', v_TexCoord);\\n' +\n            // '}\\n';\n        this.shader.init(webGL, vertexShaderSource, fragmentShaderSource);\n\n        // GET THE webGL OBJECT TO USE\n        var verticesTexCoords = new Float32Array([\n            -0.5,  0.5, 0.0, 0.0,\n            -0.5, -0.5, 0.0, 1.0,\n             0.5,  0.5, 1.0, 0.0,\n             0.5, -0.5, 1.0, 1.0\n        ]);\n\n        // CREATE THE BUFFER ON THE GPU\n        this.vertexTexCoordBuffer = webGL.createBuffer();\n\n        // BIND THE BUFFER TO BE VERTEX DATA\n        webGL.bindBuffer(webGL.ARRAY_BUFFER, this.vertexTexCoordBuffer);\n\n        // AND SEND THE DATA TO THE BUFFER WE CREATED ON THE GPU\n        webGL.bufferData(webGL.ARRAY_BUFFER, verticesTexCoords, webGL.STATIC_DRAW);\n\n        // SETUP THE SHADER ATTRIBUTES AND UNIFORMS\n        this.webGLAttributeLocations = {};\n        this.webGLUniformLocations = {};\n        this.loadAttributeLocations(webGL, [SpriteDefaults.A_POSITION, SpriteDefaults.A_TEX_COORD]);\n        this.loadUniformLocations(webGL, [SpriteDefaults.U_SPRITE_TRANSFORM, SpriteDefaults.U_SAMPLER, SpriteDefaults.U_TEX_COORD_FACTOR, SpriteDefaults.U_TEX_COORD_SHIFT]);\n\n        // WE'LL USE THESE FOR TRANSOFMRING OBJECTS WHEN WE DRAW THEM\n        this.spriteTransform = new Matrix(4, 4);\n        this.spriteTranslate = new Vector3();\n        this.spriteRotate = new Vector3();\n        this.spriteScale = new Vector3();\n    }\n\n    public renderRedCircles(  webGL : WebGLRenderingContext, \n                            canvasWidth : number, \n                            canvasHeight : number, \n                            visibleSet : Array<GradientCircle>) : void {\n        // SELECT THE ANIMATED SPRITE RENDERING SHADER PROGRAM FOR USE\n        let shaderProgramToUse = this.shader.getProgram();\n        webGL.useProgram(shaderProgramToUse);\n\n       // AND THEN RENDER EACH ONE\n       for (let sprite of visibleSet) {\n            this.renderAnimatedSprite(webGL, canvasWidth, canvasHeight, sprite);        \n        }\n    }\n\n    private loadAttributeLocations(webGL : WebGLRenderingContext, attributeLocationNames : Array<string>) {\n        for (var i = 0; i < attributeLocationNames.length; i++) {\n            let locationName : string = attributeLocationNames[i];\n            let location : GLuint = webGL.getAttribLocation(this.shader.getProgram(), locationName);\n            this.webGLAttributeLocations[locationName] = location;\n        }\n    }\n\n    private loadUniformLocations(webGL : WebGLRenderingContext, uniformLocationNames : Array<string>) {\n        for (let i : number = 0; i < uniformLocationNames.length; i++) {\n            let locationName : string = uniformLocationNames[i];\n            let location : WebGLUniformLocation = webGL.getUniformLocation(this.shader.getProgram(), locationName);\n            //console.log(location.)\n            this.webGLUniformLocations[locationName] = location;\n        }\n    }\n\n    private renderAnimatedSprite(   webGL : WebGLRenderingContext, \n                            canvasWidth : number, \n                            canvasHeight : number, \n                            circle : GradientCircle) {\n       // let spriteType : GradientCircle = circle.getCircleType();\n        //let texture : WebGLGameTexture = spriteType.getSpriteSheetTexture();\n\n        // CALCULATE HOW MUCH TO TRANSLATE THE QUAD PER THE SPRITE POSITION\n        let spriteWidth : number = 100;\n        let spriteHeight : number = 100;\n        let spriteXInPixels : number = circle.getPosition().getX() + (spriteWidth/2);\n        let spriteYInPixels : number = circle.getPosition().getY() + (spriteHeight/2);\n        let spriteXTranslate : number = (spriteXInPixels - (canvasWidth/2))/(canvasWidth/2);\n        let spriteYTranslate : number = (spriteYInPixels - (canvasHeight/2))/(canvasHeight/2);\n        this.spriteTranslate.setX(spriteXTranslate);\n        this.spriteTranslate.setY(-spriteYTranslate);\n\n        // CALCULATE HOW MUCH TO SCALE THE QUAD PER THE SPRITE SIZE\n        let defaultWidth : number = canvasWidth/2;\n        let defaultHeight : number = canvasHeight/2;\n        let scaleX : number = 250/defaultWidth;\n        let scaleY : number = 250/defaultHeight;\n        this.spriteScale.setX(scaleX);\n        this.spriteScale.setY(scaleY);\n\n        // @todo - COMBINE THIS WITH THE ROTATE AND SCALE VALUES FROM THE SPRITE\n        MathUtilities.identity(this.spriteTransform);\n        MathUtilities.model(this.spriteTransform, this.spriteTranslate, this.spriteRotate, this.spriteScale);\n        \n        // FIGURE OUT THE TEXTURE COORDINATE FACTOR AND SHIFT\n        // let texCoordFactorX : number = spriteWidth/texture.width;\n        // let texCoordFactorY : number = spriteHeight/texture.height;\n        // let spriteLeft : number = sprite.getLeft();\n        // let spriteTop : number = sprite.getTop();\n        // let texCoordShiftX : number = spriteLeft/texture.width;\n        // let texCoordShiftY : number = spriteTop/texture.height;   \n\n        // USE THE ATTRIBUTES\n   // webGL.bindBuffer(webGL.ARRAY_BUFFER, this.vertexTexCoordBuffer);\n       // webGL.bindTexture(webGL.TEXTURE_2D, texture.webGLTexture);\n\n        // HOOK UP THE ATTRIBUTES\n        let a_PositionLocation : GLuint = this.webGLAttributeLocations[SpriteDefaults.A_POSITION];\n        webGL.vertexAttribPointer(a_PositionLocation, SpriteDefaults.FLOATS_PER_TEXTURE_COORDINATE, webGL.FLOAT, false, SpriteDefaults.TOTAL_BYTES, SpriteDefaults.VERTEX_POSITION_OFFSET);\n        webGL.enableVertexAttribArray(a_PositionLocation);\n      //  let a_TexCoordLocation : GLuint = this.webGLAttributeLocations[SpriteDefaults.A_TEX_COORD];\n       // webGL.vertexAttribPointer(a_TexCoordLocation, SpriteDefaults.FLOATS_PER_TEXTURE_COORDINATE, webGL.FLOAT, false, SpriteDefaults.TOTAL_BYTES, SpriteDefaults.TEXTURE_COORDINATE_OFFSET);\n       // webGL.enableVertexAttribArray(a_TexCoordLocation);\n\n        // USE THE UNIFORMS\n        let u_SpriteTransformLocation : WebGLUniformLocation = this.webGLUniformLocations[SpriteDefaults.U_SPRITE_TRANSFORM];\n        webGL.uniformMatrix4fv(u_SpriteTransformLocation, false, this.spriteTransform.getData());\n      //  let u_SamplerLocation : WebGLUniformLocation = this.webGLUniformLocations[SpriteDefaults.U_SAMPLER];\n        //webGL.uniform1i(u_SamplerLocation, texture.webGLTextureId);\n    //     let u_TexCoordFactorLocation : WebGLUniformLocation = this.webGLUniformLocations[SpriteDefaults.U_TEX_COORD_FACTOR];\n    //    // webGL.uniform2f(u_TexCoordFactorLocation, texCoordFactorX, texCoordFactorY);\n    //     let u_TexCoordShiftLocation : WebGLUniformLocation = this.webGLUniformLocations[SpriteDefaults.U_TEX_COORD_SHIFT];\n    //     webGL.uniform2f(u_TexCoordShiftLocation, texCoordShiftX, texCoordShiftY);\n\n        // DRAW THE SPRITE AS A TRIANGLE STRIP USING 4 VERTICES, STARTING AT THE START OF THE ARRAY (index 0)\n        webGL.drawArrays(webGL.TRIANGLE_STRIP, SpriteDefaults.INDEX_OF_FIRST_VERTEX, SpriteDefaults.NUM_VERTICES);\n    }\n}","import {WebGLGameShader} from './WebGLGameShader'\nimport {MathUtilities} from '../math/MathUtilities'\nimport { Matrix } from '../math/Matrix'\nimport { Vector3 } from '../math/Vector3'\nimport {GradientCircle} from '../scene/circle/GradientCircle'\nimport {GradientCircleType} from '../scene/circle/GradientCircleType'\nimport {WebGLGameTexture} from './WebGLGameTexture'\nimport {HashTable} from '../data/HashTable'\n\nvar SpriteDefaults = {\n    A_POSITION: \"a_Position\",\n    A_VALUE_TO_INTERPOLATE: \"a_ValueToInterpolate\",\n    A_TEX_COORD: \"a_TexCoord\",\n    U_SPRITE_TRANSFORM: \"u_SpriteTransform\",\n    U_TEX_COORD_FACTOR: \"u_TexCoordFactor\",\n    U_TEX_COORD_SHIFT: \"u_TexCoordShift\",\n    U_SAMPLER: \"u_Sampler\",\n    NUM_VERTICES: 4,\n    FLOATS_PER_VERTEX: 2,\n    FLOATS_PER_TEXTURE_COORDINATE: 2,\n    TOTAL_BYTES: 16,\n    VERTEX_POSITION_OFFSET: 0,\n    TEXTURE_COORDINATE_OFFSET: 8,\n    INDEX_OF_FIRST_VERTEX: 0\n};\n\nexport class WebGLGameRedCircleRenderer {\n    private shader : WebGLGameShader;\n    private vertexTexCoordBuffer : WebGLBuffer;\n\n    // WE'LL USE THESE FOR TRANSOFMRING OBJECTS WHEN WE DRAW THEM\n    private spriteTransform : Matrix;\n    private spriteTranslate : Vector3;\n    private spriteRotate : Vector3;\n    private spriteScale : Vector3;    \n\n    private webGLAttributeLocations : HashTable<GLuint>;\n    private webGLUniformLocations : HashTable<WebGLUniformLocation>;\n\n    public constructor() {}\n    \n    public init(webGL : WebGLRenderingContext) : void {\n            this.shader = new WebGLGameShader();\n            var vertexShaderSource =\n            'precision highp float;\\n\\n' +\n            //'uniform vec2 ' + CircleDefaults.U_TEX_COORD_FACTOR + ';\\n' +\n            //'uniform vec2 ' + CircleDefaults.U_TEX_COORD_SHIFT + ';\\n' +\n            'attribute vec4 ' + SpriteDefaults.A_POSITION + ';\\n' +\n            'attribute vec2 ' + SpriteDefaults.A_VALUE_TO_INTERPOLATE + ';\\n' +\n            'varying vec2 val;\\n' +\n            'uniform mat4 ' + SpriteDefaults.U_SPRITE_TRANSFORM + ';\\n' +\n            'void main() {\\n' +\n            '  val = ' + SpriteDefaults.A_VALUE_TO_INTERPOLATE + ';\\n' +\n            '  gl_Position = ' + SpriteDefaults.U_SPRITE_TRANSFORM + ' * ' + SpriteDefaults.A_POSITION + ';\\n' +\n            '}\\n';\n            // 'uniform mat4 ' + SpriteDefaults.U_SPRITE_TRANSFORM + ';\\n' +\n            // 'uniform vec2 ' + SpriteDefaults.U_TEX_COORD_FACTOR + ';\\n' +\n            // 'uniform vec2 ' + SpriteDefaults.U_TEX_COORD_SHIFT + ';\\n' +\n            // 'attribute vec4 ' + SpriteDefaults.A_POSITION + ';\\n' +\n            // 'attribute vec2 ' + SpriteDefaults.A_TEX_COORD + ';\\n' +\n            // 'varying vec2 v_TexCoord;\\n' +\n            // 'void main() {\\n' +\n            // '  gl_Position = ' + SpriteDefaults.U_SPRITE_TRANSFORM + ' * ' + SpriteDefaults.A_POSITION + ';\\n' +\n            // '  vec2 tempTexCoord = ' + SpriteDefaults.A_TEX_COORD + ' * ' + SpriteDefaults.U_TEX_COORD_FACTOR + ';\\n' +\n            // '  v_TexCoord = tempTexCoord + ' + SpriteDefaults.U_TEX_COORD_SHIFT + ';\\n' +\n            // '}\\n';\n        var fragmentShaderSource =\n            'precision highp float;\\n' +\n            'varying vec2 val;\\n' +\n            'void main() {\\n' +\n            '  float R = 0.4;\\n' +\n            '  float dist = sqrt(dot(val,val));\\n' +\n            '  float alpha = 1.0;\\n' +\n            '  if (dist > R) {\\n' +\n            '    discard;\\n' +\n            '  }\\n' +\n            '  gl_FragColor = vec4(dist, 0, 0, alpha);\\n' + //TODO might need randomly generated variables here\n            '}\\n';\n            // '#ifdef GL_ES\\n' +\n            // 'precision mediump float;\\n' +\n            // '#endif\\n' +\n            // 'uniform sampler2D ' + SpriteDefaults.U_SAMPLER + ';\\n' +\n            // 'varying vec2 v_TexCoord;\\n' +\n            // 'void main() {\\n' +\n            // '  gl_FragColor = texture2D(' + SpriteDefaults.U_SAMPLER + ', v_TexCoord);\\n' +\n            // '}\\n';\n        this.shader.init(webGL, vertexShaderSource, fragmentShaderSource);\n\n        // GET THE webGL OBJECT TO USE\n        var verticesTexCoords = new Float32Array([\n            -0.5,  0.5, 0.0, 0.0,\n            -0.5, -0.5, 0.0, 1.0,\n             0.5,  0.5, 1.0, 0.0,\n             0.5, -0.5, 1.0, 1.0\n        ]);\n\n        // CREATE THE BUFFER ON THE GPU\n        this.vertexTexCoordBuffer = webGL.createBuffer();\n\n        // BIND THE BUFFER TO BE VERTEX DATA\n        webGL.bindBuffer(webGL.ARRAY_BUFFER, this.vertexTexCoordBuffer);\n\n        // AND SEND THE DATA TO THE BUFFER WE CREATED ON THE GPU\n        webGL.bufferData(webGL.ARRAY_BUFFER, verticesTexCoords, webGL.STATIC_DRAW);\n\n        // SETUP THE SHADER ATTRIBUTES AND UNIFORMS\n        this.webGLAttributeLocations = {};\n        this.webGLUniformLocations = {};\n        this.loadAttributeLocations(webGL, [SpriteDefaults.A_POSITION, SpriteDefaults.A_TEX_COORD]);\n        this.loadUniformLocations(webGL, [SpriteDefaults.U_SPRITE_TRANSFORM, SpriteDefaults.U_SAMPLER, SpriteDefaults.U_TEX_COORD_FACTOR, SpriteDefaults.U_TEX_COORD_SHIFT]);\n\n        // WE'LL USE THESE FOR TRANSOFMRING OBJECTS WHEN WE DRAW THEM\n        this.spriteTransform = new Matrix(4, 4);\n        this.spriteTranslate = new Vector3();\n        this.spriteRotate = new Vector3();\n        this.spriteScale = new Vector3();\n    }\n\n    public renderRedCircles(  webGL : WebGLRenderingContext, \n                            canvasWidth : number, \n                            canvasHeight : number, \n                            visibleSet : Array<GradientCircle>) : void {\n        // SELECT THE ANIMATED SPRITE RENDERING SHADER PROGRAM FOR USE\n        let shaderProgramToUse = this.shader.getProgram();\n        webGL.useProgram(shaderProgramToUse);\n\n       // AND THEN RENDER EACH ONE\n       for (let sprite of visibleSet) {\n            this.renderAnimatedSprite(webGL, canvasWidth, canvasHeight, sprite);        \n        }\n    }\n\n    private loadAttributeLocations(webGL : WebGLRenderingContext, attributeLocationNames : Array<string>) {\n        for (var i = 0; i < attributeLocationNames.length; i++) {\n            let locationName : string = attributeLocationNames[i];\n            let location : GLuint = webGL.getAttribLocation(this.shader.getProgram(), locationName);\n            this.webGLAttributeLocations[locationName] = location;\n        }\n    }\n\n    private loadUniformLocations(webGL : WebGLRenderingContext, uniformLocationNames : Array<string>) {\n        for (let i : number = 0; i < uniformLocationNames.length; i++) {\n            let locationName : string = uniformLocationNames[i];\n            let location : WebGLUniformLocation = webGL.getUniformLocation(this.shader.getProgram(), locationName);\n            //console.log(location.)\n            this.webGLUniformLocations[locationName] = location;\n        }\n    }\n\n    private renderAnimatedSprite(   webGL : WebGLRenderingContext, \n                            canvasWidth : number, \n                            canvasHeight : number, \n                            circle : GradientCircle) {\n       // let spriteType : GradientCircle = circle.getCircleType();\n        //let texture : WebGLGameTexture = spriteType.getSpriteSheetTexture();\n\n        // CALCULATE HOW MUCH TO TRANSLATE THE QUAD PER THE SPRITE POSITION\n        let spriteWidth : number = 100;\n        let spriteHeight : number = 100;\n        let spriteXInPixels : number = circle.getPosition().getX() + (spriteWidth/2);\n        let spriteYInPixels : number = circle.getPosition().getY() + (spriteHeight/2);\n        let spriteXTranslate : number = (spriteXInPixels - (canvasWidth/2))/(canvasWidth/2);\n        let spriteYTranslate : number = (spriteYInPixels - (canvasHeight/2))/(canvasHeight/2);\n        this.spriteTranslate.setX(spriteXTranslate);\n        this.spriteTranslate.setY(-spriteYTranslate);\n\n        // CALCULATE HOW MUCH TO SCALE THE QUAD PER THE SPRITE SIZE\n        let defaultWidth : number = canvasWidth/2;\n        let defaultHeight : number = canvasHeight/2;\n        let scaleX : number = 250/defaultWidth;\n        let scaleY : number = 250/defaultHeight;\n        this.spriteScale.setX(scaleX);\n        this.spriteScale.setY(scaleY);\n\n        // @todo - COMBINE THIS WITH THE ROTATE AND SCALE VALUES FROM THE SPRITE\n        MathUtilities.identity(this.spriteTransform);\n        MathUtilities.model(this.spriteTransform, this.spriteTranslate, this.spriteRotate, this.spriteScale);\n        \n        // FIGURE OUT THE TEXTURE COORDINATE FACTOR AND SHIFT\n        // let texCoordFactorX : number = spriteWidth/texture.width;\n        // let texCoordFactorY : number = spriteHeight/texture.height;\n        // let spriteLeft : number = sprite.getLeft();\n        // let spriteTop : number = sprite.getTop();\n        // let texCoordShiftX : number = spriteLeft/texture.width;\n        // let texCoordShiftY : number = spriteTop/texture.height;   \n\n        // USE THE ATTRIBUTES\n   // webGL.bindBuffer(webGL.ARRAY_BUFFER, this.vertexTexCoordBuffer);\n       // webGL.bindTexture(webGL.TEXTURE_2D, texture.webGLTexture);\n\n        // HOOK UP THE ATTRIBUTES\n        let a_PositionLocation : GLuint = this.webGLAttributeLocations[SpriteDefaults.A_POSITION];\n        webGL.vertexAttribPointer(a_PositionLocation, SpriteDefaults.FLOATS_PER_TEXTURE_COORDINATE, webGL.FLOAT, false, SpriteDefaults.TOTAL_BYTES, SpriteDefaults.VERTEX_POSITION_OFFSET);\n        webGL.enableVertexAttribArray(a_PositionLocation);\n      //  let a_TexCoordLocation : GLuint = this.webGLAttributeLocations[SpriteDefaults.A_TEX_COORD];\n       // webGL.vertexAttribPointer(a_TexCoordLocation, SpriteDefaults.FLOATS_PER_TEXTURE_COORDINATE, webGL.FLOAT, false, SpriteDefaults.TOTAL_BYTES, SpriteDefaults.TEXTURE_COORDINATE_OFFSET);\n       // webGL.enableVertexAttribArray(a_TexCoordLocation);\n\n        // USE THE UNIFORMS\n        let u_SpriteTransformLocation : WebGLUniformLocation = this.webGLUniformLocations[SpriteDefaults.U_SPRITE_TRANSFORM];\n        webGL.uniformMatrix4fv(u_SpriteTransformLocation, false, this.spriteTransform.getData());\n      //  let u_SamplerLocation : WebGLUniformLocation = this.webGLUniformLocations[SpriteDefaults.U_SAMPLER];\n        //webGL.uniform1i(u_SamplerLocation, texture.webGLTextureId);\n    //     let u_TexCoordFactorLocation : WebGLUniformLocation = this.webGLUniformLocations[SpriteDefaults.U_TEX_COORD_FACTOR];\n    //    // webGL.uniform2f(u_TexCoordFactorLocation, texCoordFactorX, texCoordFactorY);\n    //     let u_TexCoordShiftLocation : WebGLUniformLocation = this.webGLUniformLocations[SpriteDefaults.U_TEX_COORD_SHIFT];\n    //     webGL.uniform2f(u_TexCoordShiftLocation, texCoordShiftX, texCoordShiftY);\n\n        // DRAW THE SPRITE AS A TRIANGLE STRIP USING 4 VERTICES, STARTING AT THE START OF THE ARRAY (index 0)\n        webGL.drawArrays(webGL.TRIANGLE_STRIP, SpriteDefaults.INDEX_OF_FIRST_VERTEX, SpriteDefaults.NUM_VERTICES);\n    }\n}","/*\n * This serves as the subsystem that manages all game rendering.\n */\nimport {TextRenderer} from './TextRenderer'\nimport {WebGLGameSpriteRenderer} from './WebGLGameSpriteRenderer'\nimport {WebGLGameCircleRenderer} from './WebGLGameCircleRenderer'\nimport {WebGLGameRedCircleRenderer} from './WebGLGameRedCircleRenderer'\nimport {WebGLGameBlueCircleRenderer} from './WebGLGameBlueCircleRenderer'\nimport {WebGLGameGreenCircleRenderer} from './WebGLGameGreenCircleRenderer'\nimport {WebGLGameCyanCircleRenderer} from './WebGLGameCyanCircleRenderer'\nimport {WebGLGameYellowCircleRenderer} from './WebGLGameYellowCircleRenderer'\nimport {WebGLGameMagentaCircleRenderer} from './WebGLGameMagentaCircleRenderer'\nimport {AnimatedSprite} from '../scene/sprite/AnimatedSprite'\nimport {GradientCircle} from '../scene/circle/GradientCircle'\nimport {WebGLGameTexture } from './WebGLGameTexture';\n\nexport class WebGLGameRenderingSystem {\n    private renderingCanvas : HTMLCanvasElement;\n    private webGL : WebGLRenderingContext;\n    private spriteRenderer : WebGLGameSpriteRenderer;\n    private circleRenderer : WebGLGameCircleRenderer;\n    private redcircleRenderer : WebGLGameRedCircleRenderer;\n    private bluecircleRenderer : WebGLGameBlueCircleRenderer;\n    private greencircleRenderer : WebGLGameGreenCircleRenderer;\n    private cyancircleRenderer : WebGLGameCyanCircleRenderer;\n    private yellowcircleRenderer : WebGLGameYellowCircleRenderer;\n    private magentacircleRenderer : WebGLGameMagentaCircleRenderer;\n    private textRenderer : TextRenderer;\n    private canvasWidth : number;\n    private canvasHeight : number;\n\n    public constructor() {}\n\n    public getTextureConstant(id : number) : number {\n        // WE ONLY HAVE 4 HERE, WE SHOULD HAVE A BETTER WAY OF DOING THIS\n        switch(id) {\n            case 0: return this.webGL.TEXTURE0;\n            case 1: return this.webGL.TEXTURE1;\n            case 2: return this.webGL.TEXTURE3;\n            default: return this.webGL.TEXTURE4;\n        }\n    }\n\n    public getWebGL() : WebGLRenderingContext {\n        return this.webGL;\n    }\n\n    public getSpriteRenderer() : WebGLGameSpriteRenderer {\n        return this.spriteRenderer;\n    }\n\n    public getTextRenderer() : TextRenderer {\n        return this.textRenderer;\n    }\n\n    public init(renderingCanvasId : string, textCanvasId : string) : void {\n        // FIRST SETUP webGL\n        this.renderingCanvas = <HTMLCanvasElement>document.getElementById(renderingCanvasId);\n        this.renderingCanvas.width = window.innerWidth;\n        this.renderingCanvas.height = window.innerHeight;\n        this.canvasWidth = this.renderingCanvas.width;\n        this.canvasHeight = this.renderingCanvas.height;\n        this.webGL = this.renderingCanvas.getContext(\"webgl\");\n\n        // IF THE USER'S MACHINE/BROWSER DOESN'T SUPPORT\n        // WebGL THEN THERE'S NO POINT OF GOING ON\n        if (!this.webGL) {\n            // PROVIDE SOME FEEDBACK THAT WebGL WON'T WORK BECAUSE\n            // THE USER'S' GRAPHICS CARD IS FOR THE BIRDS\n            console.error(\"WebGL is not supported by this device\");\n\n            // AND END INITIALIZATION\n            return;\n        }\n\n        // WebGL IS SUPPORTED, SO INIT EVERYTHING THAT USES IT\n\n        // MAKE THE CLEAR COLOR BLACK\n        this.setClearColor(1.0, 1.0, 1.0, 1.0);\n\n        // ENABLE DEPTH TESTING\n        this.webGL.disable(this.webGL.DEPTH_TEST);\n        this.webGL.enable(this.webGL.BLEND);\n        this.webGL.blendFunc(this.webGL.SRC_ALPHA, this.webGL.ONE_MINUS_SRC_ALPHA);\n\n        // TURN ON BACKFACE CULLING\n        this.webGL.enable(this.webGL.CULL_FACE);\n\n        // THIS SPECIFIES THAT WE'RE USING THE ENTIRE CANVAS\n        this.webGL.viewport(0, 0, this.canvasWidth, this.canvasHeight);\n\n        // NOW MAKE THE SHADER FOR DRAWING THIS THING\n        this.spriteRenderer = new WebGLGameSpriteRenderer();\n        this.spriteRenderer.init(this.webGL);\n\n        this.circleRenderer = new WebGLGameCircleRenderer();\n        this.circleRenderer.init(this.webGL);\n\n        this.redcircleRenderer = new WebGLGameRedCircleRenderer();\n        this.redcircleRenderer.init(this.webGL);\n\n        this.bluecircleRenderer = new WebGLGameBlueCircleRenderer();\n        this.bluecircleRenderer.init(this.webGL);\n\n        this.greencircleRenderer = new WebGLGameGreenCircleRenderer();\n        this.greencircleRenderer.init(this.webGL);\n\n        this.cyancircleRenderer = new WebGLGameCyanCircleRenderer();\n        this.cyancircleRenderer.init(this.webGL);\n\n        this.yellowcircleRenderer = new WebGLGameYellowCircleRenderer();\n        this.yellowcircleRenderer.init(this.webGL);\n\n        this.magentacircleRenderer = new WebGLGameMagentaCircleRenderer();\n        this.magentacircleRenderer.init(this.webGL);\n        \n        // THIS WILL STORE OUR TEXT\n        this.textRenderer = new TextRenderer(textCanvasId, \"serif\", 18, \"#FFFF00\");\n    }\n\n    public initWebGLTexture(textureToInit : WebGLGameTexture, textureId : number, image : HTMLImageElement, callback : Function) : void {\n        textureToInit.width = image.width;\n        textureToInit.height = image.height;\n\n        // CREATE A WebGL TEXTURE ON THE GPU\n        textureToInit.webGLTexture = this.webGL.createTexture();\n        textureToInit.webGLTextureId = textureId;\n\n        // FLIP THE IMAGE'S y-AXIS\n        //webGL.pixelStorei(webGL.UNPACK_FLIP_Y_WEBGL, 1);\n\n        // ACTIVATE THE WebGL TEXTURE ON THE GPU\n        //let textureNumName : string = \"TEXTURE\" + textureId;\n        let textureNameConstant : number = this.getTextureConstant(textureId);\n        this.webGL.activeTexture(textureNameConstant);\n\n        // BIND THE TEXTURE TO A 2D TYPE\n        this.webGL.bindTexture(this.webGL.TEXTURE_2D, textureToInit.webGLTexture);\n\n        // SPECIFY RENDERING SETTINGS\n        this.webGL.texParameteri(this.webGL.TEXTURE_2D, this.webGL.TEXTURE_MIN_FILTER, this.webGL.LINEAR);\n\n        // SET THE IMAGE FOR THE TEXTURE\n        this.webGL.texImage2D(this.webGL.TEXTURE_2D, 0, this.webGL.RGBA, this.webGL.RGBA, this.webGL.UNSIGNED_BYTE, image);\n\n        // KEEP IT FOR WHEN WE RENDER\n        callback();\n    }\n\n    public setClearColor(r : number, g : number, b : number, a : number) : void {\n        this.webGL.clearColor(r, g, b, a);\n    }\n\n    public render(visibleSet : Array<AnimatedSprite>, redSet : Array<GradientCircle>, blueSet : Array<GradientCircle>, greenSet : Array<GradientCircle>, cyanSet : Array<GradientCircle>, yellowSet : Array<GradientCircle>, magentaSet : Array<GradientCircle>) : void {\n        // CLEAR THE CANVAS\n        this.webGL.clear(this.webGL.COLOR_BUFFER_BIT | this.webGL.DEPTH_BUFFER_BIT);\n        \n        // RENDER THE SPRITES ON ONE CANVAS\n        this.spriteRenderer.renderAnimatedSprites(this.webGL, this.canvasWidth, this.canvasHeight, visibleSet);\n\n        // RENDER THE CIRCLES ON ONE CANVAS\n    //this.circleRenderer.renderGradientCircles(this.webGL, this.canvasWidth, this.canvasHeight, circleSet);\n\n        this.redcircleRenderer.renderRedCircles(this.webGL, this.canvasWidth, this.canvasHeight, redSet);\n\n        this.bluecircleRenderer.renderRedCircles(this.webGL, this.canvasWidth, this.canvasHeight, blueSet);\n\n        this.greencircleRenderer.renderRedCircles(this.webGL, this.canvasWidth, this.canvasHeight, greenSet);\n\n        this.cyancircleRenderer.renderRedCircles(this.webGL, this.canvasWidth, this.canvasHeight, cyanSet);\n\n        this.yellowcircleRenderer.renderRedCircles(this.webGL, this.canvasWidth, this.canvasHeight, yellowSet);\n\n        this.magentacircleRenderer.renderRedCircles(this.webGL, this.canvasWidth, this.canvasHeight, magentaSet);\n        \n        \n        // THEN THE TEXT ON ANOTHER OVERLAPPING CANVAS\n        this.textRenderer.render();\n    }\n}","/*\n * This is a wrapper class for a WebGLProgram, i.e. a shader for custom rendering\n * using WebGL's programmable pipeline.\n */\nexport class WebGLGameShader {\n    private program : WebGLProgram;\n    private vertexShader : WebGLShader;\n    private fragmentShader : WebGLShader;\n\n    public constructor() {}\n\n    public getProgram() : WebGLProgram {\n        return this.program;\n    }\n\n    public init(webGL : WebGLRenderingContext, vSource : string, fSource : string) : void {\n        this.vertexShader = <WebGLShader>this.createShader(webGL, webGL.VERTEX_SHADER, vSource);\n        this.fragmentShader = <WebGLShader>this.createShader(webGL, webGL.FRAGMENT_SHADER, fSource);\n        this.program = this.createShaderProgram(webGL, this.vertexShader, this.fragmentShader);\n    }\n\n    public createShader(webGL : WebGLRenderingContext, type : number, source : string) : WebGLShader {\n        // MAKE A NEW SHADER OBJECT, LOAD IT'S SOURCE, AND COMPILE IT\n        var shader = webGL.createShader(type);\n        webGL.shaderSource(shader, source);\n        webGL.compileShader(shader);\n\n        // DID IT COMPILE?\n        var success = webGL.getShaderParameter(shader, webGL.COMPILE_STATUS);\n        if (success) {\n            return shader;\n        }\n\n        // DISASTER\n        console.log(webGL.getShaderInfoLog(shader));\n        webGL.deleteShader(shader);\n        return null;\n    }\n\n    \n\n    public createShaderProgram(webGL : WebGLRenderingContext, vShader : WebGLShader, fShader : WebGLShader) : WebGLProgram {\n        // MAKE THE GLSL SHADER PROGRAM\n        let programToCreate = webGL.createProgram();\n\n        // LINK THE VERT AND FRAG\n        webGL.attachShader(programToCreate, vShader);\n        webGL.attachShader(programToCreate, fShader);\n\n        // NOW WE CAN LINK THE SHADER PROGRAM\n        webGL.linkProgram(programToCreate);\n        let linked : boolean = webGL.getProgramParameter(programToCreate, webGL.LINK_STATUS);\n\n        // IS IT LINKED?\n        if (!linked) {\n            // DISASTER\n            let errorFeedback : string = webGL.getProgramInfoLog(programToCreate);\n            console.log(errorFeedback);\n\n            // DISASTER\n            console.log(webGL.getProgramInfoLog(programToCreate));\n            webGL.deleteProgram(programToCreate);\n        }\n        return programToCreate;\n    }\n}","import {WebGLGameShader} from './WebGLGameShader'\nimport {MathUtilities} from '../math/MathUtilities'\nimport { Matrix } from '../math/Matrix'\nimport { Vector3 } from '../math/Vector3'\nimport {AnimatedSprite} from '../scene/sprite/AnimatedSprite'\nimport {AnimatedSpriteType} from '../scene/sprite/AnimatedSpriteType'\nimport {WebGLGameTexture} from './WebGLGameTexture'\nimport {HashTable} from '../data/HashTable'\n\nvar SpriteDefaults = {\n    A_POSITION: \"a_Position\",\n    A_TEX_COORD: \"a_TexCoord\",\n    U_SPRITE_TRANSFORM: \"u_SpriteTransform\",\n    U_TEX_COORD_FACTOR: \"u_TexCoordFactor\",\n    U_TEX_COORD_SHIFT: \"u_TexCoordShift\",\n    U_SAMPLER: \"u_Sampler\",\n    NUM_VERTICES: 4,\n    FLOATS_PER_VERTEX: 2,\n    FLOATS_PER_TEXTURE_COORDINATE: 2,\n    TOTAL_BYTES: 16,\n    VERTEX_POSITION_OFFSET: 0,\n    TEXTURE_COORDINATE_OFFSET: 8,\n    INDEX_OF_FIRST_VERTEX: 0\n};\n\nexport class WebGLGameSpriteRenderer {\n    private shader : WebGLGameShader;\n    private vertexTexCoordBuffer : WebGLBuffer;\n\n    // WE'LL USE THESE FOR TRANSOFMRING OBJECTS WHEN WE DRAW THEM\n    private spriteTransform : Matrix;\n    private spriteTranslate : Vector3;\n    private spriteRotate : Vector3;\n    private spriteScale : Vector3;    \n\n    private webGLAttributeLocations : HashTable<GLuint>;\n    private webGLUniformLocations : HashTable<WebGLUniformLocation>;\n\n    public constructor() {}\n    \n    public init(webGL : WebGLRenderingContext) : void {\n        this.shader = new WebGLGameShader();\n        var vertexShaderSource =\n            'uniform mat4 ' + SpriteDefaults.U_SPRITE_TRANSFORM + ';\\n' +\n            'uniform vec2 ' + SpriteDefaults.U_TEX_COORD_FACTOR + ';\\n' +\n            'uniform vec2 ' + SpriteDefaults.U_TEX_COORD_SHIFT + ';\\n' +\n            'attribute vec4 ' + SpriteDefaults.A_POSITION + ';\\n' +\n            'attribute vec2 ' + SpriteDefaults.A_TEX_COORD + ';\\n' +\n            'varying vec2 v_TexCoord;\\n' +\n            'void main() {\\n' +\n            '  gl_Position = ' + SpriteDefaults.U_SPRITE_TRANSFORM + ' * ' + SpriteDefaults.A_POSITION + ';\\n' +\n            '  vec2 tempTexCoord = ' + SpriteDefaults.A_TEX_COORD + ' * ' + SpriteDefaults.U_TEX_COORD_FACTOR + ';\\n' +\n            '  v_TexCoord = tempTexCoord + ' + SpriteDefaults.U_TEX_COORD_SHIFT + ';\\n' +\n            '}\\n';\n        var fragmentShaderSource =\n            '#ifdef GL_ES\\n' +\n            'precision mediump float;\\n' +\n            '#endif\\n' +\n            'uniform sampler2D ' + SpriteDefaults.U_SAMPLER + ';\\n' +\n            'varying vec2 v_TexCoord;\\n' +\n            'void main() {\\n' +\n            '  gl_FragColor = texture2D(' + SpriteDefaults.U_SAMPLER + ', v_TexCoord);\\n' +\n            '}\\n';\n        this.shader.init(webGL, vertexShaderSource, fragmentShaderSource);\n\n        // GET THE webGL OBJECT TO USE\n        var verticesTexCoords = new Float32Array([\n            -0.5,  0.5, 0.0, 0.0,\n            -0.5, -0.5, 0.0, 1.0,\n             0.5,  0.5, 1.0, 0.0,\n             0.5, -0.5, 1.0, 1.0\n        ]);\n\n        // CREATE THE BUFFER ON THE GPU\n        this.vertexTexCoordBuffer = webGL.createBuffer();\n\n        // BIND THE BUFFER TO BE VERTEX DATA\n        webGL.bindBuffer(webGL.ARRAY_BUFFER, this.vertexTexCoordBuffer);\n\n        // AND SEND THE DATA TO THE BUFFER WE CREATED ON THE GPU\n        webGL.bufferData(webGL.ARRAY_BUFFER, verticesTexCoords, webGL.STATIC_DRAW);\n\n        // SETUP THE SHADER ATTRIBUTES AND UNIFORMS\n        this.webGLAttributeLocations = {};\n        this.webGLUniformLocations = {};\n        this.loadAttributeLocations(webGL, [SpriteDefaults.A_POSITION, SpriteDefaults.A_TEX_COORD]);\n        this.loadUniformLocations(webGL, [SpriteDefaults.U_SPRITE_TRANSFORM, SpriteDefaults.U_SAMPLER, SpriteDefaults.U_TEX_COORD_FACTOR, SpriteDefaults.U_TEX_COORD_SHIFT]);\n\n        // WE'LL USE THESE FOR TRANSOFMRING OBJECTS WHEN WE DRAW THEM\n        this.spriteTransform = new Matrix(4, 4);\n        this.spriteTranslate = new Vector3();\n        this.spriteRotate = new Vector3();\n        this.spriteScale = new Vector3();\n    }\n\n    public renderAnimatedSprites(  webGL : WebGLRenderingContext, \n                            canvasWidth : number, \n                            canvasHeight : number, \n                            visibleSet : Array<AnimatedSprite>) : void {\n        // SELECT THE ANIMATED SPRITE RENDERING SHADER PROGRAM FOR USE\n        let shaderProgramToUse = this.shader.getProgram();\n        webGL.useProgram(shaderProgramToUse);\n\n       // AND THEN RENDER EACH ONE\n       for (let sprite of visibleSet) {\n            this.renderAnimatedSprite(webGL, canvasWidth, canvasHeight, sprite);        \n        }\n    }\n\n    private loadAttributeLocations(webGL : WebGLRenderingContext, attributeLocationNames : Array<string>) {\n        for (var i = 0; i < attributeLocationNames.length; i++) {\n            let locationName : string = attributeLocationNames[i];\n            let location : GLuint = webGL.getAttribLocation(this.shader.getProgram(), locationName);\n            this.webGLAttributeLocations[locationName] = location;\n        }\n    }\n\n    private loadUniformLocations(webGL : WebGLRenderingContext, uniformLocationNames : Array<string>) {\n        for (let i : number = 0; i < uniformLocationNames.length; i++) {\n            let locationName : string = uniformLocationNames[i];\n            let location : WebGLUniformLocation = webGL.getUniformLocation(this.shader.getProgram(), locationName);\n            this.webGLUniformLocations[locationName] = location;\n        }\n    }\n\n    private renderAnimatedSprite(   webGL : WebGLRenderingContext, \n                            canvasWidth : number, \n                            canvasHeight : number, \n                            sprite : AnimatedSprite) {\n        let spriteType : AnimatedSpriteType = sprite.getSpriteType();\n        let texture : WebGLGameTexture = spriteType.getSpriteSheetTexture();\n\n        // CALCULATE HOW MUCH TO TRANSLATE THE QUAD PER THE SPRITE POSITION\n        let spriteWidth : number = spriteType.getSpriteWidth();\n        let spriteHeight : number = spriteType.getSpriteHeight();\n        let spriteXInPixels : number = sprite.getPosition().getX() + (spriteWidth/2);\n        let spriteYInPixels : number = sprite.getPosition().getY() + (spriteHeight/2);\n        let spriteXTranslate : number = (spriteXInPixels - (canvasWidth/2))/(canvasWidth/2);\n        let spriteYTranslate : number = (spriteYInPixels - (canvasHeight/2))/(canvasHeight/2);\n        this.spriteTranslate.setX(spriteXTranslate);\n        this.spriteTranslate.setY(-spriteYTranslate);\n\n        // CALCULATE HOW MUCH TO SCALE THE QUAD PER THE SPRITE SIZE\n        let defaultWidth : number = canvasWidth/2;\n        let defaultHeight : number = canvasHeight/2;\n        let scaleX : number = spriteWidth/defaultWidth;\n        let scaleY : number = spriteHeight/defaultHeight;\n        this.spriteScale.setX(scaleX);\n        this.spriteScale.setY(scaleY);\n\n        // @todo - COMBINE THIS WITH THE ROTATE AND SCALE VALUES FROM THE SPRITE\n        MathUtilities.identity(this.spriteTransform);\n        MathUtilities.model(this.spriteTransform, this.spriteTranslate, this.spriteRotate, this.spriteScale);\n        \n        // FIGURE OUT THE TEXTURE COORDINATE FACTOR AND SHIFT\n        let texCoordFactorX : number = spriteWidth/texture.width;\n        let texCoordFactorY : number = spriteHeight/texture.height;\n        let spriteLeft : number = sprite.getLeft();\n        let spriteTop : number = sprite.getTop();\n        let texCoordShiftX : number = spriteLeft/texture.width;\n        let texCoordShiftY : number = spriteTop/texture.height;   \n\n        // USE THE ATTRIBUTES\n        webGL.bindBuffer(webGL.ARRAY_BUFFER, this.vertexTexCoordBuffer);\n        webGL.bindTexture(webGL.TEXTURE_2D, texture.webGLTexture);\n\n        // HOOK UP THE ATTRIBUTES\n        let a_PositionLocation : GLuint = this.webGLAttributeLocations[SpriteDefaults.A_POSITION];\n        webGL.vertexAttribPointer(a_PositionLocation, SpriteDefaults.FLOATS_PER_TEXTURE_COORDINATE, webGL.FLOAT, false, SpriteDefaults.TOTAL_BYTES, SpriteDefaults.VERTEX_POSITION_OFFSET);\n        webGL.enableVertexAttribArray(a_PositionLocation);\n        let a_TexCoordLocation : GLuint = this.webGLAttributeLocations[SpriteDefaults.A_TEX_COORD];\n        webGL.vertexAttribPointer(a_TexCoordLocation, SpriteDefaults.FLOATS_PER_TEXTURE_COORDINATE, webGL.FLOAT, false, SpriteDefaults.TOTAL_BYTES, SpriteDefaults.TEXTURE_COORDINATE_OFFSET);\n        webGL.enableVertexAttribArray(a_TexCoordLocation);\n\n        // USE THE UNIFORMS\n        let u_SpriteTransformLocation : WebGLUniformLocation = this.webGLUniformLocations[SpriteDefaults.U_SPRITE_TRANSFORM];\n        webGL.uniformMatrix4fv(u_SpriteTransformLocation, false, this.spriteTransform.getData());\n        let u_SamplerLocation : WebGLUniformLocation = this.webGLUniformLocations[SpriteDefaults.U_SAMPLER];\n        webGL.uniform1i(u_SamplerLocation, texture.webGLTextureId);\n        let u_TexCoordFactorLocation : WebGLUniformLocation = this.webGLUniformLocations[SpriteDefaults.U_TEX_COORD_FACTOR];\n        webGL.uniform2f(u_TexCoordFactorLocation, texCoordFactorX, texCoordFactorY);\n        let u_TexCoordShiftLocation : WebGLUniformLocation = this.webGLUniformLocations[SpriteDefaults.U_TEX_COORD_SHIFT];\n        webGL.uniform2f(u_TexCoordShiftLocation, texCoordShiftX, texCoordShiftY);\n\n        // DRAW THE SPRITE AS A TRIANGLE STRIP USING 4 VERTICES, STARTING AT THE START OF THE ARRAY (index 0)\n        webGL.drawArrays(webGL.TRIANGLE_STRIP, SpriteDefaults.INDEX_OF_FIRST_VERTEX, SpriteDefaults.NUM_VERTICES);\n    }\n}","export class WebGLGameTexture {\n    public webGLTextureId: number;\n    public webGLTexture: WebGLTexture;\n    public image: HTMLImageElement;\n    public width : number;\n    public height : number;\n}","import {WebGLGameShader} from './WebGLGameShader'\nimport {MathUtilities} from '../math/MathUtilities'\nimport { Matrix } from '../math/Matrix'\nimport { Vector3 } from '../math/Vector3'\nimport {GradientCircle} from '../scene/circle/GradientCircle'\nimport {GradientCircleType} from '../scene/circle/GradientCircleType'\nimport {WebGLGameTexture} from './WebGLGameTexture'\nimport {HashTable} from '../data/HashTable'\n\nvar SpriteDefaults = {\n    A_POSITION: \"a_Position\",\n    A_VALUE_TO_INTERPOLATE: \"a_ValueToInterpolate\",\n    A_TEX_COORD: \"a_TexCoord\",\n    U_SPRITE_TRANSFORM: \"u_SpriteTransform\",\n    U_TEX_COORD_FACTOR: \"u_TexCoordFactor\",\n    U_TEX_COORD_SHIFT: \"u_TexCoordShift\",\n    U_SAMPLER: \"u_Sampler\",\n    NUM_VERTICES: 4,\n    FLOATS_PER_VERTEX: 2,\n    FLOATS_PER_TEXTURE_COORDINATE: 2,\n    TOTAL_BYTES: 16,\n    VERTEX_POSITION_OFFSET: 0,\n    TEXTURE_COORDINATE_OFFSET: 8,\n    INDEX_OF_FIRST_VERTEX: 0\n};\n\nexport class WebGLGameYellowCircleRenderer {\n    private shader : WebGLGameShader;\n    private vertexTexCoordBuffer : WebGLBuffer;\n\n    // WE'LL USE THESE FOR TRANSOFMRING OBJECTS WHEN WE DRAW THEM\n    private spriteTransform : Matrix;\n    private spriteTranslate : Vector3;\n    private spriteRotate : Vector3;\n    private spriteScale : Vector3;    \n\n    private webGLAttributeLocations : HashTable<GLuint>;\n    private webGLUniformLocations : HashTable<WebGLUniformLocation>;\n\n    public constructor() {}\n    \n    public init(webGL : WebGLRenderingContext) : void {\n            this.shader = new WebGLGameShader();\n            var vertexShaderSource =\n            'precision highp float;\\n\\n' +\n            //'uniform vec2 ' + CircleDefaults.U_TEX_COORD_FACTOR + ';\\n' +\n            //'uniform vec2 ' + CircleDefaults.U_TEX_COORD_SHIFT + ';\\n' +\n            'attribute vec4 ' + SpriteDefaults.A_POSITION + ';\\n' +\n            'attribute vec2 ' + SpriteDefaults.A_VALUE_TO_INTERPOLATE + ';\\n' +\n            'varying vec2 val;\\n' +\n            'uniform mat4 ' + SpriteDefaults.U_SPRITE_TRANSFORM + ';\\n' +\n            'void main() {\\n' +\n            '  val = ' + SpriteDefaults.A_VALUE_TO_INTERPOLATE + ';\\n' +\n            '  gl_Position = ' + SpriteDefaults.U_SPRITE_TRANSFORM + ' * ' + SpriteDefaults.A_POSITION + ';\\n' +\n            '}\\n';\n            // 'uniform mat4 ' + SpriteDefaults.U_SPRITE_TRANSFORM + ';\\n' +\n            // 'uniform vec2 ' + SpriteDefaults.U_TEX_COORD_FACTOR + ';\\n' +\n            // 'uniform vec2 ' + SpriteDefaults.U_TEX_COORD_SHIFT + ';\\n' +\n            // 'attribute vec4 ' + SpriteDefaults.A_POSITION + ';\\n' +\n            // 'attribute vec2 ' + SpriteDefaults.A_TEX_COORD + ';\\n' +\n            // 'varying vec2 v_TexCoord;\\n' +\n            // 'void main() {\\n' +\n            // '  gl_Position = ' + SpriteDefaults.U_SPRITE_TRANSFORM + ' * ' + SpriteDefaults.A_POSITION + ';\\n' +\n            // '  vec2 tempTexCoord = ' + SpriteDefaults.A_TEX_COORD + ' * ' + SpriteDefaults.U_TEX_COORD_FACTOR + ';\\n' +\n            // '  v_TexCoord = tempTexCoord + ' + SpriteDefaults.U_TEX_COORD_SHIFT + ';\\n' +\n            // '}\\n';\n        var fragmentShaderSource =\n            'precision highp float;\\n' +\n            'varying vec2 val;\\n' +\n            'void main() {\\n' +\n            '  float R = 0.4;\\n' +\n            '  float dist = sqrt(dot(val,val));\\n' +\n            '  float alpha = 1.0;\\n' +\n            '  if (dist > R) {\\n' +\n            '    discard;\\n' +\n            '  }\\n' +\n            '  gl_FragColor = vec4(dist, dist, 0, alpha);\\n' + //TODO might need randomly generated variables here\n            '}\\n';\n            // '#ifdef GL_ES\\n' +\n            // 'precision mediump float;\\n' +\n            // '#endif\\n' +\n            // 'uniform sampler2D ' + SpriteDefaults.U_SAMPLER + ';\\n' +\n            // 'varying vec2 v_TexCoord;\\n' +\n            // 'void main() {\\n' +\n            // '  gl_FragColor = texture2D(' + SpriteDefaults.U_SAMPLER + ', v_TexCoord);\\n' +\n            // '}\\n';\n        this.shader.init(webGL, vertexShaderSource, fragmentShaderSource);\n\n        // GET THE webGL OBJECT TO USE\n        var verticesTexCoords = new Float32Array([\n            -0.5,  0.5, 0.0, 0.0,\n            -0.5, -0.5, 0.0, 1.0,\n             0.5,  0.5, 1.0, 0.0,\n             0.5, -0.5, 1.0, 1.0\n        ]);\n\n        // CREATE THE BUFFER ON THE GPU\n        this.vertexTexCoordBuffer = webGL.createBuffer();\n\n        // BIND THE BUFFER TO BE VERTEX DATA\n        webGL.bindBuffer(webGL.ARRAY_BUFFER, this.vertexTexCoordBuffer);\n\n        // AND SEND THE DATA TO THE BUFFER WE CREATED ON THE GPU\n        webGL.bufferData(webGL.ARRAY_BUFFER, verticesTexCoords, webGL.STATIC_DRAW);\n\n        // SETUP THE SHADER ATTRIBUTES AND UNIFORMS\n        this.webGLAttributeLocations = {};\n        this.webGLUniformLocations = {};\n        this.loadAttributeLocations(webGL, [SpriteDefaults.A_POSITION, SpriteDefaults.A_TEX_COORD]);\n        this.loadUniformLocations(webGL, [SpriteDefaults.U_SPRITE_TRANSFORM, SpriteDefaults.U_SAMPLER, SpriteDefaults.U_TEX_COORD_FACTOR, SpriteDefaults.U_TEX_COORD_SHIFT]);\n\n        // WE'LL USE THESE FOR TRANSOFMRING OBJECTS WHEN WE DRAW THEM\n        this.spriteTransform = new Matrix(4, 4);\n        this.spriteTranslate = new Vector3();\n        this.spriteRotate = new Vector3();\n        this.spriteScale = new Vector3();\n    }\n\n    public renderRedCircles(  webGL : WebGLRenderingContext, \n                            canvasWidth : number, \n                            canvasHeight : number, \n                            visibleSet : Array<GradientCircle>) : void {\n        // SELECT THE ANIMATED SPRITE RENDERING SHADER PROGRAM FOR USE\n        let shaderProgramToUse = this.shader.getProgram();\n        webGL.useProgram(shaderProgramToUse);\n\n       // AND THEN RENDER EACH ONE\n       for (let sprite of visibleSet) {\n            this.renderAnimatedSprite(webGL, canvasWidth, canvasHeight, sprite);        \n        }\n    }\n\n    private loadAttributeLocations(webGL : WebGLRenderingContext, attributeLocationNames : Array<string>) {\n        for (var i = 0; i < attributeLocationNames.length; i++) {\n            let locationName : string = attributeLocationNames[i];\n            let location : GLuint = webGL.getAttribLocation(this.shader.getProgram(), locationName);\n            this.webGLAttributeLocations[locationName] = location;\n        }\n    }\n\n    private loadUniformLocations(webGL : WebGLRenderingContext, uniformLocationNames : Array<string>) {\n        for (let i : number = 0; i < uniformLocationNames.length; i++) {\n            let locationName : string = uniformLocationNames[i];\n            let location : WebGLUniformLocation = webGL.getUniformLocation(this.shader.getProgram(), locationName);\n            //console.log(location.)\n            this.webGLUniformLocations[locationName] = location;\n        }\n    }\n\n    private renderAnimatedSprite(   webGL : WebGLRenderingContext, \n                            canvasWidth : number, \n                            canvasHeight : number, \n                            circle : GradientCircle) {\n       // let spriteType : GradientCircle = circle.getCircleType();\n        //let texture : WebGLGameTexture = spriteType.getSpriteSheetTexture();\n\n        // CALCULATE HOW MUCH TO TRANSLATE THE QUAD PER THE SPRITE POSITION\n        let spriteWidth : number = 100;\n        let spriteHeight : number = 100;\n        let spriteXInPixels : number = circle.getPosition().getX() + (spriteWidth/2);\n        let spriteYInPixels : number = circle.getPosition().getY() + (spriteHeight/2);\n        let spriteXTranslate : number = (spriteXInPixels - (canvasWidth/2))/(canvasWidth/2);\n        let spriteYTranslate : number = (spriteYInPixels - (canvasHeight/2))/(canvasHeight/2);\n        this.spriteTranslate.setX(spriteXTranslate);\n        this.spriteTranslate.setY(-spriteYTranslate);\n\n        // CALCULATE HOW MUCH TO SCALE THE QUAD PER THE SPRITE SIZE\n        let defaultWidth : number = canvasWidth/2;\n        let defaultHeight : number = canvasHeight/2;\n        let scaleX : number = 250/defaultWidth;\n        let scaleY : number = 250/defaultHeight;\n        this.spriteScale.setX(scaleX);\n        this.spriteScale.setY(scaleY);\n\n        // @todo - COMBINE THIS WITH THE ROTATE AND SCALE VALUES FROM THE SPRITE\n        MathUtilities.identity(this.spriteTransform);\n        MathUtilities.model(this.spriteTransform, this.spriteTranslate, this.spriteRotate, this.spriteScale);\n        \n        // FIGURE OUT THE TEXTURE COORDINATE FACTOR AND SHIFT\n        // let texCoordFactorX : number = spriteWidth/texture.width;\n        // let texCoordFactorY : number = spriteHeight/texture.height;\n        // let spriteLeft : number = sprite.getLeft();\n        // let spriteTop : number = sprite.getTop();\n        // let texCoordShiftX : number = spriteLeft/texture.width;\n        // let texCoordShiftY : number = spriteTop/texture.height;   \n\n        // USE THE ATTRIBUTES\n   // webGL.bindBuffer(webGL.ARRAY_BUFFER, this.vertexTexCoordBuffer);\n       // webGL.bindTexture(webGL.TEXTURE_2D, texture.webGLTexture);\n\n        // HOOK UP THE ATTRIBUTES\n        let a_PositionLocation : GLuint = this.webGLAttributeLocations[SpriteDefaults.A_POSITION];\n        webGL.vertexAttribPointer(a_PositionLocation, SpriteDefaults.FLOATS_PER_TEXTURE_COORDINATE, webGL.FLOAT, false, SpriteDefaults.TOTAL_BYTES, SpriteDefaults.VERTEX_POSITION_OFFSET);\n        webGL.enableVertexAttribArray(a_PositionLocation);\n      //  let a_TexCoordLocation : GLuint = this.webGLAttributeLocations[SpriteDefaults.A_TEX_COORD];\n       // webGL.vertexAttribPointer(a_TexCoordLocation, SpriteDefaults.FLOATS_PER_TEXTURE_COORDINATE, webGL.FLOAT, false, SpriteDefaults.TOTAL_BYTES, SpriteDefaults.TEXTURE_COORDINATE_OFFSET);\n       // webGL.enableVertexAttribArray(a_TexCoordLocation);\n\n        // USE THE UNIFORMS\n        let u_SpriteTransformLocation : WebGLUniformLocation = this.webGLUniformLocations[SpriteDefaults.U_SPRITE_TRANSFORM];\n        webGL.uniformMatrix4fv(u_SpriteTransformLocation, false, this.spriteTransform.getData());\n      //  let u_SamplerLocation : WebGLUniformLocation = this.webGLUniformLocations[SpriteDefaults.U_SAMPLER];\n        //webGL.uniform1i(u_SamplerLocation, texture.webGLTextureId);\n    //     let u_TexCoordFactorLocation : WebGLUniformLocation = this.webGLUniformLocations[SpriteDefaults.U_TEX_COORD_FACTOR];\n    //    // webGL.uniform2f(u_TexCoordFactorLocation, texCoordFactorX, texCoordFactorY);\n    //     let u_TexCoordShiftLocation : WebGLUniformLocation = this.webGLUniformLocations[SpriteDefaults.U_TEX_COORD_SHIFT];\n    //     webGL.uniform2f(u_TexCoordShiftLocation, texCoordShiftX, texCoordShiftY);\n\n        // DRAW THE SPRITE AS A TRIANGLE STRIP USING 4 VERTICES, STARTING AT THE START OF THE ARRAY (index 0)\n        webGL.drawArrays(webGL.TRIANGLE_STRIP, SpriteDefaults.INDEX_OF_FIRST_VERTEX, SpriteDefaults.NUM_VERTICES);\n    }\n}","import {SceneObject} from './SceneObject'\nimport {AnimatedSprite} from './sprite/AnimatedSprite'\nimport {GradientCircle} from './circle/GradientCircle'\nimport { GradientCircleType } from './circle/GradientCircleType';\n\nexport class SceneGraph {\n    static lastIndex : number = 0;\n\n    // AND ALL OF THE ANIMATED SPRITES, WHICH ARE NOT STORED\n    // SORTED OR IN ANY PARTICULAR ORDER. NOTE THAT ANIMATED SPRITES\n    // ARE SCENE OBJECTS\n    private animatedSprites : Array<AnimatedSprite>;\n\n    // AND ALL OF THE ANIMATED SPRITES, WHICH ARE NOT STORED\n    // SORTED OR IN ANY PARTICULAR ORDER. NOTE THAT ANIMATED SPRITES\n    // ARE SCENE OBJECTS\n    private gradientCircles : Array<GradientCircle>;\n    private redCircles : Array<GradientCircle>;\n\n    // SET OF VISIBLE OBJECTS, NOTE THAT AT THE MOMENT OUR\n    // SCENE GRAPH IS QUITE SIMPLE, SO THIS IS THE SAME AS\n    // OUR LIST OF ANIMATED SPRITES\n    private visibleSet : Array<SceneObject>;\n\n    public constructor() {\n        // DEFAULT CONSTRUCTOR INITIALIZES OUR DATA STRUCTURES\n        this.animatedSprites = new Array();\n        this.gradientCircles = new Array();\n        this.redCircles = new Array();\n        this.visibleSet = new Array();\n    }\n\n    public getNumSprites() : number {\n        return this.animatedSprites.length;\n    }\n\n    public addAnimatedSprite(sprite : AnimatedSprite) : void {\n        this.animatedSprites.push(sprite);\n    }\n\n    public addGradientCirlce(sprite : GradientCircle) : void {\n        this.gradientCircles.push(sprite);\n    }\n\n    public addRedCirlce(sprite : GradientCircle) : void {\n        this.redCircles.push(sprite);\n    }\n\n    public removeAnimatedSprite(sprite : AnimatedSprite) : void {\n        var spriteIndex = this.animatedSprites.indexOf(sprite, 0);\n        if(spriteIndex > -1) {\n            console.log(\"It's being removed\");\n            this.animatedSprites.splice(spriteIndex, 1);\n        }\n    }\n\n    public removeGradientCircle(sprite : GradientCircle) : void {\n        var spriteIndex = this.gradientCircles.indexOf(sprite, 0);\n        if(spriteIndex > -1) {\n            console.log(\"It's being removed\");\n            this.gradientCircles.splice(spriteIndex, 1);\n        }\n    }\n\n    public getSpriteAt(testX : number, testY : number) : AnimatedSprite {\n        for (let sprite of this.animatedSprites) {\n            if (sprite.contains(testX, testY))\n                return sprite;\n        }\n        return null;\n    }\n\n    public getCircleAt(testX : number, testY : number) : GradientCircle {\n        for (let circle of this.gradientCircles) {\n            if (circle.contains(testX, testY))\n                return circle;\n        }\n        return null;\n    }\n\n    /**\n     * update\n     * \n     * Called once per frame, this function updates the state of all the objects\n     * in the scene.\n     * \n     * @param delta The time that has passed since the last time this update\n     * funcation was called.\n     */\n    public update(delta : number) : void {\n        for (let sprite of this.animatedSprites) {\n            sprite.update(delta);\n        }\n    }\n\n    public scope() : Array<SceneObject> {\n        // CLEAR OUT THE OLD\n        this.visibleSet = [];\n\n        // PUT ALL THE SCENE OBJECTS INTO THE VISIBLE SET\n        for (let sprite of this.animatedSprites) {\n            this.visibleSet.push(sprite);\n        }\n\n        return this.visibleSet;\n    }\n\n    public scope2() : Array<SceneObject> {\n        // CLEAR OUT THE OLD\n        this.visibleSet = [];\n\n        // PUT ALL THE SCENE OBJECTS INTO THE VISIBLE SET\n        for (let circle of this.gradientCircles) {\n            this.visibleSet.push(circle);\n        }\n\n        return this.visibleSet;\n    }\n}","import {Vector3} from '../math/Vector3'\n\n/**\n * SceneObject\n * \n * A SceneObject is something that can be placed into the scene graph. It has\n * a position, rotation, and scale in the game world. Note that its position\n * is typically its centered location, so if we're talking about a 2d box, \n * it would be the center of that box.\n */\nexport abstract class SceneObject {\n    private position : Vector3;\n    private rotation : Vector3;\n    private scale : Vector3;\n\n    public constructor() {\n        this.position = new Vector3();\n        this.rotation = new Vector3();\n        this.scale = new Vector3();\n\n        // CLEAR ALL VALUES\n        this.position.set(0.0, 0.0, 0.0, 1.0);\n        this.rotation.set(0.0, 0.0, 0.0, 1.0);\n        this.scale.set(1.0, 1.0, 1.0, 1.0);\n    }\n\n    public getPosition() : Vector3 {\n        return this.position;\n    }    \n\n    public getRotation() : Vector3 {\n        return this.rotation;\n    }\n\n    public getScale() : Vector3 {\n        return this.scale;\n    }\n\n    public abstract contains(testX : number, testY : number) : boolean;\n}","import {SceneObject} from '../SceneObject'\nimport {GradientCircleType} from './GradientCircleType'\n\nexport class GradientCircle extends SceneObject {\n    private circleType : GradientCircleType;\n    private state : string;\n    private indexNum : number;\n\n    public constructor(initCircleType : GradientCircleType, initState : string, initIndexNum : number) {\n        super();\n        \n        this.circleType = initCircleType;\n        this.state = initState;\n        this.indexNum = initIndexNum;\n    }\n\n    public getIndexNum(){\n        return this.indexNum;\n    }\n\n\n    public getCircleType() : GradientCircleType {\n        return this.circleType;\n    }\n\n    public getState() : string {\n        return this.state;\n    }\n\n    public setState(initState : string) : void {\n        this.state = initState;\n    }\n    \n    public contains(pointX : number, pointY : number) : boolean {\n        let circleWidth = this.getCircleType().getCircleWidth();\n        let circleHeight = this.getCircleType().getCircleHeight();\n        let circleLeft = this.getPosition().getX();\n        let circleRight = this.getPosition().getX() + circleWidth;\n        let circleTop = this.getPosition().getY();\n        let circleBottom = this.getPosition().getY() + circleHeight;\n        if (    (pointX < circleLeft)\n            ||  (circleRight < pointX)\n            ||  (pointY < circleTop)\n            ||  (circleBottom < pointY)) {\n                return false;\n        }\n        else {\n            return true;\n        }\n    }\n\n    /**RENAME THIS METHOD SO IT DENOTES PIXEL LOCATION IN TEXTURE */\n    // public getLeft() : number {\n    //     return this.circleType.getLeft(this.state, this.circleColorIndex);\n    // }\n    \n    // public getTop() : number {\n    //     return this.circleType.getTop(this.state, this.circleColorIndex);\n    // }\n\n    // public toString() : string {\n    //     let summary : string =  \"{ position: (\"\n    //                         +   this.getPosition().getX() + \", \" + this.getPosition().getY() + \") \"\n    //                         +   \"(state: \" + this.getState() + \") \"\n    //                         +   \"(animationFrameIndex: \" + this.getAnimationFrameIndex() + \") \"\n    //                         +   \"(frameCounter: \" + this.getFrameCounter() + \") \";\n    //     return summary;\n    // }\n}","import {WebGLGameTexture} from '../../rendering/WebGLGameTexture'\nimport {HashTable} from '../../data/HashTable'\n\nexport class GradientCircleFrame {\n    public left : number;\n    public top : number;\n    public duration : number;\n\n    constructor(initLeft : number, initTop : number, initDuration : number) {\n        this.left = initLeft;\n        this.top = initTop;\n        this.duration = initDuration;\n    }\n}\n\nexport class GradientCircleType {\n    //private circleSheetTexture : WebGLGameTexture;\n    private animations : HashTable<Array<GradientCircleFrame>>;\n    private circleWidth : number;\n    private circleHeight : number;\n\n    public constructor( \n                initCircleWidth : number, initCircleHeight : number) {\n       // this.circleSheetTexture = initCircleSheetTexture;\n        this.animations = {};\n        this.circleWidth = 200;\n        this.circleHeight = 200;\n    }\n\n    public addAnimation(state : string) : void {\n        this.animations[state] = new Array<GradientCircleFrame>();\n    }\n\n    public addAnimationFrame(state : string, index : number, frameDuration : number) : void {\n      //  var columns = this.circleSheetTexture.width/this.circleWidth;\n       // var rows = this.circleSheetTexture.height/this.circleHeight;\n       // var col = index % columns;\n       // var row = Math.floor(index /  columns);\n       // var left = col * this.circleWidth;\n       // var top = row * this.circleHeight;\n        //this.animations[state].push(new GradientCircleFrame(left, top, frameDuration));\n    }\n\n    public getCircleWidth() : number {\n        return this.circleWidth;\n    }\n\n    public getCircleHeight() : number {\n        return this.circleHeight;\n    }\n\n   // public getCircleSheetTexture() : WebGLGameTexture {\n       // return this.circleSheetTexture;\n  //  }\n\n    public getAnimation(state : string) : Array<GradientCircleFrame> {\n        return this.animations[state];\n    }\n\n    public getLeft(state : string, frameIndex : number) : number {\n        let animationFrame : GradientCircleFrame = this.animations[state][frameIndex];\n        return animationFrame.left;\n    }\n\n    public getTop(state : string, frameIndex : number) : number {\n        let animationFrame : GradientCircleFrame = this.animations[state][frameIndex];\n        return animationFrame.top;\n    }\n}","import {SceneObject} from '../SceneObject'\nimport {AnimatedSpriteType} from './AnimatedSpriteType'\n\nexport class AnimatedSprite extends SceneObject {\n    private spriteType : AnimatedSpriteType;\n    private state : string;\n    private animationFrameIndex : number;\n    private frameCounter : number;\n    private indexNum : number;\n    \n    public constructor(initSpriteType : AnimatedSpriteType, initState : string, initIndexNum : number) {\n        super();\n        this.spriteType = initSpriteType;\n        \n        // START RESET\n        this.state = initState;\n        this.animationFrameIndex = 0;\n        this.frameCounter = 0;\n        this.indexNum = initIndexNum;\n    }\n\n    public getIndexNum(){\n        return this.indexNum;\n    }\n\n    public getAnimationFrameIndex() : number {\n        return this.animationFrameIndex;\n    }\n\n    public getFrameCounter() : number {\n        return this.frameCounter;\n    }\n\n    public getSpriteType() : AnimatedSpriteType {\n        return this.spriteType;\n    }\n\n    public getState() : string {\n        return this.state;\n    }\n    \n    public setState(initState : string) : void {\n        this.state = initState;\n        this.animationFrameIndex = 0;\n        this.frameCounter = 0;\n    }\n    \n    public update(delta : number) : void {\n        this.frameCounter++;\n        \n        // HAVE WE GONE PAST THE LAST FRAME IN THE ANIMATION?\n        var currentAnimation = this.spriteType.getAnimation(this.state);\n        var currentFrame = currentAnimation[this.animationFrameIndex];\n        if (this.frameCounter > (currentFrame.duration)) {\n            this.animationFrameIndex++;\n            if (this.animationFrameIndex >= currentAnimation.length) {\n                this.animationFrameIndex = 0;\n            }\n            this.frameCounter = 0;\n        }\n    }\n\n    public contains(pointX : number, pointY : number) : boolean {\n        let spriteWidth = this.getSpriteType().getSpriteWidth();\n        let spriteHeight = this.getSpriteType().getSpriteHeight();\n        let spriteLeft = this.getPosition().getX();\n        let spriteRight = this.getPosition().getX() + spriteWidth;\n        let spriteTop = this.getPosition().getY();\n        let spriteBottom = this.getPosition().getY() + spriteHeight;\n        if (    (pointX < spriteLeft)\n            ||  (spriteRight < pointX)\n            ||  (pointY < spriteTop)\n            ||  (spriteBottom < pointY)) {\n                return false;\n        }\n        else {\n            return true;\n        }\n    }\n    \n    /**RENAME THIS METHOD SO IT DENOTES PIXEL LOCATION IN TEXTURE */\n    public getLeft() : number {\n        return this.spriteType.getLeft(this.state, this.animationFrameIndex);\n    }\n    \n    public getTop() : number {\n        return this.spriteType.getTop(this.state, this.animationFrameIndex);\n    }\n\n    public toString() : string {\n        let summary : string =  \"{ position: (\"\n                            +   this.getPosition().getX() + \", \" + this.getPosition().getY() + \") \"\n                            +   \"(state: \" + this.getState() + \") \"\n                            +   \"(animationFrameIndex: \" + this.getAnimationFrameIndex() + \") \"\n                            +   \"(frameCounter: \" + this.getFrameCounter() + \") \";\n        return summary;\n    }\n}","import {WebGLGameTexture} from '../../rendering/WebGLGameTexture'\nimport {HashTable} from '../../data/HashTable'\n\nexport class AnimationFrame {\n    public left : number;\n    public top : number;\n    public duration : number;\n\n    constructor(initLeft : number, initTop : number, initDuration : number) {\n        this.left = initLeft;\n        this.top = initTop;\n        this.duration = initDuration;\n    }\n}\n\nexport class AnimatedSpriteType {\n    private spriteSheetTexture : WebGLGameTexture;\n    private animations : HashTable<Array<AnimationFrame>>;\n    private spriteWidth : number;\n    private spriteHeight : number;\n\n    public constructor(initSpriteSheetTexture : WebGLGameTexture, \n                initSpriteWidth : number, initSpriteHeight : number) {\n        this.spriteSheetTexture = initSpriteSheetTexture;\n        this.animations = {};\n        this.spriteWidth = initSpriteWidth;\n        this.spriteHeight = initSpriteHeight;\n    }\n\n    public addAnimation(state : string) : void {\n        this.animations[state] = new Array<AnimationFrame>();\n    }\n\n    public addAnimationFrame(state : string, index : number, frameDuration : number) : void {\n        var columns = this.spriteSheetTexture.width/this.spriteWidth;\n        var rows = this.spriteSheetTexture.height/this.spriteHeight;\n        var col = index % columns;\n        var row = Math.floor(index /  columns);\n        var left = col * this.spriteWidth;\n        var top = row * this.spriteHeight;\n        this.animations[state].push(new AnimationFrame(left, top, frameDuration));\n    }\n\n    public getSpriteWidth() : number {\n        return this.spriteWidth;\n    }\n\n    public zeroSpriteWidth() : void {\n        this.spriteWidth = 0;\n    }\n\n    public getSpriteHeight() : number {\n        return this.spriteHeight;\n    }\n\n    public zeroSpriteHeight() : void {\n        this.spriteHeight = 0;\n    }\n\n    public getSpriteSheetTexture() : WebGLGameTexture {\n        return this.spriteSheetTexture;\n    }\n\n    public getAnimation(state : string) : Array<AnimationFrame> {\n        return this.animations[state];\n    }\n\n    public getLeft(state : string, frameIndex : number) : number {\n        let animationFrame : AnimationFrame = this.animations[state][frameIndex];\n        return animationFrame.left;\n    }\n\n    public getTop(state : string, frameIndex : number) : number {\n        let animationFrame : AnimationFrame = this.animations[state][frameIndex];\n        return animationFrame.top;\n    }\n}","/*\n * This provides responses to UI input.\n */\nimport {AnimatedSprite} from \"../scene/sprite/AnimatedSprite\"\nimport {GradientCircle} from \"../scene/circle/GradientCircle\"\nimport {SceneGraph} from \"../scene/SceneGraph\"\nimport { GradientCircleType } from \"../scene/circle/GradientCircleType\";\n\nexport class UIController {\n    private spriteToDrag : AnimatedSprite;\n    private circleToDrag : GradientCircle;\n    private scene : SceneGraph;\n    private dragOffsetX : number;\n    private dragOffsetY : number;\n    private numObjectsToAdd : number;\n    private xPos : number;\n    private yPos : number;\n    private spritesToRemove : Array<AnimatedSprite>;\n    private circlesToRemove : Array<GradientCircle>;\n\n\n    public constructor() {}\n\n    public init(canvasId : string, initScene : SceneGraph) : void {\n        this.spriteToDrag = null;\n        this.scene = initScene;\n        this.dragOffsetX = -1;\n        this.dragOffsetY = -1;\n        this.numObjectsToAdd = 0;\n        this.spritesToRemove = [];\n        this.circlesToRemove = [];\n\n        let canvas : HTMLCanvasElement = <HTMLCanvasElement>document.getElementById(canvasId);\n        canvas.addEventListener(\"mousedown\", this.mouseDownHandler);\n        canvas.addEventListener(\"mousemove\", this.mouseMoveHandler);\n        canvas.addEventListener(\"mouseup\", this.mouseUpHandler);\n        canvas.addEventListener(\"dblclick\", this.doubleClickHandler);\n    }\n\n    public mouseDownHandler = (event : MouseEvent) : void => {\n        let mousePressX : number = event.clientX;\n        let mousePressY : number = event.clientY;\n        this.xPos = mousePressX;\n        this.yPos = mousePressY;\n        let sprite : AnimatedSprite = this.scene.getSpriteAt(mousePressX, mousePressY);\n        let circle : GradientCircle = this.scene.getCircleAt(mousePressX, mousePressY);\n        console.log(\"mousePressX: \" + mousePressX);\n        console.log(\"mousePressY: \" + mousePressY);\n        \n        if(sprite != null && circle != null){\n            // console.log(\"sprite: \" + sprite + \"Index: \" + sprite.getIndexNum().toString());\n            // console.log(\"circle: \" + circle + \"Index: \" +circle.getIndexNum().toString());\n            // if(sprite.getIndexNum() <= circle.getIndexNum()){\n            //     console.log(\"This is happening\");\n            //     sprite = null;\n            // }else{\n            //     console.log(\"and This is happening\");\n            //     circle = null;\n            // }\n            sprite = null;\n        }\n        if (sprite != null) {\n            console.log(\"dragging sprite\");\n            this.circleToDrag = null;\n            // START DRAGGING IT\n            this.spriteToDrag = sprite;\n            this.dragOffsetX = sprite.getPosition().getX() - mousePressX;\n            this.dragOffsetY = sprite.getPosition().getY() - mousePressY;\n        }else if (circle != null) {\n            console.log(\"dragging circle\");\n            this.spriteToDrag = null;\n            // START DRAGGING IT\n            this.circleToDrag = circle;\n            this.dragOffsetX = circle.getPosition().getX() - mousePressX;\n            this.dragOffsetY = circle.getPosition().getY() - mousePressY;\n        }\n    }\n    \n    public mouseMoveHandler = (event : MouseEvent) : void => {\n        \n        if (this.spriteToDrag != null) {\n            console.log(\"dragging sprite\");\n            this.spriteToDrag.getPosition().set(event.clientX + this.dragOffsetX, \n                                                event.clientY + this.dragOffsetY, \n                                                this.spriteToDrag.getPosition().getZ(), \n                                                this.spriteToDrag.getPosition().getW());\n        }\n\n        if (this.circleToDrag != null) {\n            console.log(\"dragging\");\n            this.circleToDrag.getPosition().set(event.clientX + this.dragOffsetX, \n                                                event.clientY + this.dragOffsetY, \n                                                this.circleToDrag.getPosition().getZ(), \n                                                this.circleToDrag.getPosition().getW());\n        }\n    }\n\n    public mouseUpHandler = (event : MouseEvent) : void => {\n        if(this.spriteToDrag == null && this.circleToDrag == null){\n            this.numObjectsToAdd++;\n        }\n        this.spriteToDrag = null;\n        this.circleToDrag = null;\n    }\n\n    public doubleClickHandler = (event : MouseEvent) : void => {\n        let mousePressX : number = event.clientX;\n        let mousePressY : number = event.clientY;\n        this.xPos = mousePressX;\n        this.yPos = mousePressY;\n        let sprite : AnimatedSprite = this.scene.getSpriteAt(mousePressX, mousePressY);\n        let circle : GradientCircle = this.scene.getCircleAt(mousePressX, mousePressY);\n        if(sprite != null){\n            if(circle != null && circle.getIndexNum() < sprite.getIndexNum()){\n                this.spritesToRemove.push(sprite);\n                circle = null; //force the next if statement not to execute\n            }\n        }\n        if(circle != null){\n            this.circlesToRemove.push(circle);\n        }\n    }\n\n    public getSpritesToRemove() : Array<AnimatedSprite> {\n        return this.spritesToRemove;\n    }\n\n    public popSpritesToRemove() : AnimatedSprite {\n        return this.spritesToRemove.pop();\n    }\n\n    public getCirclesToRemove() : Array<GradientCircle> {\n        return this.circlesToRemove;\n    }\n\n    public popCirclesToRemove() : GradientCircle {\n        return this.circlesToRemove.pop();\n    }\n\n    public getNumObjectsToAdd() : number{\n        return this.numObjectsToAdd;\n    }\n\n    public subNumObjectsToAdd(){\n        this.numObjectsToAdd--;\n    }\n\n    public getXPos() : number {\n        return this.xPos;\n    }\n\n    public getYPos() : number {\n        return this.yPos;\n    }\n}"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvYW5pbWF0ZWRfc3ByaXRlX2RlbW8vQW5pbWF0ZWRTcHJpdGVEZW1vLnRzIiwic3JjL3dvbGZpZTJkL0dhbWUudHMiLCJzcmMvd29sZmllMmQvZmlsZXMvUmVzb3VyY2VNYW5hZ2VyLnRzIiwic3JjL3dvbGZpZTJkL2xvb3AvR2FtZUxvb3BUZW1wbGF0ZS50cyIsInNyYy93b2xmaWUyZC9tYXRoL01hdGhVdGlsaXRpZXMudHMiLCJzcmMvd29sZmllMmQvbWF0aC9NYXRyaXgudHMiLCJzcmMvd29sZmllMmQvbWF0aC9WZWN0b3IzLnRzIiwic3JjL3dvbGZpZTJkL3JlbmRlcmluZy9UZXh0UmVuZGVyZXIudHMiLCJzcmMvd29sZmllMmQvcmVuZGVyaW5nL1dlYkdMR2FtZUJsdWVDaXJjbGVSZW5kZXJlci50cyIsInNyYy93b2xmaWUyZC9yZW5kZXJpbmcvV2ViR0xHYW1lQ2lyY2xlUmVuZGVyZXIudHMiLCJzcmMvd29sZmllMmQvcmVuZGVyaW5nL1dlYkdMR2FtZUN5YW5DaXJjbGVSZW5kZXJlci50cyIsInNyYy93b2xmaWUyZC9yZW5kZXJpbmcvV2ViR0xHYW1lR3JlZW5DaXJjbGVSZW5kZXJlci50cyIsInNyYy93b2xmaWUyZC9yZW5kZXJpbmcvV2ViR0xHYW1lTWFnZW50YUNpcmNsZVJlbmRlcmVyLnRzIiwic3JjL3dvbGZpZTJkL3JlbmRlcmluZy9XZWJHTEdhbWVSZWRDaXJjbGVSZW5kZXJlci50cyIsInNyYy93b2xmaWUyZC9yZW5kZXJpbmcvV2ViR0xHYW1lUmVuZGVyaW5nU3lzdGVtLnRzIiwic3JjL3dvbGZpZTJkL3JlbmRlcmluZy9XZWJHTEdhbWVTaGFkZXIudHMiLCJzcmMvd29sZmllMmQvcmVuZGVyaW5nL1dlYkdMR2FtZVNwcml0ZVJlbmRlcmVyLnRzIiwic3JjL3dvbGZpZTJkL3JlbmRlcmluZy9XZWJHTEdhbWVUZXh0dXJlLnRzIiwic3JjL3dvbGZpZTJkL3JlbmRlcmluZy9XZWJHTEdhbWVZZWxsb3dDaXJjbGVSZW5kZXJlci50cyIsInNyYy93b2xmaWUyZC9zY2VuZS9TY2VuZUdyYXBoLnRzIiwic3JjL3dvbGZpZTJkL3NjZW5lL1NjZW5lT2JqZWN0LnRzIiwic3JjL3dvbGZpZTJkL3NjZW5lL2NpcmNsZS9HcmFkaWVudENpcmNsZS50cyIsInNyYy93b2xmaWUyZC9zY2VuZS9jaXJjbGUvR3JhZGllbnRDaXJjbGVUeXBlLnRzIiwic3JjL3dvbGZpZTJkL3NjZW5lL3Nwcml0ZS9BbmltYXRlZFNwcml0ZS50cyIsInNyYy93b2xmaWUyZC9zY2VuZS9zcHJpdGUvQW5pbWF0ZWRTcHJpdGVUeXBlLnRzIiwic3JjL3dvbGZpZTJkL3VpL1VJQ29udHJvbGxlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Ozs7QUNBQTs7Ozs7O0FBTUEsSUFBQSxTQUFBLFFBQUEsa0JBQUEsQ0FBQTtBQUVBLElBQUEsaUJBQUEsUUFBQSxvQ0FBQSxDQUFBO0FBRUEsSUFBQSxlQUFBLFFBQUEsOEJBQUEsQ0FBQTtBQUNBLElBQUEsbUJBQUEsUUFBQSx5Q0FBQSxDQUFBO0FBRUEsSUFBQSx1QkFBQSxRQUFBLDZDQUFBLENBQUE7QUFDQSxJQUFBLG1CQUFBLFFBQUEseUNBQUEsQ0FBQTtBQUdBO0FBQ0E7QUFDQSxJQUFNLG9CQUErQixDQUNqQyw4Q0FEaUMsRUFFakMsaURBRmlDLENBQXJDO0FBSUEsSUFBTSxxQkFBcUI7QUFDdkIsbUJBQWUsU0FEUTtBQUV2QixtQkFBZTtBQUZRLENBQTNCO0FBSUEsSUFBTSxnQkFBMkIsQ0FDN0Isa0NBRDZCLEVBRTdCLG1DQUY2QixDQUFqQzs7SUFLTSxrQjtBQUNGLGtDQUFBO0FBQUE7QUFBZ0I7QUFFaEI7Ozs7Ozs7O3VDQUlzQixJLEVBQWEsUSxFQUFtQjtBQUNsRCxnQkFBSSxrQkFBNkMsS0FBSyxrQkFBTCxFQUFqRDtBQUNBLGdCQUFJLGFBQTBCLEtBQUssYUFBTCxFQUE5QjtBQUNBLGdCQUFJLGtCQUFvQyxLQUFLLGtC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S0FBSyxlQUFaO0FBQ0g7Ozs2Q0FFd0I7QUFDckIsaUJBQUssZUFBTDtBQUNIOzs7a0NBRWE7QUFDVixtQkFBTyxLQUFLLElBQVo7QUFDSDs7O2tDQUVhO0FBQ1YsbUJBQU8sS0FBSyxJQUFaO0FBQ0g7Ozs7OztBQWpKTCxRQUFBLFlBQUEsR0FBQSxZQUFBIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKXtmdW5jdGlvbiByKGUsbix0KXtmdW5jdGlvbiBvKGksZil7aWYoIW5baV0pe2lmKCFlW2ldKXt2YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFmJiZjKXJldHVybiBjKGksITApO2lmKHUpcmV0dXJuIHUoaSwhMCk7dmFyIGE9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitpK1wiJ1wiKTt0aHJvdyBhLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsYX12YXIgcD1uW2ldPXtleHBvcnRzOnt9fTtlW2ldWzBdLmNhbGwocC5leHBvcnRzLGZ1bmN0aW9uKHIpe3ZhciBuPWVbaV1bMV1bcl07cmV0dXJuIG8obnx8cil9LHAscC5leHBvcnRzLHIsZSxuLHQpfXJldHVybiBuW2ldLmV4cG9ydHN9Zm9yKHZhciB1PVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsaT0wO2k8dC5sZW5ndGg7aSsrKW8odFtpXSk7cmV0dXJuIG99cmV0dXJuIHJ9KSgpIiwiLypcbiAqIEFuaW1hdGVkU3ByaXRlRGVtby50cyAtIGRlbW9uc3RyYXRlcyBzb21lIHNpbXBsZSBzcHJpdGUgcmVuZGVyaW5nIGFuZCBcbiAqIGFuaW1hdGlvbiBhcyB3ZWxsIGFzIHNvbWUgYmFzaWMgbW91c2UgaW50ZXJhY3Rpb25zLiBOb3RlIHRoYXQgdGhlXG4gKiBBbmltYXRpb25TcHJpdGVEZW1vIGNsYXNzIGxvYWRzIGFuZCBjcmVhdGVzIGN1c3RvbSBjb250ZW50IGZvciB0aGVcbiAqIHB1cnBvc2Ugb2YgZGVtb25zdHJhdGluZyBiYXNpYyBmdW5jdGlvbmFsaXR5LlxuICovXG5pbXBvcnQge0dhbWV9IGZyb20gJy4uL3dvbGZpZTJkL0dhbWUnXG5pbXBvcnQge1Jlc291cmNlTWFuYWdlcn0gZnJvbSAnLi4vd29sZmllMmQvZmlsZXMvUmVzb3VyY2VNYW5hZ2VyJ1xuaW1wb3J0IHtUZXh0VG9SZW5kZXJ9IGZyb20gJy4uL3dvbGZpZTJkL3JlbmRlcmluZy9UZXh0UmVuZGVyZXInXG5pbXBvcnQge1dlYkdMR2FtZVJlbmRlcmluZ1N5c3RlbX0gZnJvbSAnLi4vd29sZmllMmQvcmVuZGVyaW5nL1dlYkdMR2FtZVJlbmRlcmluZ1N5c3RlbSdcbmltcG9ydCB7U2NlbmVHcmFwaH0gZnJvbSAnLi4vd29sZmllMmQvc2NlbmUvU2NlbmVHcmFwaCdcbmltcG9ydCB7QW5pbWF0ZWRTcHJpdGV9IGZyb20gJy4uL3dvbGZpZTJkL3NjZW5lL3Nwcml0ZS9BbmltYXRlZFNwcml0ZSdcbmltcG9ydCB7QW5pbWF0ZWRTcHJpdGVUeXBlfSBmcm9tICcuLi93b2xmaWUyZC9zY2VuZS9zcHJpdGUvQW5pbWF0ZWRTcHJpdGVUeXBlJ1xuaW1wb3J0IHsgR3JhZGllbnRDaXJjbGVUeXBlIH0gZnJvbSAnLi4vd29sZmllMmQvc2NlbmUvY2lyY2xlL0dyYWRpZW50Q2lyY2xlVHlwZSdcbmltcG9ydCB7IEdyYWRpZW50Q2lyY2xlIH0gZnJvbSAnLi4vd29sZmllMmQvc2NlbmUvY2lyY2xlL0dyYWRpZW50Q2lyY2xlJ1xuaW1wb3J0IHsgV2ViR0xHYW1lVGV4dHVyZSB9IGZyb20gJy4uL3dvbGZpZTJkL3JlbmRlcmluZy9XZWJHTEdhbWVUZXh0dXJlJ1xuXG4vLyBJTiBUSElTIEVYQU1QTEUgV0UnTEwgSEFWRSAyIFNQUklURSBUWVBFUyBUSEFUIEVBQ0ggSEFWRSBUSEUgU0FNRSAyIFNUQVRFU1xuLy8gQU5EIFdIRVJFIEVBQ0ggU1BSSVRFIFRZUEUgSEFTIElUUyBPV04gU1BSSVRFIFNIRUVUXG5jb25zdCBERU1PX1NQUklURV9UWVBFUyA6IHN0cmluZ1tdID0gW1xuICAgICdyZXNvdXJjZXMvYW5pbWF0ZWRfc3ByaXRlcy9SZWRDaXJjbGVNYW4uanNvbicsXG4gICAgJ3Jlc291cmNlcy9hbmltYXRlZF9zcHJpdGVzL011bHRpQ29sb3JCbG9jay5qc29uJ1xuXTtcbmNvbnN0IERFTU9fU1BSSVRFX1NUQVRFUyA9IHtcbiAgICBGT1JXQVJEX1NUQVRFOiAnRk9SV0FSRCcsXG4gICAgUkVWRVJTRV9TVEFURTogJ1JFVkVSU0UnXG59O1xuY29uc3QgREVNT19URVhUVVJFUyA6IHN0cmluZ1tdID0gW1xuICAgICdyZXNvdXJjZXMvaW1hZ2VzL0VpZ2h0QmxvY2tzLnBuZycsIFxuICAgICdyZXNvdXJjZXMvaW1hZ2VzL1JlZENpcmNsZU1hbi5wbmcnXG5dO1xuXG5jbGFzcyBBbmltYXRlZFNwcml0ZURlbW8ge1xuICAgIGNvbnN0cnVjdG9yKCkge31cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGluaXRpYWxpemVzIHRoZSBhcHBsaWNhdGlvbiwgYnVpbGRpbmcgYWxsIHRoZSBuZWVkZWRcbiAgICAgKiBnYW1lIG9iamVjdHMgYW5kIHNldHRpbmcgdGhlbSB1cCBmb3IgdXNlLlxuICAgICAqL1xuICAgIHB1YmxpYyBidWlsZFRlc3RTY2VuZShnYW1lIDogR2FtZSwgY2FsbGJhY2sgOiBGdW5jdGlvbikge1xuICAgICAgICBsZXQgcmVuZGVyaW5nU3lzdGVtIDogV2ViR0xHYW1lUmVuZGVyaW5nU3lzdGVtID0gZ2FtZS5nZXRSZW5kZXJpbmdTeXN0ZW0oKTtcbiAgICAgICAgbGV0IHNjZW5lR3JhcGggOiBTY2VuZUdyYXBoID0gZ2FtZS5nZXRTY2VuZUdyYXBoKCk7XG4gICAgICAgIGxldCByZXNvdXJjZU1hbmFnZXIgOiBSZXNvdXJjZU1hbmFnZXIgPSBnYW1lLmdldFJlc291cmNlTWFuYWdlcigpO1xuICAgICAgICBsZXQgYnVpbGRlciA9IHRoaXM7XG4gXG4gICAgICAgIC8vIEVNUExPWSBUSEUgUkVTT1VSQ0UgTUFOQUdFUiBUTyBCVUlMRCBBTEwgVEhFIFdPUkxEIENPTlRFTlRcbiAgICAgICAgcmVzb3VyY2VNYW5hZ2VyLmxvYWRUZXh0dXJlcyhERU1PX1RFWFRVUkVTLCByZW5kZXJpbmdTeXN0ZW0sIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgLy8gT05MWSBBRlRFUiBBTEwgVEhFIFRFWFRVUkVTIEhBVkUgTE9BREVEIExPQUQgVEhFIFNQUklURSBUWVBFU1xuICAgICAgICAgICAgcmVzb3VyY2VNYW5hZ2VyLmxvYWRTcHJpdGVUeXBlcyhERU1PX1NQUklURV9UWVBFUywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgLy8gT05MWSBBRlRFUiBBTEwgVEhFIFNQUklURSBUWVBFUyBIQVZFIExPQURFRCBMT0FEIFRIRSBTUFJJVEVTXG4gICAgICAgICAgICAgICAgYnVpbGRlci5idWlsZEFuaW1hdGVkU3ByaXRlcyhyZXNvdXJjZU1hbmFnZXIsIHNjZW5lR3JhcGgpO1xuXG4gICAgICAgICAgICAgICAgLy8gQU5EIEJVSUxEIEFMTCBUSEUgVEVYVCBPVVIgQVBQIFdJTEwgVVNFXG4gICAgICAgICAgICAgICAgYnVpbGRlci5idWlsZFRleHQoZ2FtZSk7XG5cbiAgICAgICAgICAgICAgICAvLyBFVkVSWVRISU5HIEhBUyBCRUVOIEJVSUxULCBDQUxMIFRIRSBDQUxMQkFDS1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLypcbiAgICAgKiBCdWlsZHMgYWxsIHRoZSBhbmltYXRlZCBzcHJpdGVzIHRvIGJlIHVzZWQgYnkgdGhlIGFwcGxpY2F0aW9uIGFuZFxuICAgICAqIGFkZHMgdGhlbSB0byB0aGUgc2NlbmUuXG4gICAgICovXG4gICAgcHJpdmF0ZSBidWlsZEFuaW1hdGVkU3ByaXRlcyhyZXNvdXJjZU1hbmFnZXIgOiBSZXNvdXJjZU1hbmFnZXIsIHNjZW5lIDogU2NlbmVHcmFwaCkge1xuICAgICAgICBsZXQgY2FudmFzV2lkdGggOiBudW1iZXIgPSAoPEhUTUxDYW52YXNFbGVtZW50PmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZ2FtZV9jYW52YXNcIikpLndpZHRoO1xuICAgICAgICBsZXQgY2FudmFzSGVpZ2h0IDogbnVtYmVyID0gKDxIVE1MQ2FudmFzRWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImdhbWVfY2FudmFzXCIpKS5oZWlnaHQ7XG5cbiAgICAgICAgLy8gQlVJTEQgQSBCVU5DSCBPRiBDSVJDTEUgU1BSSVRFU1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IERFTU9fU1BSSVRFX1RZUEVTLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IDU7IGorKykge1xuICAgICAgICAgICAgICAgIGxldCBzcHJpdGVUeXBlVG9Vc2UgOiBzdHJpbmcgPSBERU1PX1NQUklURV9UWVBFU1tpXTtcbiAgICAgICAgICAgICAgICBsZXQgYW5pbWF0ZWRTcHJpdGVUeXBlIDogQW5pbWF0ZWRTcHJpdGVUeXBlID0gcmVzb3VyY2VNYW5hZ2VyLmdldEFuaW1hdGVkU3ByaXRlVHlwZUJ5SWQoc3ByaXRlVHlwZVRvVXNlKTtcbiAgICAgICAgICAgICAgICBsZXQgc3ByaXRlVG9BZGQgOiBBbmltYXRlZFNwcml0ZSA9IG5ldyBBbmltYXRlZFNwcml0ZShhbmltYXRlZFNwcml0ZVR5cGUsIERFTU9fU1BSSVRFX1NUQVRFUy5GT1JXQVJEX1NUQVRFLCBTY2VuZUdyYXBoLmxhc3RJbmRleCk7XG4gICAgICAgICAgICAgICAgU2NlbmVHcmFwaC5sYXN0SW5kZXgrKztcbiAgICAgICAgICAgICAgICBsZXQgcmFuZG9tWCA6IG51bWJlciA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGNhbnZhc1dpZHRoKSAtIChhbmltYXRlZFNwcml0ZVR5cGUuZ2V0U3ByaXRlV2lkdGgoKS8yKTtcbiAgICAgICAgICAgICAgICBsZXQgcmFuZG9tWSA6IG51bWJlciA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGNhbnZhc0hlaWdodCkgLSAoYW5pbWF0ZWRTcHJpdGVUeXBlLmdldFNwcml0ZUhlaWdodCgpLzIpO1xuICAgICAgICAgICAgICAgIHNwcml0ZVRvQWRkLmdldFBvc2l0aW9uKCkuc2V0KHJhbmRvbVgsIHJhbmRvbVksIDAuMCwgMS4wKTtcbiAgICAgICAgICAgICAgICBzY2VuZS5hZGRBbmltYXRlZFNwcml0ZShzcHJpdGVUb0FkZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvL2J1aWxkIGNpcmNsZXNcbiAgICAgICAgLy8gZm9yKGxldCBpID0gMDsgaSA8IDQ7IGkrKyl7XG4gICAgICAgIC8vICAgICBsZXQgdHlwZSA9IG5ldyBHcmFkaWVudENpcmNsZVR5cGUoMSwgMSk7XG4gICAgICAgIC8vICAgICBsZXQgY2lyY2xlIDogR3JhZGllbnRDaXJjbGUgPSBuZXcgR3JhZGllbnRDaXJjbGUodHlwZSwgXCJSRURcIiwgU2NlbmVHcmFwaC5sYXN0SW5kZXgpO1xuICAgICAgICAvLyAgICAgU2NlbmVHcmFwaC5sYXN0SW5kZXgrKztcbiAgICAgICAgLy8gICAgIGxldCByYW5kb21YIDogbnVtYmVyID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogY2FudmFzV2lkdGgpIC0gNTA7XG4gICAgICAgIC8vICAgICBsZXQgcmFuZG9tWSA6IG51bWJlciA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGNhbnZhc0hlaWdodCkgLSA1MDtcbiAgICAgICAgLy8gICAgIGNpcmNsZS5nZXRQb3NpdGlvbigpLnNldChyYW5kb21YLCByYW5kb21ZLCAwLjAsIDEuMCk7XG4gICAgICAgIC8vICAgICBzY2VuZS5hZGRHcmFkaWVudENpcmxjZShjaXJjbGUpO1xuICAgICAgICAvLyB9XG4gICAgICAgIC8vYnVpbGQgcmVkIGNpcmNsZVxuICAgICAgICBsZXQgdHlwZSA9IG5ldyBHcmFkaWVudENpcmNsZVR5cGUoMSwgMSk7XG4gICAgICAgIGxldCBjaXJjbGUgOiBHcmFkaWVudENpcmNsZSA9IG5ldyBHcmFkaWVudENpcmNsZSh0eXBlLCBcIlJFRFwiLCBTY2VuZUdyYXBoLmxhc3RJbmRleCk7XG4gICAgICAgIFNjZW5lR3JhcGgubGFzdEluZGV4Kys7XG4gICAgICAgIGxldCByYW5kb21YIDogbnVtYmVyID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogY2FudmFzV2lkdGgpIC0gMjU7XG4gICAgICAgIGxldCByYW5kb21ZIDogbnVtYmVyID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogY2FudmFzSGVpZ2h0KSAtIDI1O1xuICAgICAgICBjaXJjbGUuZ2V0UG9zaXRpb24oKS5zZXQocmFuZG9tWCwgcmFuZG9tWSwgMC4wLCAxLjApO1xuICAgICAgICBzY2VuZS5hZGRHcmFkaWVudENpcmxjZShjaXJjbGUpO1xuXG4gICAgICAgIHR5cGUgPSBuZXcgR3JhZGllbnRDaXJjbGVUeXBlKDEsIDEpO1xuICAgICAgICBjaXJjbGUgPSBuZXcgR3JhZGllbnRDaXJjbGUodHlwZSwgXCJCTFVFXCIsIFNjZW5lR3JhcGgubGFzdEluZGV4KTtcbiAgICAgICAgU2NlbmVHcmFwaC5sYXN0SW5kZXgrKztcbiAgICAgICAgcmFuZG9tWCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGNhbnZhc1dpZHRoKSAtIDI1O1xuICAgICAgICByYW5kb21ZID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogY2FudmFzSGVpZ2h0KSAtIDI1O1xuICAgICAgICBjaXJjbGUuZ2V0UG9zaXRpb24oKS5zZXQocmFuZG9tWCwgcmFuZG9tWSwgMC4wLCAxLjApO1xuICAgICAgICBzY2VuZS5hZGRHcmFkaWVudENpcmxjZShjaXJjbGUpO1xuXG4gICAgICAgIHR5cGUgPSBuZXcgR3JhZGllbnRDaXJjbGVUeXBlKDEsIDEpO1xuICAgICAgICBjaXJjbGUgPSBuZXcgR3JhZGllbnRDaXJjbGUodHlwZSwgXCJHUkVFTlwiLCBTY2VuZUdyYXBoLmxhc3RJbmRleCk7XG4gICAgICAgIFNjZW5lR3JhcGgubGFzdEluZGV4Kys7XG4gICAgICAgIHJhbmRvbVggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBjYW52YXNXaWR0aCkgLSAyNTtcbiAgICAgICAgcmFuZG9tWSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGNhbnZhc0hlaWdodCkgLSAyNTtcbiAgICAgICAgY2lyY2xlLmdldFBvc2l0aW9uKCkuc2V0KHJhbmRvbVgsIHJhbmRvbVksIDAuMCwgMS4wKTtcbiAgICAgICAgc2NlbmUuYWRkR3JhZGllbnRDaXJsY2UoY2lyY2xlKTtcblxuICAgICAgICB0eXBlID0gbmV3IEdyYWRpZW50Q2lyY2xlVHlwZSgxLCAxKTtcbiAgICAgICAgY2lyY2xlID0gbmV3IEdyYWRpZW50Q2lyY2xlKHR5cGUsIFwiWUVMTE9XXCIsIFNjZW5lR3JhcGgubGFzdEluZGV4KTtcbiAgICAgICAgU2NlbmVHcmFwaC5sYXN0SW5kZXgrKztcbiAgICAgICAgcmFuZG9tWCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGNhbnZhc1dpZHRoKSAtIDI1O1xuICAgICAgICByYW5kb21ZID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogY2FudmFzSGVpZ2h0KSAtIDI1O1xuICAgICAgICBjaXJjbGUuZ2V0UG9zaXRpb24oKS5zZXQocmFuZG9tWCwgcmFuZG9tWSwgMC4wLCAxLjApO1xuICAgICAgICBzY2VuZS5hZGRHcmFkaWVudENpcmxjZShjaXJjbGUpO1xuXG4gICAgICAgIHR5cGUgPSBuZXcgR3JhZGllbnRDaXJjbGVUeXBlKDEsIDEpO1xuICAgICAgICBjaXJjbGUgPSBuZXcgR3JhZGllbnRDaXJjbGUodHlwZSwgXCJDWUFOXCIsIFNjZW5lR3JhcGgubGFzdEluZGV4KTtcbiAgICAgICAgU2NlbmVHcmFwaC5sYXN0SW5kZXgrKztcbiAgICAgICAgcmFuZG9tWCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGNhbnZhc1dpZHRoKSAtIDI1O1xuICAgICAgICByYW5kb21ZID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogY2FudmFzSGVpZ2h0KSAtIDI1O1xuICAgICAgICBjaXJjbGUuZ2V0UG9zaXRpb24oKS5zZXQocmFuZG9tWCwgcmFuZG9tWSwgMC4wLCAxLjApO1xuICAgICAgICBzY2VuZS5hZGRHcmFkaWVudENpcmxjZShjaXJjbGUpO1xuICAgIH1cblxuICAgIC8qXG4gICAgICogQnVpbGRzIGFsbCB0aGUgdGV4dCB0byBiZSBkaXNwbGF5ZWQgaW4gdGhlIGFwcGxpY2F0aW9uLlxuICAgICAqL1xuICAgIHByaXZhdGUgYnVpbGRUZXh0KGdhbWUgOiBHYW1lKSB7XG4gICAgICAgIGxldCBzY2VuZUdyYXBoIDogU2NlbmVHcmFwaCA9IGdhbWUuZ2V0U2NlbmVHcmFwaCgpO1xuICAgICAgICBsZXQgbnVtU3ByaXRlc1RleHQgPSBuZXcgVGV4dFRvUmVuZGVyKFwiTnVtIFNwcml0ZXNcIiwgXCJcIiwgMjAsIDUwLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIG51bVNwcml0ZXNUZXh0LnRleHQgPSBcIk51bWJlciBvZiBTcHJpdGVzOiBcIiArIHNjZW5lR3JhcGguZ2V0TnVtU3ByaXRlcygpO1xuICAgICAgICB9KTtcbiAgICAgICAgbGV0IHRleHRSZW5kZXJlciA9IGdhbWUuZ2V0UmVuZGVyaW5nU3lzdGVtKCkuZ2V0VGV4dFJlbmRlcmVyKCk7XG4gICAgICAgIHRleHRSZW5kZXJlci5hZGRUZXh0VG9SZW5kZXIobnVtU3ByaXRlc1RleHQpO1xuICAgIH1cbn1cblxuLy8gVEhJUyBJUyBUSEUgRU5UUlkgUE9JTlQgSU5UTyBPVVIgQVBQTElDQVRJT04sIFdFIE1BS0Vcbi8vIFRIRSBHYW1lIE9CSkVDVCBBTkQgSU5JVElBTElaRSBJVCBXSVRIIFRIRSBDQU5WQVNFU1xubGV0IGdhbWUgPSBuZXcgR2FtZSgpO1xuZ2FtZS5pbml0KFwiZ2FtZV9jYW52YXNcIiwgXCJ0ZXh0X2NhbnZhc1wiKTtcblxuLy8gQlVJTEQgVEhFIEdBTUUgU0NFTkVcbmxldCBkZW1vID0gbmV3IEFuaW1hdGVkU3ByaXRlRGVtbygpO1xuZGVtby5idWlsZFRlc3RTY2VuZShnYW1lLCBmdW5jdGlvbigpIHtcbiAgICAvLyBBTkQgU1RBUlQgVEhFIEdBTUUgTE9PUFxuICAgIGdhbWUuc3RhcnQoKTtcbn0pOyIsIi8qXG4gKiBHYW1lIGlzIHRoZSBmb2NhbCBwb2ludCBvZiB0aGUgYXBwbGljYXRpb24sIGl0IGhhcyA0IHN1YnN5c3RlbXMsXG4gKiB0aGUgcmVzb3VyY2UgbWFuYWdlciwgdGhlIHNjZW5lIGdyYXBoLCB0aGUgcmVuZGVyaW5nIHN5c3RlbSwgYW5kXG4gKiB0aGUgVUkgY29udHJvbGxlci4gSW4gYWRkaXRpb24gaXQgc2VydmVzIGFzIHRoZSBnYW1lIGxvb3AsIHByb3ZpZGluZ1xuICogYm90aCBhbiB1cGRhdGUgYW5kIGRyYXcgZnVuY3Rpb24gdGhhdCBpcyBjYWxsZWQgb24gYSBzY2hlZHVsZS5cbiAqL1xuaW1wb3J0IHtHYW1lTG9vcFRlbXBsYXRlfSBmcm9tICcuL2xvb3AvR2FtZUxvb3BUZW1wbGF0ZSdcbmltcG9ydCB7V2ViR0xHYW1lUmVuZGVyaW5nU3lzdGVtfSBmcm9tICcuL3JlbmRlcmluZy9XZWJHTEdhbWVSZW5kZXJpbmdTeXN0ZW0nXG5pbXBvcnQge1NjZW5lR3JhcGh9IGZyb20gJy4vc2NlbmUvU2NlbmVHcmFwaCdcbmltcG9ydCB7QW5pbWF0ZWRTcHJpdGV9IGZyb20gJy4vc2NlbmUvc3ByaXRlL0FuaW1hdGVkU3ByaXRlJ1xuaW1wb3J0IHtSZXNvdXJjZU1hbmFnZXJ9IGZyb20gJy4vZmlsZXMvUmVzb3VyY2VNYW5hZ2VyJ1xuaW1wb3J0IHtVSUNvbnRyb2xsZXJ9IGZyb20gJy4vdWkvVUlDb250cm9sbGVyJ1xuaW1wb3J0IHsgR3JhZGllbnRDaXJjbGUgfSBmcm9tICcuL3NjZW5lL2NpcmNsZS9HcmFkaWVudENpcmNsZSdcblxuZXhwb3J0IGNsYXNzIEdhbWUgZXh0ZW5kcyBHYW1lTG9vcFRlbXBsYXRlIHtcbiAgICBwcml2YXRlIHJlc291cmNlTWFuYWdlciA6IFJlc291cmNlTWFuYWdlciA9IG5ldyBSZXNvdXJjZU1hbmFnZXIoKTtcbiAgICBwcml2YXRlIHNjZW5lR3JhcGggOiBTY2VuZUdyYXBoID0gbmV3IFNjZW5lR3JhcGgoKTtcbiAgICBwcml2YXRlIHJlbmRlcmluZ1N5c3RlbSA6IFdlYkdMR2FtZVJlbmRlcmluZ1N5c3RlbSA9IG5ldyBXZWJHTEdhbWVSZW5kZXJpbmdTeXN0ZW0oKTtcbiAgICBwcml2YXRlIHVpQ29udHJvbGxlciA6IFVJQ29udHJvbGxlciA9IG5ldyBVSUNvbnRyb2xsZXIoKTtcblxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0UmVuZGVyaW5nU3lzdGVtKCkgOiBXZWJHTEdhbWVSZW5kZXJpbmdTeXN0ZW0ge1xuICAgICAgICByZXR1cm4gdGhpcy5yZW5kZXJpbmdTeXN0ZW07XG4gICAgfVxuXG4gICAgcHVibGljIGdldFJlc291cmNlTWFuYWdlcigpIDogUmVzb3VyY2VNYW5hZ2VyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVzb3VyY2VNYW5hZ2VyO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRTY2VuZUdyYXBoKCkgOiBTY2VuZUdyYXBoIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NlbmVHcmFwaDtcbiAgICB9XG5cbiAgICBwdWJsaWMgaW5pdChnYW1lQ2FudmFzSWQgOiBzdHJpbmcsIHRleHRDYW52YXNJZCA6IHN0cmluZykgOiB2b2lkIHtcbiAgICAgICAgdGhpcy5yZW5kZXJpbmdTeXN0ZW0uaW5pdChnYW1lQ2FudmFzSWQsIHRleHRDYW52YXNJZCk7XG4gICAgICAgIHRoaXMudWlDb250cm9sbGVyLmluaXQoZ2FtZUNhbnZhc0lkLCB0aGlzLnNjZW5lR3JhcGgpO1xuICAgIH1cblxuICAgIHB1YmxpYyBiZWdpbigpIDogdm9pZCB7XG4gICAgICAgLy9zZXRUaW1lb3V0KHRoaXMudXBkYXRlMSwgMTAwMCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBpc1JlZChnIDogR3JhZGllbnRDaXJjbGUpIDogYm9vbGVhbntcbiAgICAgICAgaWYoZy5nZXRTdGF0ZSgpID09IFwiUkVEXCIpe1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHByaXZhdGUgaXNCbHVlKGcgOiBHcmFkaWVudENpcmNsZSkgOiBib29sZWFue1xuICAgICAgICBpZihnLmdldFN0YXRlKCkgPT09IFwiQkxVRVwiKXtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGlzR3JlZW4oZyA6IEdyYWRpZW50Q2lyY2xlKSA6IGJvb2xlYW57XG4gICAgICAgIGlmKGcuZ2V0U3RhdGUoKSA9PT0gXCJHUkVFTlwiKXtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGlzWWVsbG93KGcgOiBHcmFkaWVudENpcmNsZSkgOiBib29sZWFue1xuICAgICAgICBpZihnLmdldFN0YXRlKCkgPT09IFwiWUVMTE9XXCIpe1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHByaXZhdGUgaXNDeWFuKGcgOiBHcmFkaWVudENpcmNsZSkgOiBib29sZWFue1xuICAgICAgICBpZihnLmdldFN0YXRlKCkgPT09IFwiQ1lBTlwiKXtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGlzTWFnZW50YShnIDogR3JhZGllbnRDaXJjbGUpIDogYm9vbGVhbntcbiAgICAgICAgaWYoZy5nZXRTdGF0ZSgpID09PSBcIk1BR0VOVEFcIil7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLypcbiAgICAgKiBUaGlzIGRyYXdzIHRoZSBnYW1lLiBOb3RlIHRoYXQgd2UgYXJlIG5vdCBjdXJyZW50bHkgdXNpbmcgdGhlIFxuICAgICAqIGludGVycG9sYXRpb24gdmFsdWUsIGJ1dCBjb3VsZCBvbmNlIHBoeXNpY3MgaXMgaW52b2x2ZWQuXG4gICAgICovXG4gICAgcHVibGljIGRyYXcoaW50ZXJwb2xhdGlvblBlcmNlbnRhZ2UgOiBudW1iZXIpIDogdm9pZCB7XG4gICAgICAgIC8vIEdFVCBUSEUgVklTSUJMRSBTRVQgRlJPTSBUSEUgU0NFTkUgR1JBUEhcbiAgICAgICAgbGV0IHZpc2libGVTcHJpdGVzIDogQXJyYXk8QW5pbWF0ZWRTcHJpdGU+O1xuICAgICAgICB2aXNpYmxlU3ByaXRlcyA9IDxBcnJheTxBbmltYXRlZFNwcml0ZT4+dGhpcy5zY2VuZUdyYXBoLnNjb3BlKCk7XG4gICAgICAgIGxldCBjaXJjbGVTZXQgOiBBcnJheTxHcmFkaWVudENpcmNsZT47XG4gICAgICAgIGNpcmNsZVNldCA9IDxBcnJheTxHcmFkaWVudENpcmNsZT4+dGhpcy5zY2VuZUdyYXBoLnNjb3BlMigpO1xuICAgICAgICBsZXQgcmVkU2V0IDogQXJyYXk8R3JhZGllbnRDaXJjbGU+O1xuICAgICAgICByZWRTZXQgPSBjaXJjbGVTZXQuZmlsdGVyKHRoaXMuaXNSZWQpO1xuXG4gICAgICAgIGxldCBibHVlU2V0IDogQXJyYXk8R3JhZGllbnRDaXJjbGU+O1xuICAgICAgICBibHVlU2V0ID0gY2lyY2xlU2V0LmZpbHRlcih0aGlzLmlzQmx1ZSk7XG5cbiAgICAgICAgbGV0IGdyZWVuU2V0IDogQXJyYXk8R3JhZGllbnRDaXJjbGU+O1xuICAgICAgICBncmVlblNldCA9IGNpcmNsZVNldC5maWx0ZXIodGhpcy5pc0dyZWVuKTtcblxuICAgICAgICBsZXQgeWVsbG93U2V0IDogQXJyYXk8R3JhZGllbnRDaXJjbGU+O1xuICAgICAgICB5ZWxsb3dTZXQgPSBjaXJjbGVTZXQuZmlsdGVyKHRoaXMuaXNZZWxsb3cpO1xuXG4gICAgICAgIGxldCBjeWFuU2V0IDogQXJyYXk8R3JhZGllbnRDaXJjbGU+O1xuICAgICAgICBjeWFuU2V0ID0gY2lyY2xlU2V0LmZpbHRlcih0aGlzLmlzQ3lhbik7XG5cbiAgICAgICAgbGV0IG1hZ2VudGFTZXQgOiBBcnJheTxHcmFkaWVudENpcmNsZT47XG4gICAgICAgIG1hZ2VudGFTZXQgPSBjaXJjbGVTZXQuZmlsdGVyKHRoaXMuaXNNYWdlbnRhKTtcblxuXG4gICAgICAgIC8vIFJFTkRFUiBUSEUgVklTSUJMRSBTRVQsIFdISUNIIFNIT1VMRCBBTEwgQkUgUkVOREVSQUJMRVxuICAgICAgICB0aGlzLnJlbmRlcmluZ1N5c3RlbS5yZW5kZXIodmlzaWJsZVNwcml0ZXMsIHJlZFNldCwgYmx1ZVNldCwgZ3JlZW5TZXQsIGN5YW5TZXQsIHllbGxvd1NldCwgbWFnZW50YVNldCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgc2NlbmUuXG4gICAgICovXG4gICAgcHVibGljIHVwZGF0ZShkZWx0YSA6IG51bWJlcikgOiB2b2lkIHtcbiAgICAgICAgdGhpcy5zY2VuZUdyYXBoLnVwZGF0ZShkZWx0YSk7XG4gICAgICAgICB2YXIgdG9fYWRkID0gdGhpcy51aUNvbnRyb2xsZXIuZ2V0TnVtT2JqZWN0c1RvQWRkKCk7XG4gICAgICAgICBpZih0b19hZGQgPiAwKXtcbiAgICAgICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCB0b19hZGQ7IGkrKyl7XG4gICAgICAgICAgICAgICAgdmFyIG5ld19zcHJpdGUgPSB0aGlzLnJlc291cmNlTWFuYWdlci5nZW5lcmF0ZV9yYW5kb21fc3ByaXRlKHRoaXMudWlDb250cm9sbGVyLmdldFhQb3MoKSwgdGhpcy51aUNvbnRyb2xsZXIuZ2V0WVBvcygpKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lR3JhcGguYWRkQW5pbWF0ZWRTcHJpdGUobmV3X3Nwcml0ZSk7XG4gICAgICAgICAgICAgICAgdmFyIHZpc2libGVTcHJpdGVzID0gPEFycmF5PEFuaW1hdGVkU3ByaXRlPj50aGlzLnNjZW5lR3JhcGguc2NvcGUoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnVpQ29udHJvbGxlci5zdWJOdW1PYmplY3RzVG9BZGQoKTtcblxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5yZW5kZXJpbmdTeXN0ZW0ucmVuZGVyKHZpc2libGVTcHJpdGVzLCBbXSwgW10sIFtdLCBbXSwgW10sIFtdKTtcbiAgICAgICAgfVxuICAgICAgICB3aGlsZSh0aGlzLnVpQ29udHJvbGxlci5nZXRTcHJpdGVzVG9SZW1vdmUoKS5sZW5ndGggPiAwKXtcbiAgICAgICAgICAgIHZhciBzcHJpdGUgPSB0aGlzLnVpQ29udHJvbGxlci5wb3BTcHJpdGVzVG9SZW1vdmUoKTtcbiAgICAgICAgICAgIC8vc3ByaXRlLmNsZWFyU3ByaXRlKCk7XG4gICAgICAgICAgICB0aGlzLnNjZW5lR3JhcGgucmVtb3ZlQW5pbWF0ZWRTcHJpdGUoc3ByaXRlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHdoaWxlKHRoaXMudWlDb250cm9sbGVyLmdldENpcmNsZXNUb1JlbW92ZSgpLmxlbmd0aCA+IDApe1xuICAgICAgICAgICAgdmFyIGNpcmNsZSA9IHRoaXMudWlDb250cm9sbGVyLnBvcENpcmNsZXNUb1JlbW92ZSgpO1xuICAgICAgICAgICAgLy9zcHJpdGUuY2xlYXJTcHJpdGUoKTtcbiAgICAgICAgICAgIHRoaXMuc2NlbmVHcmFwaC5yZW1vdmVHcmFkaWVudENpcmNsZShjaXJjbGUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgXG4gICAgXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgRlBTIGNvdW50ZXIuXG4gICAgICovXG4gICAgcHVibGljIGVuZChmcHMgOiBudW1iZXIsIHBhbmljIDogYm9vbGVhbikgOiB2b2lkIHtcbiAgICAgICAgaWYgKHBhbmljKSB7XG4gICAgICAgICAgICB2YXIgZGlzY2FyZGVkVGltZSA9IE1hdGgucm91bmQodGhpcy5yZXNldEZyYW1lRGVsdGEoKSk7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ01haW4gbG9vcCBwYW5pY2tlZCwgcHJvYmFibHkgYmVjYXVzZSB0aGUgYnJvd3NlciB0YWIgd2FzIHB1dCBpbiB0aGUgYmFja2dyb3VuZC4gRGlzY2FyZGluZyAnICsgZGlzY2FyZGVkVGltZSArICdtcycpO1xuICAgICAgICB9XG4gICAgfVxufSIsIi8qXG4gKiBSZXNvdXJjZU1hbmFnZXIuanNcbiAqXG4gKiBUaGlzIGNsYXNzIGlzIHJlc3BvbnNpYmxlIGZvciBtYW5hZ2luZyBhbGwgc2hhcmVkIHJlc291cmNlcy4gVGhpcyBtZWFucyB0aGluZ3NcbiAqIHRoYXQgbWF5IGJlIG5lZWRlZCBieSBtdWx0aXBsZSBnYW1lIG9iamVjdHMuIEluIHRoaXMgYXBwbGljYXRpb24gdGhpcyBtZWFuc1xuICogdGV4dHVyZXMgZm9yIHRoZSBwdXJwb3NlIG9mIEdQVSByZW5kZXJpbmcgYW5kIGFuaW1hdGVkIHNwcml0ZSB0eXBlcy5cbiAqL1xuaW1wb3J0IHtTcHJpdGVUeXBlRGF0YSwgQW5pbWF0aW9uU3RhdGVEYXRhLCBBbmltYXRpb25GcmFtZURhdGF9IGZyb20gJy4vU3ByaXRlVHlwZURhdGEnXG5pbXBvcnQge0hhc2hUYWJsZX0gZnJvbSAnLi4vZGF0YS9IYXNoVGFibGUnXG5pbXBvcnQge1dlYkdMR2FtZVJlbmRlcmluZ1N5c3RlbX0gZnJvbSAnLi4vcmVuZGVyaW5nL1dlYkdMR2FtZVJlbmRlcmluZ1N5c3RlbSdcbmltcG9ydCB7V2ViR0xHYW1lVGV4dHVyZX0gZnJvbSAnLi4vcmVuZGVyaW5nL1dlYkdMR2FtZVRleHR1cmUnXG5pbXBvcnQge0FuaW1hdGVkU3ByaXRlfSBmcm9tICcuLi9zY2VuZS9zcHJpdGUvQW5pbWF0ZWRTcHJpdGUnXG5pbXBvcnQge0FuaW1hdGVkU3ByaXRlVHlwZX0gZnJvbSAnLi4vc2NlbmUvc3ByaXRlL0FuaW1hdGVkU3ByaXRlVHlwZSdcbmltcG9ydCB7IFNjZW5lR3JhcGggfSBmcm9tICcuLi9zY2VuZS9TY2VuZUdyYXBoJ1xuXG4vL2NvbnN0YW50cyBhc3NlZCBieSBtZVxuY29uc3QgREVNT19TUFJJVEVfVFlQRVMgOiBzdHJpbmdbXSA9IFtcbiAgICAncmVzb3VyY2VzL2FuaW1hdGVkX3Nwcml0ZXMvUmVkQ2lyY2xlTWFuLmpzb24nLFxuICAgICdyZXNvdXJjZXMvYW5pbWF0ZWRfc3ByaXRlcy9NdWx0aUNvbG9yQmxvY2suanNvbidcbl07XG5jb25zdCBERU1PX1NQUklURV9TVEFURVMgPSB7XG4gICAgRk9SV0FSRF9TVEFURTogJ0ZPUldBUkQnLFxuICAgIFJFVkVSU0VfU1RBVEU6ICdSRVZFUlNFJ1xufTtcbmNvbnN0IERFTU9fVEVYVFVSRVMgOiBzdHJpbmdbXSA9IFtcbiAgICAncmVzb3VyY2VzL2ltYWdlcy9FaWdodEJsb2Nrcy5wbmcnLCBcbiAgICAncmVzb3VyY2VzL2ltYWdlcy9SZWRDaXJjbGVNYW4ucG5nJ1xuXTtcblxuZXhwb3J0IGNsYXNzIFJlc291cmNlTWFuYWdlciB7XG4gICAgXG4gICAgLy8gR0FNRSBURVhUVVJFUyBcbiAgICBwcml2YXRlIGdhbWVUZXh0dXJlcyA6IEFycmF5PFdlYkdMR2FtZVRleHR1cmU+ID0gbmV3IEFycmF5KCk7XG4gICAgcHJpdmF0ZSBnYW1lVGV4dHVyZUlkcyA6IEhhc2hUYWJsZTxudW1iZXI+ID0ge307XG4gICAgcHJpdmF0ZSBudW1UZXh0dXJlc1RvTG9hZCA6IG51bWJlcjtcbiAgICBwcml2YXRlIG51bVRleHR1cmVzTG9hZGVkIDogbnVtYmVyO1xuXG4gICAgLy8gQU5JTUFURUQgU1BSSVRFIFRZUEVTXG4gICAgcHJpdmF0ZSBnYW1lU3ByaXRlVHlwZXMgOiBBcnJheTxBbmltYXRlZFNwcml0ZVR5cGU+ID0gbmV3IEFycmF5KCk7XG4gICAgcHJpdmF0ZSBnYW1lU3ByaXRlVHlwZUlkcyA6IEhhc2hUYWJsZTxudW1iZXI+ID0ge307XG4gICAgcHJpdmF0ZSBudW1TcHJpdGVUeXBlc1RvTG9hZCA6IG51bWJlcjtcbiAgICBwcml2YXRlIG51bVNwcml0ZVR5cGVzTG9hZGVkIDogbnVtYmVyO1xuXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKCkge31cblxuICAgIC8vIEFDQ0VTU09SIE1FVEhPRFNcblxuICAgIHB1YmxpYyBnZXRBbmltYXRlZFNwcml0ZVR5cGVCeUluZGV4KHR5cGVJbmRleCA6IG51bWJlcikgOiBBbmltYXRlZFNwcml0ZVR5cGUge1xuICAgICAgICByZXR1cm4gdGhpcy5nYW1lU3ByaXRlVHlwZXNbdHlwZUluZGV4XTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0QW5pbWF0ZWRTcHJpdGVUeXBlQnlJZCh0eXBlSWQgOiBzdHJpbmcpIDogQW5pbWF0ZWRTcHJpdGVUeXBlIHtcbiAgICAgICAgbGV0IHR5cGVJbmRleCA6IG51bWJlciA9IHRoaXMuZ2FtZVNwcml0ZVR5cGVJZHNbdHlwZUlkXTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0QW5pbWF0ZWRTcHJpdGVUeXBlQnlJbmRleCh0eXBlSW5kZXgpO1xuICAgIH1cbiAgICBcbiAgICAvLyBBRERTIEEgTkVXIFNQUklURSBUWVBFIFxuICAgIHB1YmxpYyBhZGRBbmltYXRlZFNwcml0ZVR5cGUodHlwZUlkIDogbnVtYmVyLCBzcHJpdGVUeXBlIDogQW5pbWF0ZWRTcHJpdGVUeXBlKSA6IHZvaWQge1xuICAgICAgICB0aGlzLmdhbWVTcHJpdGVUeXBlc1t0eXBlSWRdID0gc3ByaXRlVHlwZTtcbiAgICB9XG5cbiAgICAvKlxuICAgICAqIExvYWRzIGFsbCB0aGUgdGV4dHVyZXMgbGlzdGVkIGluIHRoZSB0ZXh0dXJlUGF0aHMgYXJndW1lbnQgYW5kIG9uY2VcbiAgICAgKiB0aGF0IGlzIGRvbmUgaXQgY2FsbHMgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIHB1YmxpYyBsb2FkVGV4dHVyZXMoICAgIHRleHR1cmVQYXRocyA6IEFycmF5PHN0cmluZz4sIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbmRlcmluZ1N5c3RlbSA6IFdlYkdMR2FtZVJlbmRlcmluZ1N5c3RlbSwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sgOiBGdW5jdGlvbikgOiB2b2lkIHtcbiAgICAgICAgLy8gVEhFTiBMT0FEIFRIRSBURVhUVVJFUyBXRSdMTCBCRSBVU0lOR1xuICAgICAgICB0aGlzLm51bVRleHR1cmVzVG9Mb2FkID0gdGV4dHVyZVBhdGhzLmxlbmd0aDtcbiAgICAgICAgdGhpcy5udW1UZXh0dXJlc0xvYWRlZCA9IDA7XG4gICAgICAgIGxldCB0aGlzUmVzb3VyY2VNYW5hZ2VyID0gdGhpcztcbiAgICAgICAgbGV0IHN0YXJ0TnVtVGV4dHVyZXMgPSB0aGlzLmdhbWVUZXh0dXJlcy5sZW5ndGg7XG4gICAgICAgIGZvciAobGV0IGkgOiBudW1iZXIgPSAwOyBpIDwgdGhpcy5udW1UZXh0dXJlc1RvTG9hZDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgdGV4dHVyZVRvTG9hZCA6IFdlYkdMR2FtZVRleHR1cmUgPSBuZXcgV2ViR0xHYW1lVGV4dHVyZSgpO1xuICAgICAgICAgICAgbGV0IHRleHR1cmVJZCA9IHN0YXJ0TnVtVGV4dHVyZXMgKyBpO1xuICAgICAgICAgICAgdGhpc1Jlc291cmNlTWFuYWdlci5nYW1lVGV4dHVyZXNbdGV4dHVyZUlkXSA9IHRleHR1cmVUb0xvYWQ7XG4gICAgICAgICAgICB0aGlzUmVzb3VyY2VNYW5hZ2VyLmdhbWVUZXh0dXJlSWRzW3RleHR1cmVQYXRoc1tpXV0gPSB0ZXh0dXJlSWQ7XG4gICAgICAgICAgICB0aGlzUmVzb3VyY2VNYW5hZ2VyLmxvYWRJbWFnZSh0ZXh0dXJlUGF0aHNbaV0sIHRleHR1cmVJZCwgZnVuY3Rpb24oaWQgOiBudW1iZXIsIGltYWdlIDogSFRNTEltYWdlRWxlbWVudCkge1xuICAgICAgICAgICAgICAgIHJlbmRlcmluZ1N5c3RlbS5pbml0V2ViR0xUZXh0dXJlKHRleHR1cmVUb0xvYWQsIGlkLCBpbWFnZSwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXNSZXNvdXJjZU1hbmFnZXIuY29tcGxldGVMb2FkaW5nVGV4dHVyZShjYWxsYmFjayk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qXG4gICAgICogTG9hZHMgYWxsIHRoZSBzcHJpdGUgdHlwZXMgbGlzdGVkIGluIHRoZSBzcHJpdGVUeXBlUGF0aHMgYXJndW1lbnQgYW5kIG9uY2VcbiAgICAgKiB0aGF0IGlzIGRvbmUgaXQgY2FsbHMgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIHB1YmxpYyBsb2FkU3ByaXRlVHlwZXMoc3ByaXRlVHlwZVBhdGhzIDogQXJyYXk8c3RyaW5nPiwgXG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrIDogRnVuY3Rpb24pIDogdm9pZCB7XG4gICAgICAgIC8vIFRIRU4gTE9BRCBUSEUgVEVYVFVSRVMgV0UnTEwgQkUgVVNJTkdcbiAgICAgICAgdGhpcy5udW1TcHJpdGVUeXBlc1RvTG9hZCA9IHNwcml0ZVR5cGVQYXRocy5sZW5ndGg7XG4gICAgICAgIHRoaXMubnVtU3ByaXRlVHlwZXNMb2FkZWQgPSAwO1xuICAgICAgICBsZXQgdGhpc1Jlc291cmNlTWFuYWdlciA9IHRoaXM7XG4gICAgICAgIGxldCBzdGFydE51bVNwcml0ZVR5cGVzID0gdGhpcy5nYW1lU3ByaXRlVHlwZXMubGVuZ3RoO1xuICAgICAgICBmb3IgKGxldCBpIDogbnVtYmVyID0gMDsgaSA8IHRoaXMubnVtU3ByaXRlVHlwZXNUb0xvYWQ7IGkrKykge1xuICAgICAgICAgICAgbGV0IHNwcml0ZVR5cGVJZCA9IHN0YXJ0TnVtU3ByaXRlVHlwZXMgKyBpO1xuICAgICAgICAgICAgdGhpcy5sb2FkU3ByaXRlVHlwZShzcHJpdGVUeXBlUGF0aHNbaV0sIHNwcml0ZVR5cGVJZCwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdGhpc1Jlc291cmNlTWFuYWdlci5jb21wbGV0ZUxvYWRpbmdTcHJpdGVUeXBlKGNhbGxiYWNrKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gUFJJVkFURSBIRUxQRVIgTUVUSE9EU1xuXG4gICAgLy9wdWJsaWMgaGVscGVyIG1ldGhvZHNcbiAgICBwdWJsaWMgZ2VuZXJhdGVfcmFuZG9tX3Nwcml0ZShwb3NYIDogbnVtYmVyLCBwb3NZIDogbnVtYmVyKSA6IEFuaW1hdGVkU3ByaXRle1xuICAgICAgICBsZXQgY2FudmFzV2lkdGggOiBudW1iZXIgPSAoPEhUTUxDYW52YXNFbGVtZW50PmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZ2FtZV9jYW52YXNcIikpLndpZHRoO1xuICAgICAgICBsZXQgY2FudmFzSGVpZ2h0IDogbnVtYmVyID0gKDxIVE1MQ2FudmFzRWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImdhbWVfY2FudmFzXCIpKS5oZWlnaHQ7XG5cblxuICAgICAgICBsZXQgc3ByaXRlVHlwZVRvVXNlIDogc3RyaW5nID0gREVNT19TUFJJVEVfVFlQRVNbMF07XG4gICAgICAgIGxldCBhbmltYXRlZFNwcml0ZVR5cGUgOiBBbmltYXRlZFNwcml0ZVR5cGUgPSB0aGlzLmdldEFuaW1hdGVkU3ByaXRlVHlwZUJ5SWQoc3ByaXRlVHlwZVRvVXNlKTtcbiAgICAgICAgbGV0IHNwcml0ZVRvQWRkIDogQW5pbWF0ZWRTcHJpdGUgPSBuZXcgQW5pbWF0ZWRTcHJpdGUoYW5pbWF0ZWRTcHJpdGVUeXBlLCBERU1PX1NQUklURV9TVEFURVMuRk9SV0FSRF9TVEFURSwgU2NlbmVHcmFwaC5sYXN0SW5kZXgpO1xuICAgICAgICBTY2VuZUdyYXBoLmxhc3RJbmRleCsrO1xuICAgICAgICBsZXQgbmV3WCA6IG51bWJlciA9IHBvc1ggLSAoYW5pbWF0ZWRTcHJpdGVUeXBlLmdldFNwcml0ZVdpZHRoKCkvMik7XG4gICAgICAgIGxldCBuZXdZIDogbnVtYmVyID0gcG9zWSAtIChhbmltYXRlZFNwcml0ZVR5cGUuZ2V0U3ByaXRlSGVpZ2h0KCkvMik7XG4gICAgICAgIHNwcml0ZVRvQWRkLmdldFBvc2l0aW9uKCkuc2V0KG5ld1gsIG5ld1ksIDAuMCwgMS4wKTtcbiAgICAgICAgcmV0dXJuIHNwcml0ZVRvQWRkO1xuICAgIH1cblxuICAgIC8vIExPQURTIEEgTkVXIEpTT04gRklMRSBBTkQgVVBPTiBDT01QTEVUSU9OIENBTExTIFRIRSBjYWxsYmFjayBGVU5DVElPTlxuICAgIHByaXZhdGUgbG9hZEpzb25GaWxlKHRlc3RGaWxlUGF0aCA6IHN0cmluZywgY2FsbGJhY2sgOiBGdW5jdGlvbikgOiB2b2lkIHtcbiAgICAgICAgbGV0IHhvYmogOiBYTUxIdHRwUmVxdWVzdCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgICAgICB4b2JqLm92ZXJyaWRlTWltZVR5cGUoXCJhcHBsaWNhdGlvbi9qc29uXCIpO1xuICAgICAgICB4b2JqLm9wZW4oJ0dFVCcsIHRlc3RGaWxlUGF0aCwgdHJ1ZSk7XG4gICAgICAgIHhvYmoub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKCh4b2JqLnJlYWR5U3RhdGUgPT0gNCkgJiYgKHhvYmouc3RhdHVzID09IDIwMCkpIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayh4b2JqLnJlc3BvbnNlVGV4dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHhvYmouc2VuZChudWxsKTtcbiAgICB9XG5cbiAgICAvLyBDSEVDS1MgVE8gU0VFIElGIEFMTCBURVhUVVJFIExPQURJTkcgSVMgQ09NUExFVEUsIElGIFlFUywgY2FsbGJhY2sgSVMgSU5WT0tFRFxuICAgIHByaXZhdGUgY29tcGxldGVMb2FkaW5nVGV4dHVyZShjYWxsYmFjayA6IEZ1bmN0aW9uKSA6IHZvaWQge1xuICAgICAgICB0aGlzLm51bVRleHR1cmVzTG9hZGVkKys7XG4gICAgICAgIGlmICh0aGlzLm51bVRleHR1cmVzTG9hZGVkID09PSB0aGlzLm51bVRleHR1cmVzVG9Mb2FkKSB7XG4gICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTG9hZHMgYW4gSW1hZ2UgaW50byBSQU0gYW5kIG9uY2UgdGhhdCBwcm9jZXNzIGlzIGNvbXBsZXRlIGl0XG4gICAgICogY2FsbHMgdGhlIGNhbGxiYWNrIG1ldGhvZCBhcmd1bWVudCwgcHJlc3VtYWJseSB0byB0aGVuIGxvYWRcbiAgICAgKiBpdCBpbnRvIEdQVSBtZW1vcnkuXG4gICAgICovXG4gICAgcHJpdmF0ZSBsb2FkSW1hZ2UocGF0aCA6IHN0cmluZywgaWQgOiBudW1iZXIsIGNhbGxiYWNrIDogRnVuY3Rpb24pIDogdm9pZCB7XG4gICAgICAgIC8vIE1BS0UgVEhFIElNQUdFXG4gICAgICAgIHZhciBpbWFnZSA9IG5ldyBJbWFnZSgpO1xuXG4gICAgICAgIC8vIE9OQ0UgVEhFIElNQUdFIExPQURJTkcgSVMgQ09NUExFVEVELCBUSEUgQ0FMTEJBQ0sgV0lMTCBHRVQgQ0FMTEVEXG4gICAgICAgIGltYWdlLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHsgXG4gICAgICAgICAgICBjYWxsYmFjayhpZCwgaW1hZ2UpOyBcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNUQVJUIElNQUdFIExPQURJTkdcbiAgICAgICAgaW1hZ2Uuc3JjID0gcGF0aDtcbiAgICB9XG5cbiAgICAvKlxuICAgICAqIFRoaXMgZnVuY3Rpb24gbG9hZHMgYSBzaW5nbGUgc3ByaXRlIHR5cGUgcmVzb3VyY2UgZnJvbSBhIEpTT04gZmlsZSBhbmQgdXBvblxuICAgICAqIGNvbXBsZXRpb24gY2FsbHMgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIHByaXZhdGUgbG9hZFNwcml0ZVR5cGUoanNvbkZpbGVQYXRoIDogc3RyaW5nLCBzcHJpdGVUeXBlSWQgOiBudW1iZXIsIGNhbGxiYWNrIDogRnVuY3Rpb24pIDogdm9pZCB7XG4gICAgICAgIGxldCB0aGlzUmVzb3VyY2VNYW5hZ2VyIDogUmVzb3VyY2VNYW5hZ2VyID0gdGhpcztcbiAgICAgICAgdGhpcy5sb2FkSnNvbkZpbGUoanNvbkZpbGVQYXRoLCBmdW5jdGlvbihqc29uVGV4dCA6IHN0cmluZykge1xuICAgICAgICAgICAgbGV0IHNwcml0ZVR5cGUgOiBBbmltYXRlZFNwcml0ZVR5cGUgPSB0aGlzUmVzb3VyY2VNYW5hZ2VyLmxvYWRTcHJpdGVUeXBlRGF0YShqc29uVGV4dCk7XG4gICAgICAgICAgICB0aGlzUmVzb3VyY2VNYW5hZ2VyLmdhbWVTcHJpdGVUeXBlc1tzcHJpdGVUeXBlSWRdID0gc3ByaXRlVHlwZTtcbiAgICAgICAgICAgIHRoaXNSZXNvdXJjZU1hbmFnZXIuZ2FtZVNwcml0ZVR5cGVJZHNbanNvbkZpbGVQYXRoXSA9IHNwcml0ZVR5cGVJZDtcbiAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qXG4gICAgICogVGhpcyBoZWxwZXIgZnVuY3Rpb24gbG9hZHMgYWxsIHRoZSBqc29uIHRleHQgaW50byBhbiBBbmltYXRlZFNwcml0ZVR5cGVcbiAgICAgKiBvYmplY3QgYW5kIHJldHVybnMgaXQuXG4gICAgICovXG4gICAgcHJpdmF0ZSBsb2FkU3ByaXRlVHlwZURhdGEgPSAoanNvblRleHQgOiBzdHJpbmcpIDogQW5pbWF0ZWRTcHJpdGVUeXBlID0+IHtcbiAgICAgICAgbGV0IGpzb25EYXRhIDogU3ByaXRlVHlwZURhdGEgPSA8U3ByaXRlVHlwZURhdGE+SlNPTi5wYXJzZShqc29uVGV4dCk7XG4gICAgICAgIGxldCB0ZXh0dXJlUGF0aCA9IGpzb25EYXRhLnNwcml0ZVNoZWV0SW1hZ2U7XG4gICAgICAgIGxldCB0ZXh0dXJlSWQgPSB0aGlzLmdhbWVUZXh0dXJlSWRzW3RleHR1cmVQYXRoXTtcbiAgICAgICAgbGV0IHRleHR1cmUgOiBXZWJHTEdhbWVUZXh0dXJlID0gdGhpcy5nYW1lVGV4dHVyZXNbdGV4dHVyZUlkXTtcbiAgICAgICAgbGV0IHNwcml0ZVdpZHRoIDogbnVtYmVyID0ganNvbkRhdGEuc3ByaXRlV2lkdGg7XG4gICAgICAgIGxldCBzcHJpdGVIZWlnaHQgOiBudW1iZXIgPSBqc29uRGF0YS5zcHJpdGVIZWlnaHQ7XG4gICAgICAgIGxldCBhbmltYXRlZFNwcml0ZVR5cGUgPSBuZXcgQW5pbWF0ZWRTcHJpdGVUeXBlKHRleHR1cmUsIHNwcml0ZVdpZHRoLCBzcHJpdGVIZWlnaHQpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGpzb25EYXRhLmFuaW1hdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBhbmltYXRpb24gPSA8QW5pbWF0aW9uU3RhdGVEYXRhPmpzb25EYXRhLmFuaW1hdGlvbnNbaV07XG4gICAgICAgICAgICBhbmltYXRlZFNwcml0ZVR5cGUuYWRkQW5pbWF0aW9uKGFuaW1hdGlvbi5uYW1lKTtcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgYW5pbWF0aW9uLmZyYW1lcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgIHZhciBmcmFtZSA9IGFuaW1hdGlvbi5mcmFtZXNbal07XG4gICAgICAgICAgICAgICAgYW5pbWF0ZWRTcHJpdGVUeXBlLmFkZEFuaW1hdGlvbkZyYW1lKGFuaW1hdGlvbi5uYW1lLCBmcmFtZS5pbmRleCwgZnJhbWUuZHVyYXRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhbmltYXRlZFNwcml0ZVR5cGU7XG4gICAgfVxuXG4gICAgLy8gQ0hFQ0tTIFRPIFNFRSBJRiBBTEwgU1BSSVRFIFRZUEUgTE9BRElORyBJUyBDT01QTEVURSwgSUYgWUVTLCBjYWxsYmFjayBJUyBJTlZPS0VEXG4gICAgcHJpdmF0ZSBjb21wbGV0ZUxvYWRpbmdTcHJpdGVUeXBlKGNhbGxiYWNrIDogRnVuY3Rpb24pIDogdm9pZCB7XG4gICAgICAgIHRoaXMubnVtU3ByaXRlVHlwZXNMb2FkZWQrKztcbiAgICAgICAgaWYgKHRoaXMubnVtU3ByaXRlVHlwZXNMb2FkZWQgPT09IHRoaXMubnVtU3ByaXRlVHlwZXNUb0xvYWQpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgIH1cbiAgICB9ICAgIFxufSIsImV4cG9ydCBhYnN0cmFjdCBjbGFzcyBHYW1lTG9vcFRlbXBsYXRlIHtcbiAgICAvLyBBTEwgSU5TVEFOQ0UgVkFSSUFCTEVTIFdJTEwgQkUgSU5JVElBTElaRUQgVklBIFRIRSBDT05TVFJVQ1RPUlxuICAgIHByaXZhdGUgZnBzOiBudW1iZXI7XG4gICAgcHJpdmF0ZSBzaW11bGF0aW9uVGltZXN0ZXA6IG51bWJlcjtcbiAgICBwcml2YXRlIGZyYW1lRGVsdGE6IG51bWJlcjtcbiAgICBwcml2YXRlIGxhc3RGcmFtZVRpbWVNczogbnVtYmVyO1xuICAgIHByaXZhdGUgZnBzQWxwaGE6IG51bWJlcjtcbiAgICBwcml2YXRlIGZwc1VwZGF0ZUludGVydmFsOiBudW1iZXI7XG4gICAgcHJpdmF0ZSBsYXN0RnBzVXBkYXRlOiBudW1iZXI7XG4gICAgcHJpdmF0ZSBmcmFtZXNTaW5jZUxhc3RGcHNVcGRhdGU6IG51bWJlcjtcbiAgICBwcml2YXRlIG51bVVwZGF0ZVN0ZXBzOiBudW1iZXI7XG4gICAgcHJpdmF0ZSBtaW5GcmFtZURlbGF5OiBudW1iZXI7XG4gICAgcHJpdmF0ZSBydW5uaW5nOiBib29sZWFuO1xuICAgIHByaXZhdGUgc3RhcnRlZDogYm9vbGVhbjtcbiAgICBwcml2YXRlIHBhbmljOiBib29sZWFuO1xuICAgIHByaXZhdGUgcmFmOiBudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgLy8gQW4gZXhwb25lbnRpYWwgbW92aW5nIGF2ZXJhZ2Ugb2YgdGhlIGZyYW1lcyBwZXIgc2Vjb25kLlxuICAgICAgICB0aGlzLmZwcyA9IDYwO1xuXG4gICAgICAgIC8vIFRoZSBhbW91bnQgb2YgdGltZSAoaW4gbWlsbGlzZWNvbmRzKSB0byBzaW11bGF0ZSBlYWNoIHRpbWUgdXBkYXRlKCkgcnVucy5cbiAgICAgICAgLy8gU2VlIGBNYWluTG9vcC5zZXRTaW11bGF0aW9uVGltZXN0ZXAoKWAgZm9yIGRldGFpbHMuXG4gICAgICAgIHRoaXMuc2ltdWxhdGlvblRpbWVzdGVwID0gMTAwMCAvIHRoaXMuZnBzO1xuXG4gICAgICAgIC8vIFRoZSBjdW11bGF0aXZlIGFtb3VudCBvZiBpbi1hcHAgdGltZSB0aGF0IGhhc24ndCBiZWVuIHNpbXVsYXRlZCB5ZXQuXG4gICAgICAgIC8vIFNlZSB0aGUgY29tbWVudHMgaW5zaWRlIGFuaW1hdGUoKSBmb3IgZGV0YWlscy5cbiAgICAgICAgdGhpcy5mcmFtZURlbHRhID0gMDtcblxuICAgICAgICAvLyBUaGUgdGltZXN0YW1wIGluIG1pbGxpc2Vjb25kcyBvZiB0aGUgbGFzdCB0aW1lIHRoZSBtYWluIGxvb3Agd2FzIHJ1bi5cbiAgICAgICAgLy8gVXNlZCB0byBjb21wdXRlIHRoZSB0aW1lIGVsYXBzZWQgYmV0d2VlbiBmcmFtZXMuXG4gICAgICAgIHRoaXMubGFzdEZyYW1lVGltZU1zID0gMDtcblxuICAgICAgICAvLyBBIGZhY3RvciB0aGF0IGFmZmVjdHMgaG93IGhlYXZpbHkgdG8gd2VpZ2h0IG1vcmUgcmVjZW50IHNlY29uZHMnXG4gICAgICAgIC8vIHBlcmZvcm1hbmNlIHdoZW4gY2FsY3VsYXRpbmcgdGhlIGF2ZXJhZ2UgZnJhbWVzIHBlciBzZWNvbmQuIFZhbGlkIHZhbHVlc1xuICAgICAgICAvLyByYW5nZSBmcm9tIHplcm8gdG8gb25lIGluY2x1c2l2ZS4gSGlnaGVyIHZhbHVlcyByZXN1bHQgaW4gd2VpZ2h0aW5nIG1vcmVcbiAgICAgICAgLy8gcmVjZW50IHNlY29uZHMgbW9yZSBoZWF2aWx5LlxuICAgICAgICB0aGlzLmZwc0FscGhhID0gMC45O1xuXG4gICAgICAgIC8vIFRoZSBtaW5pbXVtIGR1cmF0aW9uIGJldHdlZW4gdXBkYXRlcyB0byB0aGUgZnJhbWVzLXBlci1zZWNvbmQgZXN0aW1hdGUuXG4gICAgICAgIC8vIEhpZ2hlciB2YWx1ZXMgaW5jcmVhc2UgYWNjdXJhY3ksIGJ1dCByZXN1bHQgaW4gc2xvd2VyIHVwZGF0ZXMuXG4gICAgICAgIHRoaXMuZnBzVXBkYXRlSW50ZXJ2YWwgPSAxMDAwO1xuXG4gICAgICAgIC8vIFRoZSB0aW1lc3RhbXAgKGluIG1pbGxpc2Vjb25kcykgb2YgdGhlIGxhc3QgdGltZSB0aGUgYGZwc2AgbW92aW5nXG4gICAgICAgIC8vIGF2ZXJhZ2Ugd2FzIHVwZGF0ZWQuXG4gICAgICAgIHRoaXMubGFzdEZwc1VwZGF0ZSA9IDA7XG5cbiAgICAgICAgLy8gVGhlIG51bWJlciBvZiBmcmFtZXMgZGVsaXZlcmVkIHNpbmNlIHRoZSBsYXN0IHRpbWUgdGhlIGBmcHNgIG1vdmluZ1xuICAgICAgICAvLyBhdmVyYWdlIHdhcyB1cGRhdGVkIChpLmUuIHNpbmNlIGBsYXN0RnBzVXBkYXRlYCkuXG4gICAgICAgIHRoaXMuZnJhbWVzU2luY2VMYXN0RnBzVXBkYXRlID0gMDtcblxuICAgICAgICAvLyBUaGUgbnVtYmVyIG9mIHRpbWVzIHVwZGF0ZSgpIGlzIGNhbGxlZCBpbiBhIGdpdmVuIGZyYW1lLiBUaGlzIGlzIG9ubHlcbiAgICAgICAgLy8gcmVsZXZhbnQgaW5zaWRlIG9mIGFuaW1hdGUoKSwgYnV0IGEgcmVmZXJlbmNlIGlzIGhlbGQgZXh0ZXJuYWxseSBzbyB0aGF0XG4gICAgICAgIC8vIHRoaXMgdmFyaWFibGUgaXMgbm90IG1hcmtlZCBmb3IgZ2FyYmFnZSBjb2xsZWN0aW9uIGV2ZXJ5IHRpbWUgdGhlIG1haW5cbiAgICAgICAgLy8gbG9vcCBydW5zLlxuICAgICAgICB0aGlzLm51bVVwZGF0ZVN0ZXBzID0gMDtcblxuICAgICAgICAvLyBUaGUgbWluaW11bSBhbW91bnQgb2YgdGltZSBpbiBtaWxsaXNlY29uZHMgdGhhdCBtdXN0IHBhc3Mgc2luY2UgdGhlIGxhc3RcbiAgICAgICAgLy8gZnJhbWUgd2FzIGV4ZWN1dGVkIGJlZm9yZSBhbm90aGVyIGZyYW1lIGNhbiBiZSBleGVjdXRlZC4gVGhlXG4gICAgICAgIC8vIG11bHRpcGxpY2F0aXZlIGludmVyc2UgY2FwcyB0aGUgRlBTICh0aGUgZGVmYXVsdCBvZiB6ZXJvIG1lYW5zIHRoZXJlIGlzXG4gICAgICAgIC8vIG5vIGNhcCkuXG4gICAgICAgIHRoaXMubWluRnJhbWVEZWxheSA9IDA7XG5cbiAgICAgICAgLy8gV2hldGhlciB0aGUgbWFpbiBsb29wIGlzIHJ1bm5pbmcuXG4gICAgICAgIHRoaXMucnVubmluZyA9IGZhbHNlO1xuXG4gICAgICAgIC8vIGB0cnVlYCBpZiBgTWFpbkxvb3Auc3RhcnQoKWAgaGFzIGJlZW4gY2FsbGVkIGFuZCB0aGUgbW9zdCByZWNlbnQgdGltZSBpdFxuICAgICAgICAvLyB3YXMgY2FsbGVkIGhhcyBub3QgYmVlbiBmb2xsb3dlZCBieSBhIGNhbGwgdG8gYE1haW5Mb29wLnN0b3AoKWAuIFRoaXMgaXNcbiAgICAgICAgLy8gZGlmZmVyZW50IHRoYW4gYHJ1bm5pbmdgIGJlY2F1c2UgdGhlcmUgaXMgYSBkZWxheSBvZiBhIGZldyBtaWxsaXNlY29uZHNcbiAgICAgICAgLy8gYWZ0ZXIgYE1haW5Mb29wLnN0YXJ0KClgIGlzIGNhbGxlZCBiZWZvcmUgdGhlIGFwcGxpY2F0aW9uIGlzIGNvbnNpZGVyZWRcbiAgICAgICAgLy8gXCJydW5uaW5nLlwiIFRoaXMgZGVsYXkgaXMgZHVlIHRvIHdhaXRpbmcgZm9yIHRoZSBuZXh0IGZyYW1lLlxuICAgICAgICB0aGlzLnN0YXJ0ZWQgPSBmYWxzZTtcblxuICAgICAgICAvLyBXaGV0aGVyIHRoZSBzaW11bGF0aW9uIGhhcyBmYWxsZW4gdG9vIGZhciBiZWhpbmQgcmVhbCB0aW1lLlxuICAgICAgICAvLyBTcGVjaWZpY2FsbHksIGBwYW5pY2Agd2lsbCBiZSBzZXQgdG8gYHRydWVgIGlmIHRvbyBtYW55IHVwZGF0ZXMgb2NjdXIgaW5cbiAgICAgICAgLy8gb25lIGZyYW1lLiBUaGlzIGlzIG9ubHkgcmVsZXZhbnQgaW5zaWRlIG9mIGFuaW1hdGUoKSwgYnV0IGEgcmVmZXJlbmNlIGlzXG4gICAgICAgIC8vIGhlbGQgZXh0ZXJuYWxseSBzbyB0aGF0IHRoaXMgdmFyaWFibGUgaXMgbm90IG1hcmtlZCBmb3IgZ2FyYmFnZVxuICAgICAgICAvLyBjb2xsZWN0aW9uIGV2ZXJ5IHRpbWUgdGhlIG1haW4gbG9vcCBydW5zLlxuICAgICAgICB0aGlzLnBhbmljID0gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyBob3cgbWFueSBtaWxsaXNlY29uZHMgc2hvdWxkIGJlIHNpbXVsYXRlZCBieSBldmVyeSBydW4gb2YgdXBkYXRlKCkuXG4gICAgICpcbiAgICAgKiBTZWUgYE1haW5Mb29wLnNldFNpbXVsYXRpb25UaW1lc3RlcCgpYCBmb3IgZGV0YWlscyBvbiB0aGlzIHZhbHVlLlxuICAgICAqXG4gICAgICogQHJldHVybiB7TnVtYmVyfVxuICAgICAqICAgVGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdGhhdCBzaG91bGQgYmUgc2ltdWxhdGVkIGJ5IGV2ZXJ5IHJ1biBvZlxuICAgICAqICAge0BsaW5rICNzZXRVcGRhdGUgdXBkYXRlfSgpLlxuICAgICAqL1xuICAgIGdldFNpbXVsYXRpb25UaW1lc3RlcCgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5zaW11bGF0aW9uVGltZXN0ZXA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyBob3cgbWFueSBtaWxsaXNlY29uZHMgc2hvdWxkIGJlIHNpbXVsYXRlZCBieSBldmVyeSBydW4gb2YgdXBkYXRlKCkuXG4gICAgICpcbiAgICAgKiBUaGUgcGVyY2VpdmVkIGZyYW1lcyBwZXIgc2Vjb25kIChGUFMpIGlzIGVmZmVjdGl2ZWx5IGNhcHBlZCBhdCB0aGVcbiAgICAgKiBtdWx0aXBsaWNhdGl2ZSBpbnZlcnNlIG9mIHRoZSBzaW11bGF0aW9uIHRpbWVzdGVwLiBUaGF0IGlzLCBpZiB0aGVcbiAgICAgKiB0aW1lc3RlcCBpcyAxMDAwIC8gNjAgKHdoaWNoIGlzIHRoZSBkZWZhdWx0KSwgdGhlbiB0aGUgbWF4aW11bSBwZXJjZWl2ZWRcbiAgICAgKiBGUFMgaXMgZWZmZWN0aXZlbHkgNjAuIERlY3JlYXNpbmcgdGhlIHRpbWVzdGVwIGluY3JlYXNlcyB0aGUgbWF4aW11bVxuICAgICAqIHBlcmNlaXZlZCBGUFMgYXQgdGhlIGNvc3Qgb2YgcnVubmluZyB7QGxpbmsgI3NldFVwZGF0ZSB1cGRhdGV9KCkgbW9yZVxuICAgICAqIHRpbWVzIHBlciBmcmFtZSBhdCBsb3dlciBmcmFtZSByYXRlcy4gU2luY2UgcnVubmluZyB1cGRhdGUoKSBtb3JlIHRpbWVzXG4gICAgICogdGFrZXMgbW9yZSB0aW1lIHRvIHByb2Nlc3MsIHRoaXMgY2FuIGFjdHVhbGx5IHNsb3cgZG93biB0aGUgZnJhbWUgcmF0ZS5cbiAgICAgKiBBZGRpdGlvbmFsbHksIGlmIHRoZSBhbW91bnQgb2YgdGltZSBpdCB0YWtlcyB0byBydW4gdXBkYXRlKCkgZXhjZWVkcyBvclxuICAgICAqIHZlcnkgbmVhcmx5IGV4Y2VlZHMgdGhlIHRpbWVzdGVwLCB0aGUgYXBwbGljYXRpb24gd2lsbCBmcmVlemUgYW5kIGNyYXNoXG4gICAgICogaW4gYSBzcGlyYWwgb2YgZGVhdGggKHVubGVzcyBpdCBpcyByZXNjdWVkOyBzZWUgYE1haW5Mb29wLnNldEVuZCgpYCBmb3JcbiAgICAgKiBhbiBleHBsYW5hdGlvbiBvZiB3aGF0IGNhbiBiZSBkb25lIGlmIGEgc3BpcmFsIG9mIGRlYXRoIGlzIG9jY3VycmluZykuXG4gICAgICpcbiAgICAgKiBUaGUgZXhjZXB0aW9uIHRvIHRoaXMgaXMgdGhhdCBpbnRlcnBvbGF0aW5nIGJldHdlZW4gdXBkYXRlcyBmb3IgZWFjaFxuICAgICAqIHJlbmRlciBjYW4gaW5jcmVhc2UgdGhlIHBlcmNlaXZlZCBmcmFtZSByYXRlIGFuZCByZWR1Y2UgdmlzdWFsXG4gICAgICogc3R1dHRlcmluZy4gU2VlIGBNYWluTG9vcC5zZXREcmF3KClgIGZvciBhbiBleHBsYW5hdGlvbiBvZiBob3cgdG8gZG9cbiAgICAgKiB0aGlzLlxuICAgICAqXG4gICAgICogSWYgeW91IGFyZSBjb25zaWRlcmluZyBkZWNyZWFzaW5nIHRoZSBzaW11bGF0aW9uIHRpbWVzdGVwIGluIG9yZGVyIHRvXG4gICAgICogcmFpc2UgdGhlIG1heGltdW0gcGVyY2VpdmVkIEZQUywga2VlcCBpbiBtaW5kIHRoYXQgbW9zdCBtb25pdG9ycyBjYW4ndFxuICAgICAqIGRpc3BsYXkgbW9yZSB0aGFuIDYwIEZQUy4gV2hldGhlciBodW1hbnMgY2FuIHRlbGwgdGhlIGRpZmZlcmVuY2UgYW1vbmdcbiAgICAgKiBoaWdoIGZyYW1lIHJhdGVzIGRlcGVuZHMgb24gdGhlIGFwcGxpY2F0aW9uLCBidXQgZm9yIHJlZmVyZW5jZSwgZmlsbSBpc1xuICAgICAqIHVzdWFsbHkgZGlzcGxheWVkIGF0IDI0IEZQUywgb3RoZXIgdmlkZW9zIGF0IDMwIEZQUywgbW9zdCBnYW1lcyBhcmVcbiAgICAgKiBhY2NlcHRhYmxlIGFib3ZlIDMwIEZQUywgYW5kIHZpcnR1YWwgcmVhbGl0eSBtaWdodCByZXF1aXJlIDc1IEZQUyB0b1xuICAgICAqIGZlZWwgbmF0dXJhbC4gU29tZSBnYW1pbmcgbW9uaXRvcnMgZ28gdXAgdG8gMTQ0IEZQUy4gU2V0dGluZyB0aGVcbiAgICAgKiB0aW1lc3RlcCBiZWxvdyAxMDAwIC8gMTQ0IGlzIGRpc2NvdXJhZ2VkIGFuZCBiZWxvdyAxMDAwIC8gMjQwIGlzXG4gICAgICogc3Ryb25nbHkgZGlzY291cmFnZWQuIFRoZSBkZWZhdWx0IG9mIDEwMDAgLyA2MCBpcyBnb29kIGluIG1vc3QgY2FzZXMuXG4gICAgICpcbiAgICAgKiBUaGUgc2ltdWxhdGlvbiB0aW1lc3RlcCBzaG91bGQgdHlwaWNhbGx5IG9ubHkgYmUgY2hhbmdlZCBhdFxuICAgICAqIGRldGVybWluaXN0aWMgdGltZXMgKGUuZy4gYmVmb3JlIHRoZSBtYWluIGxvb3Agc3RhcnRzIGZvciB0aGUgZmlyc3RcbiAgICAgKiB0aW1lLCBhbmQgbm90IGluIHJlc3BvbnNlIHRvIHVzZXIgaW5wdXQgb3Igc2xvdyBmcmFtZSByYXRlcykgdG8gYXZvaWRcbiAgICAgKiBpbnRyb2R1Y2luZyBub24tZGV0ZXJtaW5pc3RpYyBiZWhhdmlvci4gVGhlIHVwZGF0ZSB0aW1lc3RlcCBzaG91bGQgYmVcbiAgICAgKiB0aGUgc2FtZSBmb3IgYWxsIHBsYXllcnMvdXNlcnMgaW4gbXVsdGlwbGF5ZXIvbXVsdGktdXNlciBhcHBsaWNhdGlvbnMuXG4gICAgICpcbiAgICAgKiBTZWUgYWxzbyBgTWFpbkxvb3AuZ2V0U2ltdWxhdGlvblRpbWVzdGVwKClgLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHRpbWVzdGVwXG4gICAgICogICBUaGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0aGF0IHNob3VsZCBiZSBzaW11bGF0ZWQgYnkgZXZlcnkgcnVuIG9mXG4gICAgICogICB7QGxpbmsgI3NldFVwZGF0ZSB1cGRhdGV9KCkuXG4gICAgICovXG4gICAgc2V0U2ltdWxhdGlvblRpbWVzdGVwKHRpbWVzdGVwOiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5zaW11bGF0aW9uVGltZXN0ZXAgPSB0aW1lc3RlcDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBleHBvbmVudGlhbCBtb3ZpbmcgYXZlcmFnZSBvZiB0aGUgZnJhbWVzIHBlciBzZWNvbmQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9XG4gICAgICogICBUaGUgZXhwb25lbnRpYWwgbW92aW5nIGF2ZXJhZ2Ugb2YgdGhlIGZyYW1lcyBwZXIgc2Vjb25kLlxuICAgICAqL1xuICAgIGdldEZQUygpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5mcHM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbWF4aW11bSBmcmFtZSByYXRlLlxuICAgICAqXG4gICAgICogT3RoZXIgZmFjdG9ycyBhbHNvIGxpbWl0IHRoZSBGUFM7IHNlZSBgTWFpbkxvb3Auc2V0U2ltdWxhdGlvblRpbWVzdGVwYFxuICAgICAqIGZvciBkZXRhaWxzLlxuICAgICAqXG4gICAgICogU2VlIGFsc28gYE1haW5Mb29wLnNldE1heEFsbG93ZWRGUFMoKWAuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9XG4gICAgICogICBUaGUgbWF4aW11bSBudW1iZXIgb2YgZnJhbWVzIHBlciBzZWNvbmQgYWxsb3dlZC5cbiAgICAgKi9cbiAgICBnZXRNYXhBbGxvd2VkRlBTKCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiAxMDAwIC8gdGhpcy5taW5GcmFtZURlbGF5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgYSBtYXhpbXVtIGZyYW1lIHJhdGUuXG4gICAgICpcbiAgICAgKiBTZWUgYWxzbyBgTWFpbkxvb3AuZ2V0TWF4QWxsb3dlZEZQUygpYC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbZnBzPUluZmluaXR5XVxuICAgICAqICAgVGhlIG1heGltdW0gbnVtYmVyIG9mIGZyYW1lcyBwZXIgc2Vjb25kIHRvIGV4ZWN1dGUuIElmIEluZmluaXR5IG9yIG5vdFxuICAgICAqICAgcGFzc2VkLCB0aGVyZSB3aWxsIGJlIG5vIEZQUyBjYXAgKGFsdGhvdWdoIG90aGVyIGZhY3RvcnMgZG8gbGltaXQgdGhlXG4gICAgICogICBGUFM7IHNlZSBgTWFpbkxvb3Auc2V0U2ltdWxhdGlvblRpbWVzdGVwYCBmb3IgZGV0YWlscykuIElmIHplcm8sIHRoaXNcbiAgICAgKiAgIHdpbGwgc3RvcCB0aGUgbG9vcCwgYW5kIHdoZW4gdGhlIGxvb3AgaXMgbmV4dCBzdGFydGVkLCBpdCB3aWxsIHJldHVyblxuICAgICAqICAgdG8gdGhlIHByZXZpb3VzIG1heGltdW0gZnJhbWUgcmF0ZS4gUGFzc2luZyBuZWdhdGl2ZSB2YWx1ZXMgd2lsbCBzdGFsbFxuICAgICAqICAgdGhlIGxvb3AgdW50aWwgdGhpcyBmdW5jdGlvbiBpcyBjYWxsZWQgYWdhaW4gd2l0aCBhIHBvc2l0aXZlIHZhbHVlLlxuICAgICAqXG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIHNldE1heEFsbG93ZWRGUFMoZnBzOiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgaWYgKHR5cGVvZiBmcHMgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICBmcHMgPSBJbmZpbml0eTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZnBzID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLnN0b3AoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIERpdmlkaW5nIGJ5IEluZmluaXR5IHJldHVybnMgemVyby5cbiAgICAgICAgICAgIHRoaXMubWluRnJhbWVEZWxheSA9IDEwMDAgLyBmcHM7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXNldCB0aGUgYW1vdW50IG9mIHRpbWUgdGhhdCBoYXMgbm90IHlldCBiZWVuIHNpbXVsYXRlZCB0byB6ZXJvLlxuICAgICAqXG4gICAgICogVGhpcyBpbnRyb2R1Y2VzIG5vbi1kZXRlcm1pbmlzdGljIGJlaGF2aW9yIGlmIGNhbGxlZCBhZnRlciB0aGVcbiAgICAgKiBhcHBsaWNhdGlvbiBoYXMgc3RhcnRlZCBydW5uaW5nICh1bmxlc3MgaXQgaXMgYmVpbmcgcmVzZXQsIGluIHdoaWNoIGNhc2VcbiAgICAgKiBpdCBkb2Vzbid0IG1hdHRlcikuIEhvd2V2ZXIsIHRoaXMgY2FuIGJlIHVzZWZ1bCBpbiBjYXNlcyB3aGVyZSB0aGVcbiAgICAgKiBhbW91bnQgb2YgdGltZSB0aGF0IGhhcyBub3QgeWV0IGJlZW4gc2ltdWxhdGVkIGhhcyBncm93biB2ZXJ5IGxhcmdlXG4gICAgICogKGZvciBleGFtcGxlLCB3aGVuIHRoZSBhcHBsaWNhdGlvbidzIHRhYiBnZXRzIHB1dCBpbiB0aGUgYmFja2dyb3VuZCBhbmRcbiAgICAgKiB0aGUgYnJvd3NlciB0aHJvdHRsZXMgdGhlIHRpbWVycyBhcyBhIHJlc3VsdCkuIEluIGFwcGxpY2F0aW9ucyB3aXRoXG4gICAgICogbG9ja3N0ZXAgdGhlIHBsYXllciB3b3VsZCBnZXQgZHJvcHBlZCwgYnV0IGluIG90aGVyIG5ldHdvcmtlZFxuICAgICAqIGFwcGxpY2F0aW9ucyBpdCBtYXkgYmUgbmVjZXNzYXJ5IHRvIHNuYXAgb3IgZWFzZSB0aGUgcGxheWVyL3VzZXIgdG8gdGhlXG4gICAgICogYXV0aG9yaXRhdGl2ZSBzdGF0ZSBhbmQgZGlzY2FyZCBwZW5kaW5nIHVwZGF0ZXMgaW4gdGhlIHByb2Nlc3MuIEluXG4gICAgICogbm9uLW5ldHdvcmtlZCBhcHBsaWNhdGlvbnMgaXQgbWF5IGFsc28gYmUgYWNjZXB0YWJsZSB0byBzaW1wbHkgcmVzdW1lXG4gICAgICogdGhlIGFwcGxpY2F0aW9uIHdoZXJlIGl0IGxhc3QgbGVmdCBvZmYgYW5kIGlnbm9yZSB0aGUgYWNjdW11bGF0ZWRcbiAgICAgKiB1bnNpbXVsYXRlZCB0aW1lLlxuICAgICAqXG4gICAgICogQHJldHVybiB7TnVtYmVyfVxuICAgICAqICAgVGhlIGN1bXVsYXRpdmUgYW1vdW50IG9mIGVsYXBzZWQgdGltZSBpbiBtaWxsaXNlY29uZHMgdGhhdCBoYXMgbm90IHlldFxuICAgICAqICAgYmVlbiBzaW11bGF0ZWQsIGJ1dCBpcyBiZWluZyBkaXNjYXJkZWQgYXMgYSByZXN1bHQgb2YgY2FsbGluZyB0aGlzXG4gICAgICogICBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICByZXNldEZyYW1lRGVsdGEoKSA6IG51bWJlciB7XG4gICAgICAgIHZhciBvbGRGcmFtZURlbHRhID0gdGhpcy5mcmFtZURlbHRhO1xuICAgICAgICB0aGlzLmZyYW1lRGVsdGEgPSAwO1xuICAgICAgICByZXR1cm4gb2xkRnJhbWVEZWx0YTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTdGFydHMgdGhlIG1haW4gbG9vcC5cbiAgICAgKlxuICAgICAqIE5vdGUgdGhhdCB0aGUgYXBwbGljYXRpb24gaXMgbm90IGNvbnNpZGVyZWQgXCJydW5uaW5nXCIgaW1tZWRpYXRlbHkgYWZ0ZXJcbiAgICAgKiB0aGlzIGZ1bmN0aW9uIHJldHVybnM7IHJhdGhlciwgaXQgaXMgY29uc2lkZXJlZCBcInJ1bm5pbmdcIiBhZnRlciB0aGVcbiAgICAgKiBhcHBsaWNhdGlvbiBkcmF3cyBpdHMgZmlyc3QgZnJhbWUuIFRoZSBkaXN0aW5jdGlvbiBpcyB0aGF0IGV2ZW50XG4gICAgICogaGFuZGxlcnMgc2hvdWxkIHJlbWFpbiBwYXVzZWQgdW50aWwgdGhlIGFwcGxpY2F0aW9uIGlzIHJ1bm5pbmcsIGV2ZW5cbiAgICAgKiBhZnRlciBgTWFpbkxvb3Auc3RhcnQoKWAgaXMgY2FsbGVkLiBDaGVjayBgTWFpbkxvb3AuaXNSdW5uaW5nKClgIGZvciB0aGVcbiAgICAgKiBjdXJyZW50IHN0YXR1cy4gVG8gYWN0IGFmdGVyIHRoZSBhcHBsaWNhdGlvbiBzdGFydHMsIHJlZ2lzdGVyIGEgY2FsbGJhY2tcbiAgICAgKiB3aXRoIHJlcXVlc3RBbmltYXRpb25GcmFtZSgpIGFmdGVyIGNhbGxpbmcgdGhpcyBmdW5jdGlvbiBhbmQgZXhlY3V0ZSB0aGVcbiAgICAgKiBhY3Rpb24gaW4gdGhhdCBjYWxsYmFjay4gSXQgaXMgc2FmZSB0byBjYWxsIGBNYWluTG9vcC5zdGFydCgpYCBtdWx0aXBsZVxuICAgICAqIHRpbWVzIGV2ZW4gYmVmb3JlIHRoZSBhcHBsaWNhdGlvbiBzdGFydHMgcnVubmluZyBhbmQgd2l0aG91dCBjYWxsaW5nXG4gICAgICogYE1haW5Mb29wLnN0b3AoKWAgaW4gYmV0d2VlbiwgYWx0aG91Z2ggdGhlcmUgaXMgbm8gcmVhc29uIHRvIGRvIHRoaXM7XG4gICAgICogdGhlIG1haW4gbG9vcCB3aWxsIG9ubHkgc3RhcnQgaWYgaXQgaXMgbm90IGFscmVhZHkgc3RhcnRlZC5cbiAgICAgKlxuICAgICAqIFNlZSBhbHNvIGBNYWluTG9vcC5zdG9wKClgLlxuICAgICAqL1xuICAgIHN0YXJ0KCk6IHZvaWQge1xuICAgICAgICBpZiAoIXRoaXMuc3RhcnRlZCkge1xuICAgICAgICAgICAgLy8gU2luY2UgdGhlIGFwcGxpY2F0aW9uIGRvZXNuJ3Qgc3RhcnQgcnVubmluZyBpbW1lZGlhdGVseSwgdHJhY2tcbiAgICAgICAgICAgIC8vIHdoZXRoZXIgdGhpcyBmdW5jdGlvbiB3YXMgY2FsbGVkIGFuZCB1c2UgdGhhdCB0byBrZWVwIGl0IGZyb21cbiAgICAgICAgICAgIC8vIHN0YXJ0aW5nIHRoZSBtYWluIGxvb3AgbXVsdGlwbGUgdGltZXMuXG4gICAgICAgICAgICB0aGlzLnN0YXJ0ZWQgPSB0cnVlO1xuXG4gICAgICAgICAgICAvLyBJbiB0aGUgbWFpbiBsb29wLCBkcmF3KCkgaXMgY2FsbGVkIGFmdGVyIHVwZGF0ZSgpLCBzbyBpZiB3ZVxuICAgICAgICAgICAgLy8gZW50ZXJlZCB0aGUgbWFpbiBsb29wIGltbWVkaWF0ZWx5LCB3ZSB3b3VsZCBuZXZlciByZW5kZXIgdGhlXG4gICAgICAgICAgICAvLyBpbml0aWFsIHN0YXRlIGJlZm9yZSBhbnkgdXBkYXRlcyBvY2N1ci4gSW5zdGVhZCwgd2UgcnVuIG9uZVxuICAgICAgICAgICAgLy8gZnJhbWUgd2hlcmUgYWxsIHdlIGRvIGlzIGRyYXcsIGFuZCB0aGVuIHN0YXJ0IHRoZSBtYWluIGxvb3Agd2l0aFxuICAgICAgICAgICAgLy8gdGhlIG5leHQgZnJhbWUuXG4gICAgICAgICAgICB0aGlzLnJhZiA9IHJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLnN0YXJ0TG9vcC5iaW5kKHRoaXMpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXJ0TG9vcCh0aW1lc3RhbXAgOiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgLy8gUmVuZGVyIHRoZSBpbml0aWFsIHN0YXRlIGJlZm9yZSBhbnkgdXBkYXRlcyBvY2N1ci5cbiAgICAgICAgdGhpcy5kcmF3KDEpO1xuXG4gICAgICAgIC8vIFRoZSBhcHBsaWNhdGlvbiBpc24ndCBjb25zaWRlcmVkIFwicnVubmluZ1wiIHVudGlsIHRoZVxuICAgICAgICAvLyBhcHBsaWNhdGlvbiBzdGFydHMgZHJhd2luZy5cbiAgICAgICAgdGhpcy5ydW5uaW5nID0gdHJ1ZTtcblxuICAgICAgICAvLyBSZXNldCB2YXJpYWJsZXMgdGhhdCBhcmUgdXNlZCBmb3IgdHJhY2tpbmcgdGltZSBzbyB0aGF0IHdlXG4gICAgICAgIC8vIGRvbid0IHNpbXVsYXRlIHRpbWUgcGFzc2VkIHdoaWxlIHRoZSBhcHBsaWNhdGlvbiB3YXMgcGF1c2VkLlxuICAgICAgICB0aGlzLmxhc3RGcmFtZVRpbWVNcyA9IHRpbWVzdGFtcDtcbiAgICAgICAgdGhpcy5sYXN0RnBzVXBkYXRlID0gdGltZXN0YW1wO1xuICAgICAgICB0aGlzLmZyYW1lc1NpbmNlTGFzdEZwc1VwZGF0ZSA9IDA7XG5cbiAgICAgICAgLy8gU3RhcnQgdGhlIG1haW4gbG9vcC5cbiAgICAgICAgdGhpcy5yYWYgPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuYW5pbWF0ZS5iaW5kKHRoaXMpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHdoZXRoZXIgdGhlIG1haW4gbG9vcCBpcyBjdXJyZW50bHkgcnVubmluZy5cbiAgICAgKlxuICAgICAqIFNlZSBhbHNvIGBNYWluTG9vcC5zdGFydCgpYCBhbmQgYE1haW5Mb29wLnN0b3AoKWAuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufVxuICAgICAqICAgV2hldGhlciB0aGUgbWFpbiBsb29wIGlzIGN1cnJlbnRseSBydW5uaW5nLlxuICAgICAqL1xuICAgIGlzUnVubmluZygpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucnVubmluZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTdG9wcyB0aGUgbWFpbiBsb29wLlxuICAgICAqXG4gICAgICogRXZlbnQgaGFuZGxpbmcgYW5kIG90aGVyIGJhY2tncm91bmQgdGFza3Mgc2hvdWxkIGFsc28gYmUgcGF1c2VkIHdoZW4gdGhlXG4gICAgICogbWFpbiBsb29wIGlzIHBhdXNlZC5cbiAgICAgKlxuICAgICAqIE5vdGUgdGhhdCBwYXVzaW5nIGluIG11bHRpcGxheWVyL211bHRpLXVzZXIgYXBwbGljYXRpb25zIHdpbGwgY2F1c2UgdGhlXG4gICAgICogcGxheWVyJ3MvdXNlcidzIGNsaWVudCB0byBiZWNvbWUgb3V0IG9mIHN5bmMuIEluIHRoaXMgY2FzZSB0aGVcbiAgICAgKiBzaW11bGF0aW9uIHNob3VsZCBleGl0LCBvciB0aGUgcGxheWVyL3VzZXIgbmVlZHMgdG8gYmUgc25hcHBlZCB0byB0aGVpclxuICAgICAqIHVwZGF0ZWQgcG9zaXRpb24gd2hlbiB0aGUgbWFpbiBsb29wIGlzIHN0YXJ0ZWQgYWdhaW4uXG4gICAgICpcbiAgICAgKiBTZWUgYWxzbyBgTWFpbkxvb3Auc3RhcnQoKWAgYW5kIGBNYWluTG9vcC5pc1J1bm5pbmcoKWAuXG4gICAgICovXG4gICAgc3RvcCgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5ydW5uaW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMuc3RhcnRlZCA9IGZhbHNlO1xuICAgICAgICB3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy5yYWYpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBtYWluIGxvb3AgdGhhdCBydW5zIHVwZGF0ZXMgYW5kIHJlbmRlcmluZy5cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge0RPTUhpZ2hSZXNUaW1lU3RhbXB9IHRpbWVzdGFtcFxuICAgICAqIFRoZSBjdXJyZW50IHRpbWVzdGFtcC4gSW4gcHJhY3RpY2UgdGhpcyBpcyBzdXBwbGllZCBieVxuICAgICAqIHJlcXVlc3RBbmltYXRpb25GcmFtZSBhdCB0aGUgdGltZSB0aGF0IGl0IHN0YXJ0cyB0byBmaXJlIGNhbGxiYWNrcy4gVGhpc1xuICAgICAqIHNob3VsZCBvbmx5IGJlIHVzZWQgZm9yIGNvbXBhcmlzb24gdG8gb3RoZXIgdGltZXN0YW1wcyBiZWNhdXNlIHRoZSBlcG9jaFxuICAgICAqIChpLmUuIHRoZSBcInplcm9cIiB0aW1lKSBkZXBlbmRzIG9uIHRoZSBlbmdpbmUgcnVubmluZyB0aGlzIGNvZGUuIEluIGVuZ2luZXNcbiAgICAgKiB0aGF0IHN1cHBvcnQgYERPTUhpZ2hSZXNUaW1lU3RhbXBgIChhbGwgbW9kZXJuIGJyb3dzZXJzIGV4Y2VwdCBpT1MgU2FmYXJpXG4gICAgICogOCkgdGhlIGVwb2NoIGlzIHRoZSB0aW1lIHRoZSBwYWdlIHN0YXJ0ZWQgbG9hZGluZywgc3BlY2lmaWNhbGx5XG4gICAgICogYHBlcmZvcm1hbmNlLnRpbWluZy5uYXZpZ2F0aW9uU3RhcnRgLiBFdmVyeXdoZXJlIGVsc2UsIGluY2x1ZGluZyBub2RlLmpzLFxuICAgICAqIHRoZSBlcG9jaCBpcyB0aGUgVW5peCBlcG9jaCAoMTk3MC0wMS0wMVQwMDowMDowMFopLlxuICAgICAqIFxuICAgICAqIEBpZ25vcmVcbiAgICAgKi9cbiAgICBhbmltYXRlKHRpbWVzdGFtcCA6IG51bWJlcik6IHZvaWQge1xuICAgICAgICAvLyBSdW4gdGhlIGxvb3AgYWdhaW4gdGhlIG5leHQgdGltZSB0aGUgYnJvd3NlciBpcyByZWFkeSB0byByZW5kZXIuXG4gICAgICAgIC8vIFdlIHNldCByYWZIYW5kbGUgaW1tZWRpYXRlbHkgc28gdGhhdCB0aGUgbmV4dCBmcmFtZSBjYW4gYmUgY2FuY2VsZWRcbiAgICAgICAgLy8gZHVyaW5nIHRoZSBjdXJyZW50IGZyYW1lLlxuICAgICAgICB0aGlzLnJhZiA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5hbmltYXRlLmJpbmQodGhpcykpO1xuXG4gICAgICAgIC8vIFRocm90dGxlIHRoZSBmcmFtZSByYXRlIChpZiBtaW5GcmFtZURlbGF5IGlzIHNldCB0byBhIG5vbi16ZXJvIHZhbHVlIGJ5XG4gICAgICAgIC8vIGBNYWluTG9vcC5zZXRNYXhBbGxvd2VkRlBTKClgKS5cbiAgICAgICAgaWYgKHRpbWVzdGFtcCA8IHRoaXMubGFzdEZyYW1lVGltZU1zICsgdGhpcy5taW5GcmFtZURlbGF5KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBmcmFtZURlbHRhIGlzIHRoZSBjdW11bGF0aXZlIGFtb3VudCBvZiBpbi1hcHAgdGltZSB0aGF0IGhhc24ndCBiZWVuXG4gICAgICAgIC8vIHNpbXVsYXRlZCB5ZXQuIEFkZCB0aGUgdGltZSBzaW5jZSB0aGUgbGFzdCBmcmFtZS4gV2UgbmVlZCB0byB0cmFjayB0b3RhbFxuICAgICAgICAvLyBub3QteWV0LXNpbXVsYXRlZCB0aW1lIChhcyBvcHBvc2VkIHRvIGp1c3QgdGhlIHRpbWUgZWxhcHNlZCBzaW5jZSB0aGVcbiAgICAgICAgLy8gbGFzdCBmcmFtZSkgYmVjYXVzZSBub3QgYWxsIGFjdHVhbGx5IGVsYXBzZWQgdGltZSBpcyBndWFyYW50ZWVkIHRvIGJlXG4gICAgICAgIC8vIHNpbXVsYXRlZCBlYWNoIGZyYW1lLiBTZWUgdGhlIGNvbW1lbnRzIGJlbG93IGZvciBkZXRhaWxzLlxuICAgICAgICB0aGlzLmZyYW1lRGVsdGEgKz0gdGltZXN0YW1wIC0gdGhpcy5sYXN0RnJhbWVUaW1lTXM7XG4gICAgICAgIHRoaXMubGFzdEZyYW1lVGltZU1zID0gdGltZXN0YW1wO1xuXG4gICAgICAgIC8vIFJ1biBhbnkgdXBkYXRlcyB0aGF0IGFyZSBub3QgZGVwZW5kZW50IG9uIHRpbWUgaW4gdGhlIHNpbXVsYXRpb24uIFNlZVxuICAgICAgICAvLyBgTWFpbkxvb3Auc2V0QmVnaW4oKWAgZm9yIGFkZGl0aW9uYWwgZGV0YWlscyBvbiBob3cgdG8gdXNlIHRoaXMuXG4gICAgICAgIHRoaXMuYmVnaW4odGltZXN0YW1wLCB0aGlzLmZyYW1lRGVsdGEpO1xuXG4gICAgICAgIC8vIFVwZGF0ZSB0aGUgZXN0aW1hdGUgb2YgdGhlIGZyYW1lIHJhdGUsIGBmcHNgLiBBcHByb3hpbWF0ZWx5IGV2ZXJ5XG4gICAgICAgIC8vIHNlY29uZCwgdGhlIG51bWJlciBvZiBmcmFtZXMgdGhhdCBvY2N1cnJlZCBpbiB0aGF0IHNlY29uZCBhcmUgaW5jbHVkZWRcbiAgICAgICAgLy8gaW4gYW4gZXhwb25lbnRpYWwgbW92aW5nIGF2ZXJhZ2Ugb2YgYWxsIGZyYW1lcyBwZXIgc2Vjb25kLiBUaGlzIG1lYW5zXG4gICAgICAgIC8vIHRoYXQgbW9yZSByZWNlbnQgc2Vjb25kcyBhZmZlY3QgdGhlIGVzdGltYXRlZCBmcmFtZSByYXRlIG1vcmUgdGhhbiBvbGRlclxuICAgICAgICAvLyBzZWNvbmRzLlxuICAgICAgICBpZiAodGltZXN0YW1wID4gdGhpcy5sYXN0RnBzVXBkYXRlICsgdGhpcy5mcHNVcGRhdGVJbnRlcnZhbCkge1xuICAgICAgICAgICAgLy8gQ29tcHV0ZSB0aGUgbmV3IGV4cG9uZW50aWFsIG1vdmluZyBhdmVyYWdlLlxuICAgICAgICAgICAgdGhpcy5mcHMgPVxuICAgICAgICAgICAgICAgIC8vIERpdmlkZSB0aGUgbnVtYmVyIG9mIGZyYW1lcyBzaW5jZSB0aGUgbGFzdCBGUFMgdXBkYXRlIGJ5IHRoZVxuICAgICAgICAgICAgICAgIC8vIGFtb3VudCBvZiB0aW1lIHRoYXQgaGFzIHBhc3NlZCB0byBnZXQgdGhlIG1lYW4gZnJhbWVzIHBlciBzZWNvbmRcbiAgICAgICAgICAgICAgICAvLyBvdmVyIHRoYXQgcGVyaW9kLiBUaGlzIGlzIG5lY2Vzc2FyeSBiZWNhdXNlIHNsaWdodGx5IG1vcmUgdGhhbiBhXG4gICAgICAgICAgICAgICAgLy8gc2Vjb25kIGhhcyBsaWtlbHkgcGFzc2VkIHNpbmNlIHRoZSBsYXN0IHVwZGF0ZS5cbiAgICAgICAgICAgICAgICB0aGlzLmZwc0FscGhhICogdGhpcy5mcmFtZXNTaW5jZUxhc3RGcHNVcGRhdGUgKiAxMDAwIC8gKHRpbWVzdGFtcCAtIHRoaXMubGFzdEZwc1VwZGF0ZSkgK1xuICAgICAgICAgICAgICAgICgxIC0gdGhpcy5mcHNBbHBoYSkgKiB0aGlzLmZwcztcblxuICAgICAgICAgICAgLy8gUmVzZXQgdGhlIGZyYW1lIGNvdW50ZXIgYW5kIGxhc3QtdXBkYXRlZCB0aW1lc3RhbXAgc2luY2UgdGhlaXJcbiAgICAgICAgICAgIC8vIGxhdGVzdCB2YWx1ZXMgaGF2ZSBub3cgYmVlbiBpbmNvcnBvcmF0ZWQgaW50byB0aGUgRlBTIGVzdGltYXRlLlxuICAgICAgICAgICAgdGhpcy5sYXN0RnBzVXBkYXRlID0gdGltZXN0YW1wO1xuICAgICAgICAgICAgdGhpcy5mcmFtZXNTaW5jZUxhc3RGcHNVcGRhdGUgPSAwO1xuICAgICAgICB9XG4gICAgICAgIC8vIENvdW50IHRoZSBjdXJyZW50IGZyYW1lIGluIHRoZSBuZXh0IGZyYW1lcy1wZXItc2Vjb25kIHVwZGF0ZS4gVGhpc1xuICAgICAgICAvLyBoYXBwZW5zIGFmdGVyIHRoZSBwcmV2aW91cyBzZWN0aW9uIGJlY2F1c2UgdGhlIHByZXZpb3VzIHNlY3Rpb25cbiAgICAgICAgLy8gY2FsY3VsYXRlcyB0aGUgZnJhbWVzIHRoYXQgb2NjdXIgdXAgdW50aWwgYHRpbWVzdGFtcGAsIGFuZCBgdGltZXN0YW1wYFxuICAgICAgICAvLyByZWZlcnMgdG8gYSB0aW1lIGp1c3QgYmVmb3JlIHRoZSBjdXJyZW50IGZyYW1lIHdhcyBkZWxpdmVyZWQuXG4gICAgICAgIHRoaXMuZnJhbWVzU2luY2VMYXN0RnBzVXBkYXRlKys7XG5cbiAgICAgICAgLypcbiAgICAgICAgICogQSBuYWl2ZSB3YXkgdG8gbW92ZSBhbiBvYmplY3QgYWxvbmcgaXRzIFgtYXhpcyBtaWdodCBiZSB0byB3cml0ZSBhIG1haW5cbiAgICAgICAgICogbG9vcCBjb250YWluaW5nIHRoZSBzdGF0ZW1lbnQgYG9iai54ICs9IDEwO2Agd2hpY2ggd291bGQgbW92ZSB0aGUgb2JqZWN0XG4gICAgICAgICAqIDEwIHVuaXRzIHBlciBmcmFtZS4gVGhpcyBhcHByb2FjaCBzdWZmZXJzIGZyb20gdGhlIGlzc3VlIHRoYXQgaXQgaXNcbiAgICAgICAgICogZGVwZW5kZW50IG9uIHRoZSBmcmFtZSByYXRlLiBJbiBvdGhlciB3b3JkcywgaWYgeW91ciBhcHBsaWNhdGlvbiBpc1xuICAgICAgICAgKiBydW5uaW5nIHNsb3dseSAodGhhdCBpcywgZmV3ZXIgZnJhbWVzIHBlciBzZWNvbmQpLCB5b3VyIG9iamVjdCB3aWxsIGFsc29cbiAgICAgICAgICogYXBwZWFyIHRvIG1vdmUgc2xvd2x5LCB3aGVyZWFzIGlmIHlvdXIgYXBwbGljYXRpb24gaXMgcnVubmluZyBxdWlja2x5XG4gICAgICAgICAqICh0aGF0IGlzLCBtb3JlIGZyYW1lcyBwZXIgc2Vjb25kKSwgeW91ciBvYmplY3Qgd2lsbCBhcHBlYXIgdG8gbW92ZVxuICAgICAgICAgKiBxdWlja2x5LiBUaGlzIGlzIHVuZGVzaXJhYmxlLCBlc3BlY2lhbGx5IGluIG11bHRpcGxheWVyL211bHRpLXVzZXJcbiAgICAgICAgICogYXBwbGljYXRpb25zLlxuICAgICAgICAgKlxuICAgICAgICAgKiBPbmUgc29sdXRpb24gaXMgdG8gbXVsdGlwbHkgdGhlIHNwZWVkIGJ5IHRoZSBhbW91bnQgb2YgdGltZSB0aGF0IGhhc1xuICAgICAgICAgKiBwYXNzZWQgYmV0d2VlbiByZW5kZXJpbmcgZnJhbWVzLiBGb3IgZXhhbXBsZSwgaWYgeW91IHdhbnQgeW91ciBvYmplY3QgdG9cbiAgICAgICAgICogbW92ZSA2MDAgdW5pdHMgcGVyIHNlY29uZCwgeW91IG1pZ2h0IHdyaXRlIGBvYmoueCArPSA2MDAgKiBkZWx0YWAsIHdoZXJlXG4gICAgICAgICAqIGBkZWx0YWAgaXMgdGhlIHRpbWUgcGFzc2VkIHNpbmNlIHRoZSBsYXN0IGZyYW1lLiAoRm9yIGNvbnZlbmllbmNlLCBsZXQnc1xuICAgICAgICAgKiBtb3ZlIHRoaXMgc3RhdGVtZW50IHRvIGFuIHVwZGF0ZSgpIGZ1bmN0aW9uIHRoYXQgdGFrZXMgYGRlbHRhYCBhcyBhXG4gICAgICAgICAqIHBhcmFtZXRlci4pIFRoaXMgd2F5LCB5b3VyIG9iamVjdCB3aWxsIG1vdmUgYSBjb25zdGFudCBkaXN0YW5jZSBvdmVyXG4gICAgICAgICAqIHRpbWUuIEhvd2V2ZXIsIGF0IGxvdyBmcmFtZSByYXRlcyBhbmQgaGlnaCBzcGVlZHMsIHlvdXIgb2JqZWN0IHdpbGwgbW92ZVxuICAgICAgICAgKiBsYXJnZSBkaXN0YW5jZXMgZXZlcnkgZnJhbWUsIHdoaWNoIGNhbiBjYXVzZSBpdCB0byBkbyBzdHJhbmdlIHRoaW5nc1xuICAgICAgICAgKiBzdWNoIGFzIG1vdmUgdGhyb3VnaCB3YWxscy4gQWRkaXRpb25hbGx5LCB3ZSB3b3VsZCBsaWtlIG91ciBwcm9ncmFtIHRvXG4gICAgICAgICAqIGJlIGRldGVybWluaXN0aWMuIFRoYXQgaXMsIGV2ZXJ5IHRpbWUgd2UgcnVuIHRoZSBhcHBsaWNhdGlvbiB3aXRoIHRoZVxuICAgICAgICAgKiBzYW1lIGlucHV0LCB3ZSB3b3VsZCBsaWtlIGV4YWN0bHkgdGhlIHNhbWUgb3V0cHV0LiBJZiB0aGUgdGltZSBiZXR3ZWVuXG4gICAgICAgICAqIGZyYW1lcyAodGhlIGBkZWx0YWApIHZhcmllcywgb3VyIG91dHB1dCB3aWxsIGRpdmVyZ2UgdGhlIGxvbmdlciB0aGVcbiAgICAgICAgICogcHJvZ3JhbSBydW5zIGR1ZSB0byBhY2N1bXVsYXRlZCByb3VuZGluZyBlcnJvcnMsIGV2ZW4gYXQgbm9ybWFsIGZyYW1lXG4gICAgICAgICAqIHJhdGVzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBBIGJldHRlciBzb2x1dGlvbiBpcyB0byBzZXBhcmF0ZSB0aGUgYW1vdW50IG9mIHRpbWUgc2ltdWxhdGVkIGluIGVhY2hcbiAgICAgICAgICogdXBkYXRlKCkgZnJvbSB0aGUgYW1vdW50IG9mIHRpbWUgYmV0d2VlbiBmcmFtZXMuIE91ciB1cGRhdGUoKSBmdW5jdGlvblxuICAgICAgICAgKiBkb2Vzbid0IG5lZWQgdG8gY2hhbmdlOyB3ZSBqdXN0IG5lZWQgdG8gY2hhbmdlIHRoZSBkZWx0YSB3ZSBwYXNzIHRvIGl0XG4gICAgICAgICAqIHNvIHRoYXQgZWFjaCB1cGRhdGUoKSBzaW11bGF0ZXMgYSBmaXhlZCBhbW91bnQgb2YgdGltZSAodGhhdCBpcywgYGRlbHRhYFxuICAgICAgICAgKiBzaG91bGQgaGF2ZSB0aGUgc2FtZSB2YWx1ZSBlYWNoIHRpbWUgdXBkYXRlKCkgaXMgY2FsbGVkKS4gVGhlIHVwZGF0ZSgpXG4gICAgICAgICAqIGZ1bmN0aW9uIGNhbiBiZSBydW4gbXVsdGlwbGUgdGltZXMgcGVyIGZyYW1lIGlmIG5lZWRlZCB0byBzaW11bGF0ZSB0aGVcbiAgICAgICAgICogdG90YWwgYW1vdW50IG9mIHRpbWUgcGFzc2VkIHNpbmNlIHRoZSBsYXN0IGZyYW1lLiAoSWYgdGhlIHRpbWUgdGhhdCBoYXNcbiAgICAgICAgICogcGFzc2VkIHNpbmNlIHRoZSBsYXN0IGZyYW1lIGlzIGxlc3MgdGhhbiB0aGUgZml4ZWQgc2ltdWxhdGlvbiB0aW1lLCB3ZVxuICAgICAgICAgKiBqdXN0IHdvbid0IHJ1biBhbiB1cGRhdGUoKSB1bnRpbCB0aGUgdGhlIG5leHQgZnJhbWUuIElmIHRoZXJlIGlzXG4gICAgICAgICAqIHVuc2ltdWxhdGVkIHRpbWUgbGVmdCBvdmVyIHRoYXQgaXMgbGVzcyB0aGFuIG91ciB0aW1lc3RlcCwgd2UnbGwganVzdFxuICAgICAgICAgKiBsZWF2ZSBpdCB0byBiZSBzaW11bGF0ZWQgZHVyaW5nIHRoZSBuZXh0IGZyYW1lLikgVGhpcyBhcHByb2FjaCBhdm9pZHNcbiAgICAgICAgICogaW5jb25zaXN0ZW50IHJvdW5kaW5nIGVycm9ycyBhbmQgZW5zdXJlcyB0aGF0IHRoZXJlIGFyZSBubyBnaWFudCBsZWFwc1xuICAgICAgICAgKiB0aHJvdWdoIHdhbGxzIGJldHdlZW4gZnJhbWVzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGF0IGlzIHdoYXQgaXMgZG9uZSBiZWxvdy4gSXQgaW50cm9kdWNlcyBhIG5ldyBwcm9ibGVtLCBidXQgaXQgaXMgYVxuICAgICAgICAgKiBtYW5hZ2VhYmxlIG9uZTogaWYgdGhlIGFtb3VudCBvZiB0aW1lIHNwZW50IHNpbXVsYXRpbmcgaXMgY29uc2lzdGVudGx5XG4gICAgICAgICAqIGxvbmdlciB0aGFuIHRoZSBhbW91bnQgb2YgdGltZSBiZXR3ZWVuIGZyYW1lcywgdGhlIGFwcGxpY2F0aW9uIGNvdWxkXG4gICAgICAgICAqIGZyZWV6ZSBhbmQgY3Jhc2ggaW4gYSBzcGlyYWwgb2YgZGVhdGguIFRoaXMgd29uJ3QgaGFwcGVuIGFzIGxvbmcgYXMgdGhlXG4gICAgICAgICAqIGZpeGVkIHNpbXVsYXRpb24gdGltZSBpcyBzZXQgdG8gYSB2YWx1ZSB0aGF0IGlzIGhpZ2ggZW5vdWdoIHRoYXRcbiAgICAgICAgICogdXBkYXRlKCkgY2FsbHMgdXN1YWxseSB0YWtlIGxlc3MgdGltZSB0aGFuIHRoZSBhbW91bnQgb2YgdGltZSB0aGV5J3JlXG4gICAgICAgICAqIHNpbXVsYXRpbmcuIElmIGl0IGRvZXMgc3RhcnQgdG8gaGFwcGVuIGFueXdheSwgc2VlIGBNYWluTG9vcC5zZXRFbmQoKWBcbiAgICAgICAgICogZm9yIGEgZGlzY3Vzc2lvbiBvZiB3YXlzIHRvIHN0b3AgaXQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEFkZGl0aW9uYWxseSwgc2VlIGBNYWluTG9vcC5zZXRVcGRhdGUoKWAgZm9yIGEgZGlzY3Vzc2lvbiBvZiBwZXJmb3JtYW5jZVxuICAgICAgICAgKiBjb25zaWRlcmF0aW9ucy5cbiAgICAgICAgICpcbiAgICAgICAgICogRnVydGhlciByZWFkaW5nIGZvciB0aG9zZSBpbnRlcmVzdGVkOlxuICAgICAgICAgKlxuICAgICAgICAgKiAtIGh0dHA6Ly9nYW1lcHJvZ3JhbW1pbmdwYXR0ZXJucy5jb20vZ2FtZS1sb29wLmh0bWxcbiAgICAgICAgICogLSBodHRwOi8vZ2FmZmVyb25nYW1lcy5jb20vZ2FtZS1waHlzaWNzL2ZpeC15b3VyLXRpbWVzdGVwL1xuICAgICAgICAgKiAtIGh0dHBzOi8vZ2FtZWFsY2hlbWlzdC53b3JkcHJlc3MuY29tLzIwMTMvMDMvMTYvdGhvdWdodHMtb24tdGhlLWphdmFzY3JpcHQtZ2FtZS1sb29wL1xuICAgICAgICAgKiAtIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvR2FtZXMvQW5hdG9teVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5udW1VcGRhdGVTdGVwcyA9IDA7XG4gICAgICAgIHdoaWxlICh0aGlzLmZyYW1lRGVsdGEgPj0gdGhpcy5zaW11bGF0aW9uVGltZXN0ZXApIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlKHRoaXMuc2ltdWxhdGlvblRpbWVzdGVwKTtcbiAgICAgICAgICAgIHRoaXMuZnJhbWVEZWx0YSAtPSB0aGlzLnNpbXVsYXRpb25UaW1lc3RlcDtcblxuICAgICAgICAgICAgLypcbiAgICAgICAgICAgICAqIFNhbml0eSBjaGVjazogYmFpbCBpZiB3ZSBydW4gdGhlIGxvb3AgdG9vIG1hbnkgdGltZXMuXG4gICAgICAgICAgICAgKlxuICAgICAgICAgICAgICogT25lIHdheSB0aGlzIGNvdWxkIGhhcHBlbiBpcyBpZiB1cGRhdGUoKSB0YWtlcyBsb25nZXIgdG8gcnVuIHRoYW5cbiAgICAgICAgICAgICAqIHRoZSB0aW1lIGl0IHNpbXVsYXRlcywgdGhlcmVieSBjYXVzaW5nIGEgc3BpcmFsIG9mIGRlYXRoLiBGb3Igd2F5c1xuICAgICAgICAgICAgICogdG8gYXZvaWQgdGhpcywgc2VlIGBNYWluTG9vcC5zZXRFbmQoKWAuIEFub3RoZXIgd2F5IHRoaXMgY291bGRcbiAgICAgICAgICAgICAqIGhhcHBlbiBpcyBpZiB0aGUgYnJvd3NlciB0aHJvdHRsZXMgc2VydmluZyBmcmFtZXMsIHdoaWNoIHR5cGljYWxseVxuICAgICAgICAgICAgICogb2NjdXJzIHdoZW4gdGhlIHRhYiBpcyBpbiB0aGUgYmFja2dyb3VuZCBvciB0aGUgZGV2aWNlIGJhdHRlcnkgaXNcbiAgICAgICAgICAgICAqIGxvdy4gQW4gZXZlbnQgb3V0c2lkZSBvZiB0aGUgbWFpbiBsb29wIHN1Y2ggYXMgYXVkaW8gcHJvY2Vzc2luZyBvclxuICAgICAgICAgICAgICogc3luY2hyb25vdXMgcmVzb3VyY2UgcmVhZHMgY291bGQgYWxzbyBjYXVzZSB0aGUgYXBwbGljYXRpb24gdG8gaGFuZ1xuICAgICAgICAgICAgICogdGVtcG9yYXJpbHkgYW5kIGFjY3VtdWxhdGUgbm90LXlldC1zaW11bGF0ZWQgdGltZSBhcyBhIHJlc3VsdC5cbiAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgKiAyNDAgaXMgY2hvc2VuIGJlY2F1c2UsIGZvciBhbnkgc2FuZSB2YWx1ZSBvZiBzaW11bGF0aW9uVGltZXN0ZXAsIDI0MFxuICAgICAgICAgICAgICogdXBkYXRlcyB3aWxsIHNpbXVsYXRlIGF0IGxlYXN0IG9uZSBzZWNvbmQsIGFuZCBpdCB3aWxsIHNpbXVsYXRlIGZvdXJcbiAgICAgICAgICAgICAqIHNlY29uZHMgd2l0aCB0aGUgZGVmYXVsdCB2YWx1ZSBvZiBzaW11bGF0aW9uVGltZXN0ZXAuIChTYWZhcmlcbiAgICAgICAgICAgICAqIG5vdGlmaWVzIHVzZXJzIHRoYXQgdGhlIHNjcmlwdCBpcyB0YWtpbmcgdG9vIGxvbmcgdG8gcnVuIGlmIGl0IHRha2VzXG4gICAgICAgICAgICAgKiBtb3JlIHRoYW4gZml2ZSBzZWNvbmRzLilcbiAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgKiBJZiB0aGVyZSBhcmUgbW9yZSB1cGRhdGVzIHRvIHJ1biBpbiBhIGZyYW1lIHRoYW4gdGhpcywgdGhlXG4gICAgICAgICAgICAgKiBhcHBsaWNhdGlvbiB3aWxsIGFwcGVhciB0byBzbG93IGRvd24gdG8gdGhlIHVzZXIgdW50aWwgaXQgY2F0Y2hlc1xuICAgICAgICAgICAgICogYmFjayB1cC4gSW4gbmV0d29ya2VkIGFwcGxpY2F0aW9ucyB0aGlzIHdpbGwgdXN1YWxseSBjYXVzZSB0aGUgdXNlclxuICAgICAgICAgICAgICogdG8gZ2V0IG91dCBvZiBzeW5jIHdpdGggdGhlaXIgcGVlcnMsIGJ1dCBpZiB0aGUgdXBkYXRlcyBhcmUgdGFraW5nXG4gICAgICAgICAgICAgKiB0aGlzIGxvbmcgYWxyZWFkeSwgdGhleSdyZSBwcm9iYWJseSBhbHJlYWR5IG91dCBvZiBzeW5jLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBpZiAoKyt0aGlzLm51bVVwZGF0ZVN0ZXBzID49IDI0MCkge1xuICAgICAgICAgICAgICAgIHRoaXMucGFuaWMgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLypcbiAgICAgICAgICogUmVuZGVyIHRoZSBzY3JlZW4uIFdlIGRvIHRoaXMgcmVnYXJkbGVzcyBvZiB3aGV0aGVyIHVwZGF0ZSgpIGhhcyBydW5cbiAgICAgICAgICogZHVyaW5nIHRoaXMgZnJhbWUgYmVjYXVzZSBpdCBpcyBwb3NzaWJsZSB0byBpbnRlcnBvbGF0ZSBiZXR3ZWVuIHVwZGF0ZXNcbiAgICAgICAgICogdG8gbWFrZSB0aGUgZnJhbWUgcmF0ZSBhcHBlYXIgZmFzdGVyIHRoYW4gdXBkYXRlcyBhcmUgYWN0dWFsbHlcbiAgICAgICAgICogaGFwcGVuaW5nLiBTZWUgYE1haW5Mb29wLnNldERyYXcoKWAgZm9yIGFuIGV4cGxhbmF0aW9uIG9mIGhvdyB0byBkb1xuICAgICAgICAgKiB0aGF0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBXZSBkcmF3IGFmdGVyIHVwZGF0aW5nIGJlY2F1c2Ugd2Ugd2FudCB0aGUgc2NyZWVuIHRvIHJlZmxlY3QgYSBzdGF0ZSBvZlxuICAgICAgICAgKiB0aGUgYXBwbGljYXRpb24gdGhhdCBpcyBhcyB1cC10by1kYXRlIGFzIHBvc3NpYmxlLiAoYE1haW5Mb29wLnN0YXJ0KClgXG4gICAgICAgICAqIGRyYXdzIHRoZSB2ZXJ5IGZpcnN0IGZyYW1lIGluIHRoZSBhcHBsaWNhdGlvbidzIGluaXRpYWwgc3RhdGUsIGJlZm9yZVxuICAgICAgICAgKiBhbnkgdXBkYXRlcyBoYXZlIG9jY3VycmVkLikgU29tZSBzb3VyY2VzIHNwZWN1bGF0ZSB0aGF0IHJlbmRlcmluZ1xuICAgICAgICAgKiBlYXJsaWVyIGluIHRoZSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgY2FsbGJhY2sgY2FuIGdldCB0aGUgc2NyZWVuIHBhaW50ZWRcbiAgICAgICAgICogZmFzdGVyOyB0aGlzIGlzIG1vc3RseSBub3QgdHJ1ZSwgYW5kIGV2ZW4gd2hlbiBpdCBpcywgaXQncyB1c3VhbGx5IGp1c3RcbiAgICAgICAgICogYSB0cmFkZS1vZmYgYmV0d2VlbiByZW5kZXJpbmcgdGhlIGN1cnJlbnQgZnJhbWUgc29vbmVyIGFuZCByZW5kZXJpbmcgdGhlXG4gICAgICAgICAqIG5leHQgZnJhbWUgbGF0ZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIFNlZSBgTWFpbkxvb3Auc2V0RHJhdygpYCBmb3IgZGV0YWlscyBhYm91dCBkcmF3KCkgaXRzZWxmLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kcmF3KHRoaXMuZnJhbWVEZWx0YSAvIHRoaXMuc2ltdWxhdGlvblRpbWVzdGVwKTtcblxuICAgICAgICAvLyBSdW4gYW55IHVwZGF0ZXMgdGhhdCBhcmUgbm90IGRlcGVuZGVudCBvbiB0aW1lIGluIHRoZSBzaW11bGF0aW9uLiBTZWVcbiAgICAgICAgLy8gYE1haW5Mb29wLnNldEVuZCgpYCBmb3IgYWRkaXRpb25hbCBkZXRhaWxzIG9uIGhvdyB0byB1c2UgdGhpcy5cbiAgICAgICAgdGhpcy5lbmQodGhpcy5mcHMsIHRoaXMucGFuaWMpO1xuXG4gICAgICAgIHRoaXMucGFuaWMgPSBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBTVUJDTEFTU0VTIE1VU1QgT1ZFUlJJREUgRk9VUiBSRVFVSVJFRCBNRVRIT0RTOlxuICAgICAgICAvLyBiZWdpblxuICAgICAgICAvLyB1cGRhdGVcbiAgICAgICAgLy8gZHJhd1xuICAgICAgICAvLyBlbmRcblxuICAgIC8qKlxuICAgICAqIEEgZnVuY3Rpb24gdGhhdCBydW5zIGF0IHRoZSBiZWdpbm5pbmcgb2YgdGhlIG1haW4gbG9vcC5cbiAgICAgKlxuICAgICAqIFRoZSBiZWdpbigpIGZ1bmN0aW9uIGlzIHR5cGljYWxseSB1c2VkIHRvIHByb2Nlc3MgaW5wdXQgYmVmb3JlIHRoZVxuICAgICAqIHVwZGF0ZXMgcnVuLiBQcm9jZXNzaW5nIGlucHV0IGhlcmUgKGluIGNodW5rcykgY2FuIHJlZHVjZSB0aGUgcnVubmluZ1xuICAgICAqIHRpbWUgb2YgZXZlbnQgaGFuZGxlcnMsIHdoaWNoIGlzIHVzZWZ1bCBiZWNhdXNlIGxvbmctcnVubmluZyBldmVudFxuICAgICAqIGhhbmRsZXJzIGNhbiBzb21ldGltZXMgZGVsYXkgZnJhbWVzLlxuICAgICAqXG4gICAgICogVW5saWtlIHtAbGluayAjc2V0VXBkYXRlIHVwZGF0ZX0oKSwgd2hpY2ggY2FuIHJ1biB6ZXJvIG9yIG1vcmUgdGltZXMgcGVyXG4gICAgICogZnJhbWUsIGJlZ2luKCkgYWx3YXlzIHJ1bnMgZXhhY3RseSBvbmNlIHBlciBmcmFtZS4gVGhpcyBtYWtlcyBpdCB1c2VmdWxcbiAgICAgKiBmb3IgYW55IHVwZGF0ZXMgdGhhdCBhcmUgbm90IGRlcGVuZGVudCBvbiB0aW1lIGluIHRoZSBzaW11bGF0aW9uLlxuICAgICAqIEV4YW1wbGVzIGluY2x1ZGUgYWRqdXN0aW5nIEhVRCBjYWxjdWxhdGlvbnMgb3IgcGVyZm9ybWluZyBsb25nLXJ1bm5pbmdcbiAgICAgKiB1cGRhdGVzIGluY3JlbWVudGFsbHkuIENvbXBhcmVkIHRvIHtAbGluayAjc2V0RW5kIGVuZH0oKSwgZ2VuZXJhbGx5XG4gICAgICogYWN0aW9ucyBzaG91bGQgb2NjdXIgaW4gYmVnaW4oKSBpZiB0aGV5IGFmZmVjdCBhbnl0aGluZyB0aGF0XG4gICAgICoge0BsaW5rICNzZXRVcGRhdGUgdXBkYXRlfSgpIG9yIHtAbGluayAjc2V0RHJhdyBkcmF3fSgpIHVzZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGJlZ2luXG4gICAgICogICBUaGUgYmVnaW4oKSBmdW5jdGlvbi5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2JlZ2luLnRpbWVzdGFtcF1cbiAgICAgKiAgIFRoZSBjdXJyZW50IHRpbWVzdGFtcCAod2hlbiB0aGUgZnJhbWUgc3RhcnRlZCksIGluIG1pbGxpc2Vjb25kcy4gVGhpc1xuICAgICAqICAgc2hvdWxkIG9ubHkgYmUgdXNlZCBmb3IgY29tcGFyaXNvbiB0byBvdGhlciB0aW1lc3RhbXBzIGJlY2F1c2UgdGhlXG4gICAgICogICBlcG9jaCAoaS5lLiB0aGUgXCJ6ZXJvXCIgdGltZSkgZGVwZW5kcyBvbiB0aGUgZW5naW5lIHJ1bm5pbmcgdGhpcyBjb2RlLlxuICAgICAqICAgSW4gZW5naW5lcyB0aGF0IHN1cHBvcnQgYERPTUhpZ2hSZXNUaW1lU3RhbXBgIChhbGwgbW9kZXJuIGJyb3dzZXJzXG4gICAgICogICBleGNlcHQgaU9TIFNhZmFyaSA4KSB0aGUgZXBvY2ggaXMgdGhlIHRpbWUgdGhlIHBhZ2Ugc3RhcnRlZCBsb2FkaW5nLFxuICAgICAqICAgc3BlY2lmaWNhbGx5IGBwZXJmb3JtYW5jZS50aW1pbmcubmF2aWdhdGlvblN0YXJ0YC4gRXZlcnl3aGVyZSBlbHNlLFxuICAgICAqICAgaW5jbHVkaW5nIG5vZGUuanMsIHRoZSBlcG9jaCBpcyB0aGUgVW5peCBlcG9jaCAoMTk3MC0wMS0wMVQwMDowMDowMFopLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbYmVnaW4uZGVsdGFdXG4gICAgICogICBUaGUgdG90YWwgZWxhcHNlZCB0aW1lIHRoYXQgaGFzIG5vdCB5ZXQgYmVlbiBzaW11bGF0ZWQsIGluXG4gICAgICogICBtaWxsaXNlY29uZHMuXG4gICAgICovXG4gICAgYWJzdHJhY3QgYmVnaW4odGltZXN0YW1wIDogbnVtYmVyLCBkZWx0YSA6IG51bWJlcikgOiB2b2lkO1xuXG4gICAgLyoqXG4gICAgICogQSBmdW5jdGlvbiB0aGF0IHJ1bnMgdXBkYXRlcyAoaS5lLiBBSSBhbmQgcGh5c2ljcykuXG4gICAgICpcbiAgICAgKiBUaGUgdXBkYXRlKCkgZnVuY3Rpb24gc2hvdWxkIHNpbXVsYXRlIGFueXRoaW5nIHRoYXQgaXMgYWZmZWN0ZWQgYnkgdGltZS5cbiAgICAgKiBJdCBjYW4gYmUgY2FsbGVkIHplcm8gb3IgbW9yZSB0aW1lcyBwZXIgZnJhbWUgZGVwZW5kaW5nIG9uIHRoZSBmcmFtZVxuICAgICAqIHJhdGUuXG4gICAgICpcbiAgICAgKiBBcyB3aXRoIGV2ZXJ5dGhpbmcgaW4gdGhlIG1haW4gbG9vcCwgdGhlIHJ1bm5pbmcgdGltZSBvZiB1cGRhdGUoKVxuICAgICAqIGRpcmVjdGx5IGFmZmVjdHMgdGhlIGZyYW1lIHJhdGUuIElmIHVwZGF0ZSgpIHRha2VzIGxvbmcgZW5vdWdoIHRoYXQgdGhlXG4gICAgICogZnJhbWUgcmF0ZSBkcm9wcyBiZWxvdyB0aGUgdGFyZ2V0IChcImJ1ZGdldGVkXCIpIGZyYW1lIHJhdGUsIHBhcnRzIG9mIHRoZVxuICAgICAqIHVwZGF0ZSgpIGZ1bmN0aW9uIHRoYXQgZG8gbm90IG5lZWQgdG8gZXhlY3V0ZSBiZXR3ZWVuIGV2ZXJ5IGZyYW1lIGNhbiBiZVxuICAgICAqIG1vdmVkIGludG8gV2ViIFdvcmtlcnMuIChWYXJpb3VzIHNvdXJjZXMgb24gdGhlIGludGVybmV0IHNvbWV0aW1lc1xuICAgICAqIHN1Z2dlc3Qgb3RoZXIgc2NoZWR1bGluZyBwYXR0ZXJucyB1c2luZyBzZXRUaW1lb3V0KCkgb3Igc2V0SW50ZXJ2YWwoKS5cbiAgICAgKiBUaGVzZSBhcHByb2FjaGVzIHNvbWV0aW1lcyBvZmZlciBtb2Rlc3QgaW1wcm92ZW1lbnRzIHdpdGggbWluaW1hbFxuICAgICAqIGNoYW5nZXMgdG8gZXhpc3RpbmcgY29kZSwgYnV0IGJlY2F1c2UgSmF2YVNjcmlwdCBpcyBzaW5nbGUtdGhyZWFkZWQsIHRoZVxuICAgICAqIHVwZGF0ZXMgd2lsbCBzdGlsbCBibG9jayByZW5kZXJpbmcgYW5kIGRyYWcgZG93biB0aGUgZnJhbWUgcmF0ZS4gV2ViXG4gICAgICogV29ya2VycyBleGVjdXRlIGluIHNlcGFyYXRlIHRocmVhZHMsIHNvIHRoZXkgZnJlZSB1cCBtb3JlIHRpbWUgaW4gdGhlXG4gICAgICogbWFpbiBsb29wLilcbiAgICAgKlxuICAgICAqIFRoaXMgc2NyaXB0IGNhbiBiZSBpbXBvcnRlZCBpbnRvIGEgV2ViIFdvcmtlciB1c2luZyBpbXBvcnRTY3JpcHRzKCkgYW5kXG4gICAgICogdXNlZCB0byBydW4gYSBzZWNvbmQgbWFpbiBsb29wIGluIHRoZSB3b3JrZXIuIFNvbWUgY29uc2lkZXJhdGlvbnM6XG4gICAgICpcbiAgICAgKiAtIFByb2ZpbGUgeW91ciBjb2RlIGJlZm9yZSBkb2luZyB0aGUgd29yayB0byBtb3ZlIGl0IGludG8gV2ViIFdvcmtlcnMuXG4gICAgICogICBJdCBjb3VsZCBiZSB0aGUgcmVuZGVyaW5nIHRoYXQgaXMgdGhlIGJvdHRsZW5lY2ssIGluIHdoaWNoIGNhc2UgdGhlXG4gICAgICogICBzb2x1dGlvbiBpcyB0byBkZWNyZWFzZSB0aGUgdmlzdWFsIGNvbXBsZXhpdHkgb2YgdGhlIHNjZW5lLlxuICAgICAqIC0gSXQgZG9lc24ndCBtYWtlIHNlbnNlIHRvIG1vdmUgdGhlICplbnRpcmUqIGNvbnRlbnRzIG9mIHVwZGF0ZSgpIGludG9cbiAgICAgKiAgIHdvcmtlcnMgdW5sZXNzIHtAbGluayAjc2V0RHJhdyBkcmF3fSgpIGNhbiBpbnRlcnBvbGF0ZSBiZXR3ZWVuIGZyYW1lcy5cbiAgICAgKiAgIFRoZSBsb3dlc3QtaGFuZ2luZyBmcnVpdCBpcyBiYWNrZ3JvdW5kIHVwZGF0ZXMgKGxpa2UgY2FsY3VsYXRpbmdcbiAgICAgKiAgIGNpdGl6ZW5zJyBoYXBwaW5lc3MgaW4gYSBjaXR5LWJ1aWxkaW5nIGdhbWUpLCBwaHlzaWNzIHRoYXQgZG9lc24ndFxuICAgICAqICAgYWZmZWN0IHRoZSBzY2VuZSAobGlrZSBmbGFncyB3YXZpbmcgaW4gdGhlIHdpbmQpLCBhbmQgYW55dGhpbmcgdGhhdCBpc1xuICAgICAqICAgb2NjbHVkZWQgb3IgaGFwcGVuaW5nIGZhciBvZmYgc2NyZWVuLlxuICAgICAqIC0gSWYgZHJhdygpIG5lZWRzIHRvIGludGVycG9sYXRlIHBoeXNpY3MgYmFzZWQgb24gYWN0aXZpdHkgdGhhdCBvY2N1cnNcbiAgICAgKiAgIGluIGEgd29ya2VyLCB0aGUgd29ya2VyIG5lZWRzIHRvIHBhc3MgdGhlIGludGVycG9sYXRpb24gdmFsdWUgYmFjayB0b1xuICAgICAqICAgdGhlIG1haW4gdGhyZWFkIHNvIHRoYXQgaXMgaXMgYXZhaWxhYmxlIHRvIGRyYXcoKS5cbiAgICAgKiAtIFdlYiBXb3JrZXJzIGNhbid0IGFjY2VzcyB0aGUgc3RhdGUgb2YgdGhlIG1haW4gdGhyZWFkLCBzbyB0aGV5IGNhbid0XG4gICAgICogICBkaXJlY3RseSBtb2RpZnkgb2JqZWN0cyBpbiB5b3VyIHNjZW5lLiBNb3ZpbmcgZGF0YSB0byBhbmQgZnJvbSBXZWJcbiAgICAgKiAgIFdvcmtlcnMgaXMgYSBwYWluLiBUaGUgZmFzdGVzdCB3YXkgdG8gZG8gaXQgaXMgd2l0aCBUcmFuc2ZlcmFibGVcbiAgICAgKiAgIE9iamVjdHM6IGJhc2ljYWxseSwgeW91IGNhbiBwYXNzIGFuIEFycmF5QnVmZmVyIHRvIGEgd29ya2VyLFxuICAgICAqICAgZGVzdHJveWluZyB0aGUgb3JpZ2luYWwgcmVmZXJlbmNlIGluIHRoZSBwcm9jZXNzLlxuICAgICAqXG4gICAgICogWW91IGNhbiByZWFkIG1vcmUgYWJvdXQgV2ViIFdvcmtlcnMgYW5kIFRyYW5zZmVyYWJsZSBPYmplY3RzIGF0XG4gICAgICogW0hUTUw1IFJvY2tzXShodHRwOi8vd3d3Lmh0bWw1cm9ja3MuY29tL2VuL3R1dG9yaWFscy93b3JrZXJzL2Jhc2ljcy8pLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gdXBkYXRlXG4gICAgICogICBUaGUgdXBkYXRlKCkgZnVuY3Rpb24uXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFt1cGRhdGUuZGVsdGFdXG4gICAgICogICBUaGUgYW1vdW50IG9mIHRpbWUgaW4gbWlsbGlzZWNvbmRzIHRvIHNpbXVsYXRlIGluIHRoZSB1cGRhdGUuIEluIG1vc3RcbiAgICAgKiAgIGNhc2VzIHRoaXMgdGltZXN0ZXAgbmV2ZXIgY2hhbmdlcyBpbiBvcmRlciB0byBlbnN1cmUgZGV0ZXJtaW5pc3RpY1xuICAgICAqICAgdXBkYXRlcy4gVGhlIHRpbWVzdGVwIGlzIHRoZSBzYW1lIGFzIHRoYXQgcmV0dXJuZWQgYnlcbiAgICAgKiAgIGBNYWluTG9vcC5nZXRTaW11bGF0aW9uVGltZXN0ZXAoKWAuXG4gICAgICovXG4gICAgYWJzdHJhY3QgdXBkYXRlKHRpbWVTdGVwIDogbnVtYmVyKSA6IHZvaWQ7XG5cbiAgICAvKipcbiAgICAgKiBBIGZ1bmN0aW9uIHRoYXQgZHJhd3MgdGhpbmdzIG9uIHRoZSBzY3JlZW4uXG4gICAgICpcbiAgICAgKiBUaGUgZHJhdygpIGZ1bmN0aW9uIGdldHMgcGFzc2VkIHRoZSBwZXJjZW50IG9mIHRpbWUgdGhhdCB0aGUgbmV4dCBydW4gb2ZcbiAgICAgKiB7QGxpbmsgI3NldFVwZGF0ZSB1cGRhdGV9KCkgd2lsbCBzaW11bGF0ZSB0aGF0IGhhcyBhY3R1YWxseSBlbGFwc2VkLCBhc1xuICAgICAqIGEgZGVjaW1hbC4gSW4gb3RoZXIgd29yZHMsIGRyYXcoKSBnZXRzIHBhc3NlZCBob3cgZmFyIGJldHdlZW4gdXBkYXRlKClcbiAgICAgKiBjYWxscyBpdCBpcy4gVGhpcyBpcyB1c2VmdWwgYmVjYXVzZSB0aGUgdGltZSBzaW11bGF0ZWQgYnkgdXBkYXRlKCkgYW5kXG4gICAgICogdGhlIHRpbWUgYmV0d2VlbiBkcmF3KCkgY2FsbHMgaXMgdXN1YWxseSBkaWZmZXJlbnQsIHNvIHRoZSBwYXJhbWV0ZXIgdG9cbiAgICAgKiBkcmF3KCkgY2FuIGJlIHVzZWQgdG8gaW50ZXJwb2xhdGUgbW90aW9uIGJldHdlZW4gZnJhbWVzIHRvIG1ha2VcbiAgICAgKiByZW5kZXJpbmcgYXBwZWFyIHNtb290aGVyLiBUbyBpbGx1c3RyYXRlLCBpZiB1cGRhdGUoKSBhZHZhbmNlcyB0aGVcbiAgICAgKiBzaW11bGF0aW9uIGF0IGVhY2ggdmVydGljYWwgYmFyIGluIHRoZSBmaXJzdCByb3cgYmVsb3csIGFuZCBkcmF3KCkgY2FsbHNcbiAgICAgKiBoYXBwZW4gYXQgZWFjaCB2ZXJ0aWNhbCBiYXIgaW4gdGhlIHNlY29uZCByb3cgYmVsb3csIHRoZW4gc29tZSBmcmFtZXNcbiAgICAgKiB3aWxsIGhhdmUgdGltZSBsZWZ0IG92ZXIgdGhhdCBpcyBub3QgeWV0IHNpbXVsYXRlZCBieSB1cGRhdGUoKSB3aGVuXG4gICAgICogcmVuZGVyaW5nIG9jY3VycyBpbiBkcmF3KCk6XG4gICAgICpcbiAgICAgKiAgICAgdXBkYXRlKCkgdGltZXN0ZXBzOiAgfCAgfCAgfCAgfCAgfCAgfCAgfCAgfCAgfFxuICAgICAqICAgICBkcmF3KCkgY2FsbHM6ICAgICAgICB8ICAgfCAgIHwgICB8ICAgfCAgIHwgICB8XG4gICAgICpcbiAgICAgKiBUbyBpbnRlcnBvbGF0ZSBtb3Rpb24gZm9yIHJlbmRlcmluZyBwdXJwb3Nlcywgb2JqZWN0cycgc3RhdGUgYWZ0ZXIgdGhlXG4gICAgICogbGFzdCB1cGRhdGUoKSBtdXN0IGJlIHJldGFpbmVkIGFuZCB1c2VkIHRvIGNhbGN1bGF0ZSBhbiBpbnRlcm1lZGlhdGVcbiAgICAgKiBzdGF0ZS4gTm90ZSB0aGF0IHRoaXMgbWVhbnMgcmVuZGVycyB3aWxsIGJlIHVwIHRvIG9uZSB1cGRhdGUoKSBiZWhpbmQuXG4gICAgICogVGhpcyBpcyBzdGlsbCBiZXR0ZXIgdGhhbiBleHRyYXBvbGF0aW5nIChwcm9qZWN0aW5nIG9iamVjdHMnIHN0YXRlIGFmdGVyXG4gICAgICogYSBmdXR1cmUgdXBkYXRlKCkpIHdoaWNoIGNhbiBwcm9kdWNlIGJpemFycmUgcmVzdWx0cy4gU3RvcmluZyBtdWx0aXBsZVxuICAgICAqIHN0YXRlcyBjYW4gYmUgZGlmZmljdWx0IHRvIHNldCB1cCwgYW5kIGtlZXAgaW4gbWluZCB0aGF0IHJ1bm5pbmcgdGhpc1xuICAgICAqIHByb2Nlc3MgdGFrZXMgdGltZSB0aGF0IGNvdWxkIHB1c2ggdGhlIGZyYW1lIHJhdGUgZG93biwgc28gaXQncyBvZnRlblxuICAgICAqIG5vdCB3b3J0aHdoaWxlIHVubGVzcyBzdHV0dGVyaW5nIGlzIHZpc2libGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBkcmF3XG4gICAgICogICBUaGUgZHJhdygpIGZ1bmN0aW9uLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbZHJhdy5pbnRlcnBvbGF0aW9uUGVyY2VudGFnZV1cbiAgICAgKiAgIFRoZSBjdW11bGF0aXZlIGFtb3VudCBvZiB0aW1lIHRoYXQgaGFzbid0IGJlZW4gc2ltdWxhdGVkIHlldCwgZGl2aWRlZFxuICAgICAqICAgYnkgdGhlIGFtb3VudCBvZiB0aW1lIHRoYXQgd2lsbCBiZSBzaW11bGF0ZWQgdGhlIG5leHQgdGltZSB1cGRhdGUoKVxuICAgICAqICAgcnVucy4gVXNlZnVsIGZvciBpbnRlcnBvbGF0aW5nIGZyYW1lcy5cbiAgICAgKi9cbiAgICBwdWJsaWMgYWJzdHJhY3QgZHJhdyhpbnRlcnBvbGF0aW9uUGVyY2VudGFnZSA6IG51bWJlcikgOiB2b2lkO1xuXG4gICAgLyoqXG4gICAgICogQSBmdW5jdGlvbiB0aGF0IHJ1bnMgYXQgdGhlIGVuZCBvZiB0aGUgbWFpbiBsb29wLlxuICAgICAqXG4gICAgICogVW5saWtlIHtAbGluayAjc2V0VXBkYXRlIHVwZGF0ZX0oKSwgd2hpY2ggY2FuIHJ1biB6ZXJvIG9yIG1vcmUgdGltZXMgcGVyXG4gICAgICogZnJhbWUsIGVuZCgpIGFsd2F5cyBydW5zIGV4YWN0bHkgb25jZSBwZXIgZnJhbWUuIFRoaXMgbWFrZXMgaXQgdXNlZnVsXG4gICAgICogZm9yIGFueSB1cGRhdGVzIHRoYXQgYXJlIG5vdCBkZXBlbmRlbnQgb24gdGltZSBpbiB0aGUgc2ltdWxhdGlvbi5cbiAgICAgKiBFeGFtcGxlcyBpbmNsdWRlIGNsZWFuaW5nIHVwIGFueSB0ZW1wb3Jhcnkgc3RhdGUgc2V0IHVwIGJ5XG4gICAgICoge0BsaW5rICNzZXRCZWdpbiBiZWdpbn0oKSwgbG93ZXJpbmcgdGhlIHZpc3VhbCBxdWFsaXR5IGlmIHRoZSBmcmFtZSByYXRlXG4gICAgICogaXMgdG9vIGxvdywgb3IgcGVyZm9ybWluZyBsb25nLXJ1bm5pbmcgdXBkYXRlcyBpbmNyZW1lbnRhbGx5LiBDb21wYXJlZFxuICAgICAqIHRvIGJlZ2luKCksIGdlbmVyYWxseSBhY3Rpb25zIHNob3VsZCBvY2N1ciBpbiBlbmQoKSBpZiB0aGV5IHVzZSBhbnl0aGluZ1xuICAgICAqIHRoYXQgdXBkYXRlKCkgb3Ige0BsaW5rICNzZXREcmF3IGRyYXd9KCkgYWZmZWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZW5kXG4gICAgICogICBUaGUgZW5kKCkgZnVuY3Rpb24uXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtlbmQuZnBzXVxuICAgICAqICAgVGhlIGV4cG9uZW50aWFsIG1vdmluZyBhdmVyYWdlIG9mIHRoZSBmcmFtZXMgcGVyIHNlY29uZC4gVGhpcyBpcyB0aGVcbiAgICAgKiAgIHNhbWUgdmFsdWUgcmV0dXJuZWQgYnkgYE1haW5Mb29wLmdldEZQUygpYC4gSXQgY2FuIGJlIHVzZWQgdG8gdGFrZVxuICAgICAqICAgYWN0aW9uIHdoZW4gdGhlIEZQUyBpcyB0b28gbG93IChvciB0byByZXN0b3JlIHRvIG5vcm1hbGN5IGlmIHRoZSBGUFNcbiAgICAgKiAgIG1vdmVzIGJhY2sgdXApLiBFeGFtcGxlcyBvZiBhY3Rpb25zIHRvIHRha2UgaWYgdGhlIEZQUyBpcyB0b28gbG93XG4gICAgICogICBpbmNsdWRlIGV4aXRpbmcgdGhlIGFwcGxpY2F0aW9uLCBsb3dlcmluZyB0aGUgdmlzdWFsIHF1YWxpdHksIHN0b3BwaW5nXG4gICAgICogICBvciByZWR1Y2luZyBhY3Rpdml0aWVzIG91dHNpZGUgb2YgdGhlIG1haW4gbG9vcCBsaWtlIGV2ZW50IGhhbmRsZXJzIG9yXG4gICAgICogICBhdWRpbyBwbGF5YmFjaywgcGVyZm9ybWluZyBub24tY3JpdGljYWwgdXBkYXRlcyBsZXNzIGZyZXF1ZW50bHksIG9yXG4gICAgICogICBpbmNyZWFzaW5nIHRoZSBzaW11bGF0aW9uIHRpbWVzdGVwIChieSBjYWxsaW5nXG4gICAgICogICBgTWFpbkxvb3Auc2V0U2ltdWxhdGlvblRpbWVzdGVwKClgKS4gTm90ZSB0aGF0IHRoaXMgbGFzdCBvcHRpb25cbiAgICAgKiAgIHJlc3VsdHMgaW4gbW9yZSB0aW1lIGJlaW5nIHNpbXVsYXRlZCBwZXIgdXBkYXRlKCkgY2FsbCwgd2hpY2ggY2F1c2VzXG4gICAgICogICB0aGUgYXBwbGljYXRpb24gdG8gYmVoYXZlIG5vbi1kZXRlcm1pbmlzdGljYWxseS5cbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtlbmQucGFuaWM9ZmFsc2VdXG4gICAgICogICBJbmRpY2F0ZXMgd2hldGhlciB0aGUgc2ltdWxhdGlvbiBoYXMgZmFsbGVuIHRvbyBmYXIgYmVoaW5kIHJlYWwgdGltZS5cbiAgICAgKiAgIFNwZWNpZmljYWxseSwgYHBhbmljYCB3aWxsIGJlIGB0cnVlYCBpZiB0b28gbWFueSB1cGRhdGVzIG9jY3VycmVkIGluXG4gICAgICogICBvbmUgZnJhbWUuIEluIG5ldHdvcmtlZCBsb2Nrc3RlcCBhcHBsaWNhdGlvbnMsIHRoZSBhcHBsaWNhdGlvbiBzaG91bGRcbiAgICAgKiAgIHdhaXQgZm9yIHNvbWUgYW1vdW50IG9mIHRpbWUgdG8gc2VlIGlmIHRoZSB1c2VyIGNhbiBjYXRjaCB1cCBiZWZvcmVcbiAgICAgKiAgIGRyb3BwaW5nIHRoZSB1c2VyLiBJbiBuZXR3b3JrZWQgYnV0IG5vbi1sb2Nrc3RlcCBhcHBsaWNhdGlvbnMsIHRoaXNcbiAgICAgKiAgIHR5cGljYWxseSBpbmRpY2F0ZXMgdGhhdCB0aGUgdXNlciBuZWVkcyB0byBiZSBzbmFwcGVkIG9yIGVhc2VkIHRvIHRoZVxuICAgICAqICAgY3VycmVudCBhdXRob3JpdGF0aXZlIHN0YXRlLiBXaGVuIHRoaXMgaGFwcGVucywgaXQgbWF5IGJlIGNvbnZlbmllbnRcbiAgICAgKiAgIHRvIGNhbGwgYE1haW5Mb29wLnJlc2V0RnJhbWVEZWx0YSgpYCB0byBkaXNjYXJkIGFjY3VtdWxhdGVkIHBlbmRpbmdcbiAgICAgKiAgIHVwZGF0ZXMuIEluIG5vbi1uZXR3b3JrZWQgYXBwbGljYXRpb25zLCBpdCBtYXkgYmUgYWNjZXB0YWJsZSB0byBhbGxvd1xuICAgICAqICAgdGhlIGFwcGxpY2F0aW9uIHRvIGtlZXAgcnVubmluZyBmb3IgYXdoaWxlIHRvIHNlZSBpZiBpdCB3aWxsIGNhdGNoIHVwLlxuICAgICAqICAgSG93ZXZlciwgdGhpcyBjb3VsZCBhbHNvIGNhdXNlIHRoZSBhcHBsaWNhdGlvbiB0byBsb29rIGxpa2UgaXQgaXNcbiAgICAgKiAgIHJ1bm5pbmcgdmVyeSBxdWlja2x5IGZvciBhIGZldyBmcmFtZXMgYXMgaXQgdHJhbnNpdGlvbnMgdGhyb3VnaCB0aGVcbiAgICAgKiAgIGludGVybWVkaWF0ZSBzdGF0ZXMuIEFuIGFsdGVybmF0aXZlIHRoYXQgbWF5IGJlIGFjY2VwdGFibGUgaXMgdG9cbiAgICAgKiAgIHNpbXBseSBpZ25vcmUgdGhlIHVuc2ltdWxhdGVkIGVsYXBzZWQgdGltZSBieSBjYWxsaW5nXG4gICAgICogICBgTWFpbkxvb3AucmVzZXRGcmFtZURlbHRhKClgIGV2ZW4gdGhvdWdoIHRoaXMgaW50cm9kdWNlc1xuICAgICAqICAgbm9uLWRldGVybWluaXN0aWMgYmVoYXZpb3IuIEluIGFsbCBjYXNlcywgaWYgdGhlIGFwcGxpY2F0aW9uIHBhbmljc1xuICAgICAqICAgZnJlcXVlbnRseSwgdGhpcyBpcyBhbiBpbmRpY2F0aW9uIHRoYXQgdGhlIG1haW4gbG9vcCBpcyBydW5uaW5nIHRvb1xuICAgICAqICAgc2xvd2x5LiBIb3dldmVyLCBtb3N0IG9mIHRoZSB0aW1lIHRoZSBkcm9wIGluIGZyYW1lIHJhdGUgd2lsbCBwcm9iYWJseVxuICAgICAqICAgYmUgbm90aWNlYWJsZSBiZWZvcmUgYSBwYW5pYyBvY2N1cnMuIFRvIGhlbHAgdGhlIGFwcGxpY2F0aW9uIGNhdGNoIHVwXG4gICAgICogICBhZnRlciBhIHBhbmljIGNhdXNlZCBieSBhIHNwaXJhbCBvZiBkZWF0aCwgdGhlIHNhbWUgc3RlcHMgY2FuIGJlIHRha2VuXG4gICAgICogICB0aGF0IGFyZSBzdWdnZXN0ZWQgYWJvdmUgaWYgdGhlIEZQUyBkcm9wcyB0b28gbG93LlxuICAgICAqL1xuICAgIGFic3RyYWN0IGVuZChmcHMgOiBudW1iZXIsIHBhbmljIDogYm9vbGVhbikgOiB2b2lkO1xufSIsIi8qXG4gKiBNYXRoVXRpbGl0aWVzIHByb3ZpZGVzIGEgbnVtYmVyIG9mIHNlcnZpY2VzIGZvciByZW5kZXJpbmcgdXNpbmcgNHg0IG1hdHJpY2VzLCBsaWtlXG4gKiB0cmFuc2Zvcm10aW5nIChpLmUuIHRyYW5zbGF0aW9uLCByb3RhdGlvbiwgYW5kIHNjYWxpbmcpIDNkIG9yIDJkIHBvaW50cyBmcm9tIHdvcmxkXG4gKiBjb29yZGluYXRlIHN5c3RlbXMgdG8gc2NyZWVuIGNvb3JkaW5hdGUgc3lzdGVtcy5cbiAqL1xuaW1wb3J0IHtNYXRyaXh9IGZyb20gJy4vTWF0cml4J1xuaW1wb3J0IHtWZWN0b3IzfSBmcm9tICcuL1ZlY3RvcjMnXG5cbmV4cG9ydCBuYW1lc3BhY2UgTWF0aFV0aWxpdGllcyB7XG4gICAgZXhwb3J0IGZ1bmN0aW9uIGRldGVybWluYW50NHg0KHJlc3VsdCA6IE1hdHJpeCkgOiBudW1iZXIge1xuICAgICAgICBsZXQgZGV0MCA9IHJlc3VsdC5nZXQoMCwgMCkgKiAoXG4gICAgICAgICAgICAocmVzdWx0LmdldCgxLCAxKSAqICgocmVzdWx0LmdldCgyLCAyKSAqIHJlc3VsdC5nZXQoMywgMykpIC0gKHJlc3VsdC5nZXQoMiwgMykgKiByZXN1bHQuZ2V0KDMsIDIpKSkpXG4gICAgICAgICAgICAtIChyZXN1bHQuZ2V0KDEsIDIpICogKChyZXN1bHQuZ2V0KDIsIDEpICogcmVzdWx0LmdldCgzLCAzKSkgLSAocmVzdWx0LmdldCgyLCAzKSAqIHJlc3VsdC5nZXQoMywgMSkpKSlcbiAgICAgICAgICAgICsgKHJlc3VsdC5nZXQoMSwgMykgKiAoKHJlc3VsdC5nZXQoMiwgMSkgKiByZXN1bHQuZ2V0KDMsIDIpKSAtIChyZXN1bHQuZ2V0KDMsIDEpICogcmVzdWx0LmdldCgyLCAyKSkpKSk7XG4gICAgICAgIGxldCBkZXQxID0gcmVzdWx0LmdldCgwLCAxKSAqIChcbiAgICAgICAgICAgIChyZXN1bHQuZ2V0KDEsIDApICogKChyZXN1bHQuZ2V0KDIsIDIpICogcmVzdWx0LmdldCgzLCAzKSkgLSAocmVzdWx0LmdldCgyLCAzKSAqIHJlc3VsdC5nZXQoMywgMikpKSlcbiAgICAgICAgICAgIC0gKHJlc3VsdC5nZXQoMSwgMikgKiAoKHJlc3VsdC5nZXQoMiwgMCkgKiByZXN1bHQuZ2V0KDMsIDMpKSAtIChyZXN1bHQuZ2V0KDMsIDApICogcmVzdWx0LmdldCgyLCAzKSkpKVxuICAgICAgICAgICAgKyAocmVzdWx0LmdldCgxLCAzKSAqICgocmVzdWx0LmdldCgyLCAwKSAqIHJlc3VsdC5nZXQoMywgMikpIC0gKHJlc3VsdC5nZXQoMywgMCkgKiByZXN1bHQuZ2V0KDIsIDIpKSkpKTtcbiAgICAgICAgbGV0IGRldDIgPSByZXN1bHQuZ2V0KDAsIDIpICogKFxuICAgICAgICAgICAgKHJlc3VsdC5nZXQoMSwgMCkgKiAoKHJlc3VsdC5nZXQoMiwgMSkgKiByZXN1bHQuZ2V0KDMsIDMpKSAtIChyZXN1bHQuZ2V0KDIsIDMpICogcmVzdWx0LmdldCgzLCAxKSkpKVxuICAgICAgICAgICAgLSAocmVzdWx0LmdldCgxLCAxKSAqICgocmVzdWx0LmdldCgyLCAwKSAqIHJlc3VsdC5nZXQoMywgMykpIC0gKHJlc3VsdC5nZXQoMiwgMykgKiByZXN1bHQuZ2V0KDMsIDApKSkpXG4gICAgICAgICAgICArIChyZXN1bHQuZ2V0KDEsIDMpICogKChyZXN1bHQuZ2V0KDIsIDApICogcmVzdWx0LmdldCgzLCAxKSkgLSAocmVzdWx0LmdldCgyLCAxKSAqIHJlc3VsdC5nZXQoMywgMCkpKSkpO1xuICAgICAgICBsZXQgZGV0MyA9IHJlc3VsdC5nZXQoMCwgMykgKiAoXG4gICAgICAgICAgICAocmVzdWx0LmdldCgxLCAwKSAqICgocmVzdWx0LmdldCgyLCAxKSAqIHJlc3VsdC5nZXQoMywgMikpIC0gKHJlc3VsdC5nZXQoMiwgMikgKiByZXN1bHQuZ2V0KDMsIDEpKSkpXG4gICAgICAgICAgICAtIChyZXN1bHQuZ2V0KDEsIDEpICogKChyZXN1bHQuZ2V0KDIsIDApICogcmVzdWx0LmdldCgzLCAyKSkgLSAocmVzdWx0LmdldCgyLCAyKSAqIHJlc3VsdC5nZXQoMywgMCkpKSlcbiAgICAgICAgICAgICsgKHJlc3VsdC5nZXQoMSwgMikgKiAoKHJlc3VsdC5nZXQoMiwgMCkgKiByZXN1bHQuZ2V0KDMsIDEpKSAtIChyZXN1bHQuZ2V0KDIsIDEpICogcmVzdWx0LmdldCgzLCAwKSkpKSk7XG4gICAgICAgIGxldCBkZXQgPSBkZXQwIC0gZGV0MSArIGRldDIgLSBkZXQzO1xuICAgICAgICBjb25zb2xlLmxvZyhcImRldCA9IFwiICsgZGV0MCArIFwiICsgXCIgKyBkZXQxICsgXCIgKyBcIiArIGRldDIgKyBcIiArIFwiICsgZGV0Myk7XG4gICAgICAgIHJldHVybiBkZXQ7XG4gICAgfVxuICAgIGV4cG9ydCBmdW5jdGlvbiBpZGVudGl0eShyZXN1bHQgOiBNYXRyaXgpIDogdm9pZCB7XG4gICAgICAgIGlmIChyZXN1bHQuZ2V0Um93cygpID09PSByZXN1bHQuZ2V0Q29sdW1ucygpKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJlc3VsdC5nZXRSb3dzKCk7IGkrKykge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgcmVzdWx0LmdldENvbHVtbnMoKTsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpID09PSBqKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnNldCgxLjAsIGksIGopO1xuICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQuc2V0KDAuMCwgaSwgaik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGV4cG9ydCBmdW5jdGlvbiBpbnZlcnNlKHJlc3VsdCA6IE1hdHJpeCwgbWF0IDogTWF0cml4KSA6IHZvaWQge1xuICAgICAgICBsZXQgZGV0ID0gdGhpcy5kZXRlcm1pbmFudChtYXQpO1xuICAgICAgICBsZXQgbTAwID0gbWF0LmdldCgwLCAwKTsgbGV0IG0wMSA9IG1hdC5nZXQoMCwgMSk7IGxldCBtMDIgPSBtYXQuZ2V0KDAsIDIpOyBsZXQgbTAzID0gbWF0LmdldCgwLCAzKTtcbiAgICAgICAgbGV0IG0xMCA9IG1hdC5nZXQoMSwgMCk7IGxldCBtMTEgPSBtYXQuZ2V0KDEsIDEpOyBsZXQgbTEyID0gbWF0LmdldCgxLCAyKTsgbGV0IG0xMyA9IG1hdC5nZXQoMSwgMyk7XG4gICAgICAgIGxldCBtMjAgPSBtYXQuZ2V0KDIsIDApOyBsZXQgbTIxID0gbWF0LmdldCgyLCAxKTsgbGV0IG0yMiA9IG1hdC5nZXQoMiwgMik7IGxldCBtMjMgPSBtYXQuZ2V0KDIsIDMpO1xuICAgICAgICBsZXQgbTMwID0gbWF0LmdldCgzLCAwKTsgbGV0IG0zMSA9IG1hdC5nZXQoMywgMSk7IGxldCBtMzIgPSBtYXQuZ2V0KDMsIDIpOyBsZXQgbTMzID0gbWF0LmdldCgzLCAzKTtcbiAgICAgICAgbGV0IHRlbXAgPSBuZXcgTWF0cml4KDQsIDQpO1xuICAgICAgICB0ZW1wLnNldCgobTEyICogbTIzICogbTMxKSAtIChtMTMgKiBtMjIgKiBtMzEpICsgKG0xMyAqIG0yMSAqIG0zMikgLSAobTExICogbTIzICogbTMyKSAtIChtMTIgKiBtMjEgKiBtMzMpICsgKG0xMSAqIG0yMiAqIG0zMyksIDAsIDApO1xuICAgICAgICB0ZW1wLnNldCgobTAzICogbTIyICogbTMxKSAtIChtMDIgKiBtMjMgKiBtMzEpIC0gKG0wMyAqIG0yMSAqIG0zMikgKyAobTAxICogbTIzICogbTMyKSArIChtMDIgKiBtMjEgKiBtMzMpIC0gKG0wMSAqIG0yMiAqIG0zMyksIDAsIDEpO1xuICAgICAgICB0ZW1wLnNldCgobTAyICogbTEzICogbTMxKSAtIChtMDMgKiBtMTIgKiBtMzEpICsgKG0wMyAqIG0xMSAqIG0zMikgLSAobTAxICogbTEzICogbTMyKSAtIChtMDIgKiBtMTEgKiBtMzMpICsgKG0wMSAqIG0xMiAqIG0zMyksIDAsIDIpO1xuICAgICAgICB0ZW1wLnNldCgobTAzICogbTEyICogbTIxKSAtIChtMDIgKiBtMTMgKiBtMjEpIC0gKG0wMyAqIG0xMSAqIG0yMikgKyAobTAxICogbTEzICogbTIyKSArIChtMDIgKiBtMTEgKiBtMjMpIC0gKG0wMSAqIG0xMiAqIG0yMyksIDAsIDMpO1xuICAgICAgICB0ZW1wLnNldCgobTEzICogbTIyICogbTMwKSAtIChtMTIgKiBtMjMgKiBtMzApIC0gKG0xMyAqIG0yMCAqIG0zMikgKyAobTEwICogbTIzICogbTMyKSArIChtMTIgKiBtMjAgKiBtMzMpIC0gKG0xMCAqIG0yMiAqIG0zMyksIDEsIDApO1xuICAgICAgICB0ZW1wLnNldCgobTAyICogbTIzICogbTMwKSAtIChtMDMgKiBtMjIgKiBtMzApICsgKG0wMyAqIG0yMCAqIG0zMikgLSAobTAwICogbTIzICogbTMyKSAtIChtMDIgKiBtMjAgKiBtMzMpICsgKG0wMCAqIG0yMiAqIG0zMyksIDEsIDEpO1xuICAgICAgICB0ZW1wLnNldCgobTAzICogbTEyICogbTMwKSAtIChtMDIgKiBtMTMgKiBtMzApIC0gKG0wMyAqIG0xMCAqIG0zMikgKyAobTAwICogbTEzICogbTMyKSArIChtMDIgKiBtMTAgKiBtMzMpIC0gKG0wMCAqIG0xMiAqIG0zMyksIDEsIDIpO1xuICAgICAgICB0ZW1wLnNldCgobTAyICogbTEzICogbTIwKSAtIChtMDMgKiBtMTIgKiBtMjApICsgKG0wMyAqIG0xMCAqIG0yMikgLSAobTAwICogbTEzICogbTIyKSAtIChtMDIgKiBtMTAgKiBtMjMpICsgKG0wMCAqIG0xMiAqIG0yMyksIDEsIDMpO1xuICAgICAgICB0ZW1wLnNldCgobTExICogbTIzICogbTMwKSAtIChtMTMgKiBtMjEgKiBtMzApICsgKG0xMyAqIG0yMCAqIG0zMSkgLSAobTEwICogbTIzICogbTMxKSAtIChtMTEgKiBtMjAgKiBtMzMpICsgKG0xMCAqIG0yMSAqIG0zMyksIDIsIDApO1xuICAgICAgICB0ZW1wLnNldCgobTAzICogbTIxICogbTMwKSAtIChtMDEgKiBtMjMgKiBtMzApIC0gKG0wMyAqIG0yMCAqIG0zMSkgKyAobTAwICogbTIzICogbTMxKSArIChtMDEgKiBtMjAgKiBtMzMpIC0gKG0wMCAqIG0yMSAqIG0zMyksIDIsIDEpO1xuICAgICAgICB0ZW1wLnNldCgobTAxICogbTEzICogbTMwKSAtIChtMDMgKiBtMTEgKiBtMzApICsgKG0wMyAqIG0xMCAqIG0zMSkgLSAobTAwICogbTEzICogbTMxKSAtIChtMDEgKiBtMTAgKiBtMzMpICsgKG0wMCAqIG0xMSAqIG0zMyksIDIsIDIpO1xuICAgICAgICB0ZW1wLnNldCgobTAzICogbTExICogbTIwKSAtIChtMDEgKiBtMTMgKiBtMjApIC0gKG0wMyAqIG0xMCAqIG0yMSkgKyAobTAwICogbTEzICogbTIxKSArIChtMDEgKiBtMTAgKiBtMjMpIC0gKG0wMCAqIG0xMSAqIG0yMyksIDIsIDMpO1xuICAgICAgICB0ZW1wLnNldCgobTEyICogbTIxICogbTMwKSAtIChtMTEgKiBtMjIgKiBtMzApIC0gKG0xMiAqIG0yMCAqIG0zMSkgKyAobTEwICogbTIyICogbTMxKSArIChtMTEgKiBtMjAgKiBtMzIpIC0gKG0xMCAqIG0yMSAqIG0zMiksIDMsIDApO1xuICAgICAgICB0ZW1wLnNldCgobTAxICogbTIyICogbTMwKSAtIChtMDIgKiBtMjEgKiBtMzApICsgKG0wMiAqIG0yMCAqIG0zMSkgLSAobTAwICogbTIyICogbTMxKSAtIChtMDEgKiBtMjAgKiBtMzIpICsgKG0wMCAqIG0yMSAqIG0zMiksIDMsIDEpO1xuICAgICAgICB0ZW1wLnNldCgobTAyICogbTExICogbTMwKSAtIChtMDEgKiBtMTIgKiBtMzApIC0gKG0wMiAqIG0xMCAqIG0zMSkgKyAobTAwICogbTEyICogbTMxKSArIChtMDEgKiBtMTAgKiBtMzIpIC0gKG0wMCAqIG0xMSAqIG0zMiksIDMsIDIpO1xuICAgICAgICB0ZW1wLnNldCgobTAxICogbTEyICogbTIwKSAtIChtMDIgKiBtMTEgKiBtMjApICsgKG0wMiAqIG0xMCAqIG0yMSkgLSAobTAwICogbTEyICogbTIxKSAtIChtMDEgKiBtMTAgKiBtMjIpICsgKG0wMCAqIG0xMSAqIG0yMiksIDMsIDMpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDQ7IGkrKykge1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCA0OyBqKyspIHtcbiAgICAgICAgICAgICAgICByZXN1bHQuc2V0KHRlbXAuZ2V0KGksIGopIC8gZGV0LCBpLCBqKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBleHBvcnQgZnVuY3Rpb24gbW9kZWwocmVzdWx0IDogTWF0cml4LCB0cmFuc2xhdGlvbiA6IFZlY3RvcjMsIHJvdGF0aW9uIDogVmVjdG9yMywgc2NhbGUgOiBWZWN0b3IzKSA6IHZvaWQge1xuICAgICAgICAvLyBUUkFOU0xBVElPTiBNQVRSSVhcdFxuICAgICAgICBsZXQgdHJhbnNsYXRpb25NYXRyaXggPSBuZXcgTWF0cml4KDQsIDQpO1xuICAgICAgICB0aGlzLmlkZW50aXR5KHRyYW5zbGF0aW9uTWF0cml4KTtcbiAgICAgICAgdGhpcy50cmFuc2xhdGUodHJhbnNsYXRpb25NYXRyaXgsIHRyYW5zbGF0aW9uKTtcblxuICAgICAgICAvLyBST1RBVElPTiBNQVRSSVhcbiAgICAgICAgbGV0IHJvdGF0aW9uTWF0cml4ID0gbmV3IE1hdHJpeCg0LCA0KTtcbiAgICAgICAgdGhpcy5pZGVudGl0eShyb3RhdGlvbk1hdHJpeCk7XG4gICAgICAgIHRoaXMucm90YXRlKHJvdGF0aW9uTWF0cml4LCByb3RhdGlvbik7XG5cbiAgICAgICAgLy8gU0NBTElORyBNQVRSSVhcbiAgICAgICAgbGV0IHNjYWxlTWF0cml4ID0gbmV3IE1hdHJpeCg0LCA0KTtcbiAgICAgICAgdGhpcy5pZGVudGl0eShzY2FsZU1hdHJpeCk7XG4gICAgICAgIHRoaXMuc2NhbGUoc2NhbGVNYXRyaXgsIHNjYWxlKTtcblxuICAgICAgICAvLyBBTkQgTk9XIE1VTFRJUExZIFRIRU0gVE9HRVRIRVIgSU4gVEhFIENPUlJFQ1QgT1JERVJcbiAgICAgICAgbGV0IHRlbXBNYXRyaXggPSBuZXcgTWF0cml4KDQsIDQpO1xuICAgICAgICB0aGlzLm11bHRpcGx5KHRlbXBNYXRyaXgsIHRyYW5zbGF0aW9uTWF0cml4LCByb3RhdGlvbk1hdHJpeCk7XG4gICAgICAgIHRoaXMubXVsdGlwbHkocmVzdWx0LCB0ZW1wTWF0cml4LCBzY2FsZU1hdHJpeCk7XG4gICAgfVxuXG4gICAgZXhwb3J0IGZ1bmN0aW9uIG11bHRpcGx5KHJlc3VsdCA6IE1hdHJpeCwgbWF0MCA6IE1hdHJpeCwgbWF0MSA6IE1hdHJpeCkgOiB2b2lkIHtcbiAgICAgICAgLy8gcmVzdWx0IE1JR0hUIEJFIG1hdDAgT1IgbWF0MSBTTyBJVCdTIEJFU1QgSUYgV0VcbiAgICAgICAgLy8gQ0FMQ1VMQVRFIFRFTVAgVkFMVUVTIEZJUlNUIEJFRk9SRSBBU1NJR05NRU5UXG4gICAgICAgIGxldCByMDAgPSAobWF0MC5nZXQoMCwgMCkgKiBtYXQxLmdldCgwLCAwKSlcbiAgICAgICAgICAgICsgKG1hdDAuZ2V0KDAsIDEpICogbWF0MS5nZXQoMSwgMCkpXG4gICAgICAgICAgICArIChtYXQwLmdldCgwLCAyKSAqIG1hdDEuZ2V0KDIsIDApKVxuICAgICAgICAgICAgKyAobWF0MC5nZXQoMCwgMykgKiBtYXQxLmdldCgzLCAwKSk7XG4gICAgICAgIGxldCByMTAgPSAobWF0MC5nZXQoMSwgMCkgKiBtYXQxLmdldCgwLCAwKSlcbiAgICAgICAgICAgICsgKG1hdDAuZ2V0KDEsIDEpICogbWF0MS5nZXQoMSwgMCkpXG4gICAgICAgICAgICArIChtYXQwLmdldCgxLCAyKSAqIG1hdDEuZ2V0KDIsIDApKVxuICAgICAgICAgICAgKyAobWF0MC5nZXQoMSwgMykgKiBtYXQxLmdldCgzLCAwKSk7XG4gICAgICAgIGxldCByMjAgPSAobWF0MC5nZXQoMiwgMCkgKiBtYXQxLmdldCgwLCAwKSlcbiAgICAgICAgICAgICsgKG1hdDAuZ2V0KDIsIDEpICogbWF0MS5nZXQoMSwgMCkpXG4gICAgICAgICAgICArIChtYXQwLmdldCgyLCAyKSAqIG1hdDEuZ2V0KDIsIDApKVxuICAgICAgICAgICAgKyAobWF0MC5nZXQoMiwgMykgKiBtYXQxLmdldCgzLCAwKSk7XG4gICAgICAgIGxldCByMzAgPSAobWF0MC5nZXQoMywgMCkgKiBtYXQxLmdldCgwLCAwKSlcbiAgICAgICAgICAgICsgKG1hdDAuZ2V0KDMsIDEpICogbWF0MS5nZXQoMSwgMCkpXG4gICAgICAgICAgICArIChtYXQwLmdldCgzLCAyKSAqIG1hdDEuZ2V0KDIsIDApKVxuICAgICAgICAgICAgKyAobWF0MC5nZXQoMywgMykgKiBtYXQxLmdldCgzLCAwKSk7XG4gICAgICAgIGxldCByMDEgPSAobWF0MC5nZXQoMCwgMCkgKiBtYXQxLmdldCgwLCAxKSlcbiAgICAgICAgICAgICsgKG1hdDAuZ2V0KDAsIDEpICogbWF0MS5nZXQoMSwgMSkpXG4gICAgICAgICAgICArIChtYXQwLmdldCgwLCAyKSAqIG1hdDEuZ2V0KDIsIDEpKVxuICAgICAgICAgICAgKyAobWF0MC5nZXQoMCwgMykgKiBtYXQxLmdldCgzLCAxKSk7XG4gICAgICAgIGxldCByMTEgPSAobWF0MC5nZXQoMSwgMCkgKiBtYXQxLmdldCgwLCAxKSlcbiAgICAgICAgICAgICsgKG1hdDAuZ2V0KDEsIDEpICogbWF0MS5nZXQoMSwgMSkpXG4gICAgICAgICAgICArIChtYXQwLmdldCgxLCAyKSAqIG1hdDEuZ2V0KDIsIDEpKVxuICAgICAgICAgICAgKyAobWF0MC5nZXQoMSwgMykgKiBtYXQxLmdldCgzLCAxKSk7XG4gICAgICAgIGxldCByMjEgPSAobWF0MC5nZXQoMiwgMCkgKiBtYXQxLmdldCgwLCAxKSlcbiAgICAgICAgICAgICsgKG1hdDAuZ2V0KDIsIDEpICogbWF0MS5nZXQoMSwgMSkpXG4gICAgICAgICAgICArIChtYXQwLmdldCgyLCAyKSAqIG1hdDEuZ2V0KDIsIDEpKVxuICAgICAgICAgICAgKyAobWF0MC5nZXQoMiwgMykgKiBtYXQxLmdldCgzLCAxKSk7XG4gICAgICAgIGxldCByMzEgPSAobWF0MC5nZXQoMywgMCkgKiBtYXQxLmdldCgwLCAxKSlcbiAgICAgICAgICAgICsgKG1hdDAuZ2V0KDMsIDEpICogbWF0MS5nZXQoMSwgMSkpXG4gICAgICAgICAgICArIChtYXQwLmdldCgzLCAyKSAqIG1hdDEuZ2V0KDIsIDEpKVxuICAgICAgICAgICAgKyAobWF0MC5nZXQoMywgMykgKiBtYXQxLmdldCgzLCAxKSk7XG4gICAgICAgIGxldCByMDIgPSAobWF0MC5nZXQoMCwgMCkgKiBtYXQxLmdldCgwLCAyKSlcbiAgICAgICAgICAgICsgKG1hdDAuZ2V0KDAsIDEpICogbWF0MS5nZXQoMSwgMikpXG4gICAgICAgICAgICArIChtYXQwLmdldCgwLCAyKSAqIG1hdDEuZ2V0KDIsIDIpKVxuICAgICAgICAgICAgKyAobWF0MC5nZXQoMCwgMykgKiBtYXQxLmdldCgzLCAyKSk7XG4gICAgICAgIGxldCByMTIgPSAobWF0MC5nZXQoMSwgMCkgKiBtYXQxLmdldCgwLCAyKSlcbiAgICAgICAgICAgICsgKG1hdDAuZ2V0KDEsIDEpICogbWF0MS5nZXQoMSwgMikpXG4gICAgICAgICAgICArIChtYXQwLmdldCgxLCAyKSAqIG1hdDEuZ2V0KDIsIDIpKVxuICAgICAgICAgICAgKyAobWF0MC5nZXQoMSwgMykgKiBtYXQxLmdldCgzLCAyKSk7XG4gICAgICAgIGxldCByMjIgPSAobWF0MC5nZXQoMiwgMCkgKiBtYXQxLmdldCgwLCAyKSlcbiAgICAgICAgICAgICsgKG1hdDAuZ2V0KDIsIDEpICogbWF0MS5nZXQoMSwgMikpXG4gICAgICAgICAgICArIChtYXQwLmdldCgyLCAyKSAqIG1hdDEuZ2V0KDIsIDIpKVxuICAgICAgICAgICAgKyAobWF0MC5nZXQoMiwgMykgKiBtYXQxLmdldCgzLCAyKSk7XG4gICAgICAgIGxldCByMzIgPSAobWF0MC5nZXQoMywgMCkgKiBtYXQxLmdldCgwLCAyKSlcbiAgICAgICAgICAgICsgKG1hdDAuZ2V0KDMsIDEpICogbWF0MS5nZXQoMSwgMikpXG4gICAgICAgICAgICArIChtYXQwLmdldCgzLCAyKSAqIG1hdDEuZ2V0KDIsIDIpKVxuICAgICAgICAgICAgKyAobWF0MC5nZXQoMywgMykgKiBtYXQxLmdldCgzLCAyKSk7XG4gICAgICAgIGxldCByMDMgPSAobWF0MC5nZXQoMCwgMCkgKiBtYXQxLmdldCgwLCAzKSlcbiAgICAgICAgICAgICsgKG1hdDAuZ2V0KDAsIDEpICogbWF0MS5nZXQoMSwgMykpXG4gICAgICAgICAgICArIChtYXQwLmdldCgwLCAyKSAqIG1hdDEuZ2V0KDIsIDMpKVxuICAgICAgICAgICAgKyAobWF0MC5nZXQoMCwgMykgKiBtYXQxLmdldCgzLCAzKSk7XG4gICAgICAgIGxldCByMTMgPSAobWF0MC5nZXQoMSwgMCkgKiBtYXQxLmdldCgwLCAzKSlcbiAgICAgICAgICAgICsgKG1hdDAuZ2V0KDEsIDEpICogbWF0MS5nZXQoMSwgMykpXG4gICAgICAgICAgICArIChtYXQwLmdldCgxLCAyKSAqIG1hdDEuZ2V0KDIsIDMpKVxuICAgICAgICAgICAgKyAobWF0MC5nZXQoMSwgMykgKiBtYXQxLmdldCgzLCAzKSk7XG4gICAgICAgIGxldCByMjMgPSAobWF0MC5nZXQoMiwgMCkgKiBtYXQxLmdldCgwLCAzKSlcbiAgICAgICAgICAgICsgKG1hdDAuZ2V0KDIsIDEpICogbWF0MS5nZXQoMSwgMykpXG4gICAgICAgICAgICArIChtYXQwLmdldCgyLCAyKSAqIG1hdDEuZ2V0KDIsIDMpKVxuICAgICAgICAgICAgKyAobWF0MC5nZXQoMiwgMykgKiBtYXQxLmdldCgzLCAzKSk7XG4gICAgICAgIGxldCByMzMgPSAobWF0MC5nZXQoMywgMCkgKiBtYXQxLmdldCgwLCAzKSlcbiAgICAgICAgICAgICsgKG1hdDAuZ2V0KDMsIDEpICogbWF0MS5nZXQoMSwgMykpXG4gICAgICAgICAgICArIChtYXQwLmdldCgzLCAyKSAqIG1hdDEuZ2V0KDIsIDMpKVxuICAgICAgICAgICAgKyAobWF0MC5nZXQoMywgMykgKiBtYXQxLmdldCgzLCAzKSk7XG5cbiAgICAgICAgLy8gTk9XIFBVVCBBTEwgVEhFIENBTENVTEFURUQgVkFMVUVTIElOIFRIRSByZXN1bHQgTUFUUklYXG4gICAgICAgIHJlc3VsdC5zZXQocjAwLCAwLCAwKTtcbiAgICAgICAgcmVzdWx0LnNldChyMTAsIDEsIDApO1xuICAgICAgICByZXN1bHQuc2V0KHIyMCwgMiwgMCk7XG4gICAgICAgIHJlc3VsdC5zZXQocjMwLCAzLCAwKTtcbiAgICAgICAgcmVzdWx0LnNldChyMDEsIDAsIDEpO1xuICAgICAgICByZXN1bHQuc2V0KHIxMSwgMSwgMSk7XG4gICAgICAgIHJlc3VsdC5zZXQocjIxLCAyLCAxKTtcbiAgICAgICAgcmVzdWx0LnNldChyMzEsIDMsIDEpO1xuICAgICAgICByZXN1bHQuc2V0KHIwMiwgMCwgMik7XG4gICAgICAgIHJlc3VsdC5zZXQocjEyLCAxLCAyKTtcbiAgICAgICAgcmVzdWx0LnNldChyMjIsIDIsIDIpO1xuICAgICAgICByZXN1bHQuc2V0KHIzMiwgMywgMik7XG4gICAgICAgIHJlc3VsdC5zZXQocjAzLCAwLCAzKTtcbiAgICAgICAgcmVzdWx0LnNldChyMTMsIDEsIDMpO1xuICAgICAgICByZXN1bHQuc2V0KHIyMywgMiwgMyk7XG4gICAgICAgIHJlc3VsdC5zZXQocjMzLCAzLCAzKTtcbiAgICB9XG5cbiAgICBleHBvcnQgZnVuY3Rpb24gcHJvamVjdGlvbihyZXN1bHQgOiBNYXRyaXgsIG5lYXJaIDogbnVtYmVyLCBmYXJaIDogbnVtYmVyLCB2aWV3cG9ydFdpZHRoIDogbnVtYmVyLCB2aWV3cG9ydEhlaWdodCA6IG51bWJlciwgZm92WSA6IG51bWJlcikgOiB2b2lkIHtcbiAgICAgICAgbGV0IGFzcGVjdFJhdGlvID0gdmlld3BvcnRXaWR0aCAvIHZpZXdwb3J0SGVpZ2h0O1xuICAgICAgICBsZXQgZmllbGRPZlZpZXdZID0gdGhpcy5tYXRoLmRlZ3JlZXNUb1JhZGlhbnMoZm92WSk7XG4gICAgICAgIGxldCBmaWVsZE9mVmlld1ggPSAyICogTWF0aC5hdGFuKE1hdGgudGFuKGZpZWxkT2ZWaWV3WSAvIDIpICogYXNwZWN0UmF0aW8pO1xuXG4gICAgICAgIC8vIFdFJ0xMIFVTRSBUSEVTRSBBUyBTSE9SVEhBTkQgRk9SIExPQURJTkcgT1VSIE1BVFJJWFxuICAgICAgICBsZXQgbiA9IG5lYXJaO1xuICAgICAgICBsZXQgZiA9IGZhclo7XG4gICAgICAgIGxldCByID0gTWF0aC50YW4oZmllbGRPZlZpZXdYIC8gMikgKiBuO1xuICAgICAgICBsZXQgdCA9IE1hdGgudGFuKGZpZWxkT2ZWaWV3WSAvIDIpICogbjtcblxuICAgICAgICAvLyAwLTNcbiAgICAgICAgcmVzdWx0LnNldChuIC8gciwgMCwgMCk7XG4gICAgICAgIHJlc3VsdC5zZXQoMC4wLCAwLCAxKTtcbiAgICAgICAgcmVzdWx0LnNldCgwLjAsIDAsIDIpO1xuICAgICAgICByZXN1bHQuc2V0KDAuMCwgMCwgMyk7XG4gICAgICAgIC8vIDQtN1xuICAgICAgICByZXN1bHQuc2V0KDAuMCwgMSwgMCk7XG4gICAgICAgIHJlc3VsdC5zZXQobiAvIHQsIDEsIDEpO1xuICAgICAgICByZXN1bHQuc2V0KDAuMCwgMSwgMik7XG4gICAgICAgIHJlc3VsdC5zZXQoMC4wLCAxLCAzKTtcbiAgICAgICAgLy8gOC0xMVxuICAgICAgICByZXN1bHQuc2V0KDAuMCwgMiwgMCk7XG4gICAgICAgIHJlc3VsdC5zZXQoMC4wLCAyLCAxKTtcbiAgICAgICAgcmVzdWx0LnNldCgoLShmICsgbikpIC8gKGYgLSBuKSwgMiwgMik7XG4gICAgICAgIHJlc3VsdC5zZXQoKC0yICogZiAqIG4pIC8gKGYgLSBuKSwgMiwgMyk7XG4gICAgICAgIC8vIDEyLTE1IFxuICAgICAgICByZXN1bHQuc2V0KDAuMCwgMywgMCk7XG4gICAgICAgIHJlc3VsdC5zZXQoMC4wLCAzLCAxKTtcbiAgICAgICAgcmVzdWx0LnNldCgtMS4wLCAzLCAyKTtcbiAgICAgICAgcmVzdWx0LnNldCgwLjAsIDMsIDMpO1xuICAgIH1cblxuICAgIGV4cG9ydCBmdW5jdGlvbiByb3RhdGUocmVzdWx0IDogTWF0cml4LCByb3RhdGlvblZlY3RvciA6IFZlY3RvcjMpIDogdm9pZCB7XG4gICAgICAgIC8vIFNUQVJUIFdJVEggVEhFIFgtQVhJUyBST1RBVElPTlxuICAgICAgICBsZXQgeFJvdGF0aW9uTWF0cml4ID0gbmV3IE1hdHJpeCg0LCA0KTtcbiAgICAgICAgdGhpcy5pZGVudGl0eSh4Um90YXRpb25NYXRyaXgpO1xuICAgICAgICBsZXQgdGhldGFYID0gcm90YXRpb25WZWN0b3IuZ2V0VGhldGFYKCk7XG4gICAgICAgIHhSb3RhdGlvbk1hdHJpeC5zZXQoTWF0aC5jb3ModGhldGFYKSwgMSwgMSk7XG4gICAgICAgIHhSb3RhdGlvbk1hdHJpeC5zZXQoTWF0aC5zaW4odGhldGFYKSwgMiwgMSk7XG4gICAgICAgIHhSb3RhdGlvbk1hdHJpeC5zZXQoLTEgKiBNYXRoLnNpbih0aGV0YVgpLCAxLCAyKTtcbiAgICAgICAgeFJvdGF0aW9uTWF0cml4LnNldChNYXRoLmNvcyh0aGV0YVgpLCAyLCAyKTtcblxuICAgICAgICAvLyBTVEFSVCBXSVRIIFRIRSBZLUFYSVMgUk9UQVRJT05cbiAgICAgICAgbGV0IHlSb3RhdGlvbk1hdHJpeCA9IG5ldyBNYXRyaXgoNCwgNCk7XG4gICAgICAgIHRoaXMuaWRlbnRpdHkoeVJvdGF0aW9uTWF0cml4KTtcbiAgICAgICAgbGV0IHRoZXRhWSA9IHJvdGF0aW9uVmVjdG9yLmdldFRoZXRhWSgpO1xuICAgICAgICB5Um90YXRpb25NYXRyaXguc2V0KE1hdGguY29zKHRoZXRhWSksIDAsIDApO1xuICAgICAgICB5Um90YXRpb25NYXRyaXguc2V0KC0xICogTWF0aC5zaW4odGhldGFZKSwgMiwgMCk7XG4gICAgICAgIHlSb3RhdGlvbk1hdHJpeC5zZXQoTWF0aC5zaW4odGhldGFZKSwgMCwgMik7XG4gICAgICAgIHlSb3RhdGlvbk1hdHJpeC5zZXQoTWF0aC5jb3ModGhldGFZKSwgMiwgMik7XG5cbiAgICAgICAgLy8gU1RBUlQgV0lUSCBUSEUgWi1BWElTIFJPVEFUSU9OXG4gICAgICAgIGxldCB6Um90YXRpb25NYXRyaXggPSBuZXcgTWF0cml4KDQsIDQpO1xuICAgICAgICB0aGlzLmlkZW50aXR5KHpSb3RhdGlvbk1hdHJpeCk7XG4gICAgICAgIGxldCB0aGV0YVogPSByb3RhdGlvblZlY3Rvci5nZXRUaGV0YVooKTtcbiAgICAgICAgelJvdGF0aW9uTWF0cml4LnNldChNYXRoLmNvcyh0aGV0YVopLCAwLCAwKTtcbiAgICAgICAgelJvdGF0aW9uTWF0cml4LnNldChNYXRoLnNpbih0aGV0YVopLCAxLCAwKTtcbiAgICAgICAgelJvdGF0aW9uTWF0cml4LnNldCgtMSAqIE1hdGguc2luKHRoZXRhWiksIDAsIDEpO1xuICAgICAgICB6Um90YXRpb25NYXRyaXguc2V0KE1hdGguY29zKHRoZXRhWiksIDEsIDEpO1xuXG4gICAgICAgIC8vIFNUQVJUIFdJVEggVEhFIFgtQVhJUyBST1RBVElPTlxuICAgICAgICBsZXQgdGVtcE1hdHJpeCA9IG5ldyBNYXRyaXgoNCwgNCk7XG4gICAgICAgIHRoaXMuaWRlbnRpdHkodGVtcE1hdHJpeCk7XG4gICAgICAgIHRoaXMubXVsdGlwbHkodGVtcE1hdHJpeCwgeFJvdGF0aW9uTWF0cml4LCB5Um90YXRpb25NYXRyaXgpO1xuICAgICAgICB0aGlzLm11bHRpcGx5KHJlc3VsdCwgdGVtcE1hdHJpeCwgelJvdGF0aW9uTWF0cml4KTtcbiAgICB9XG5cbiAgICBleHBvcnQgZnVuY3Rpb24gc2NhbGUocmVzdWx0IDogTWF0cml4LCBzY2FsZVZlY3RvciA6IFZlY3RvcjMpIDogdm9pZCB7XG4gICAgICAgIC8vIFNUQVJUIFdJVEggVEhFIElERU5USVRZIE1BVFJJWFxuICAgICAgICB0aGlzLmlkZW50aXR5KHJlc3VsdCwgc2NhbGVWZWN0b3IpO1xuXG4gICAgICAgIC8vIEFORCBUSEVOIExPQUQgSU4gVEhFIFRSQU5TTEFUSU9OIFZBTFVFU1xuICAgICAgICByZXN1bHQuc2V0KHNjYWxlVmVjdG9yLmdldFgoKSwgMCwgMCk7XG4gICAgICAgIHJlc3VsdC5zZXQoc2NhbGVWZWN0b3IuZ2V0WSgpLCAxLCAxKTtcbiAgICAgICAgcmVzdWx0LnNldChzY2FsZVZlY3Rvci5nZXRaKCksIDIsIDIpO1xuICAgIH1cblxuICAgIGV4cG9ydCBmdW5jdGlvbiB0cmFuc2Zvcm0ocmVzdWx0IDogVmVjdG9yMywgbWF0IDogTWF0cml4LCB2ZWMgOiBWZWN0b3IzKSA6IHZvaWQge1xuICAgICAgICByZXN1bHQuc2V0WCgobWF0LmdldCgwLCAwKSAqIHZlYy5nZXRYKCkpICsgKG1hdC5nZXQoMCwgMSkgKiB2ZWMuZ2V0WSgpKSArIChtYXQuZ2V0KDAsIDIpICogdmVjLmdldFooKSkgKyAobWF0LmdldCgwLCAzKSAqIHZlYy5nZXRXKCkpKTtcbiAgICAgICAgcmVzdWx0LnNldFkoKG1hdC5nZXQoMSwgMCkgKiB2ZWMuZ2V0WCgpKSArIChtYXQuZ2V0KDEsIDEpICogdmVjLmdldFkoKSkgKyAobWF0LmdldCgxLCAyKSAqIHZlYy5nZXRaKCkpICsgKG1hdC5nZXQoMSwgMykgKiB2ZWMuZ2V0VygpKSk7XG4gICAgICAgIHJlc3VsdC5zZXRaKChtYXQuZ2V0KDIsIDApICogdmVjLmdldFgoKSkgKyAobWF0LmdldCgyLCAxKSAqIHZlYy5nZXRZKCkpICsgKG1hdC5nZXQoMiwgMikgKiB2ZWMuZ2V0WigpKSArIChtYXQuZ2V0KDIsIDMpICogdmVjLmdldFcoKSkpO1xuICAgICAgICByZXN1bHQuc2V0VygobWF0LmdldCgzLCAwKSAqIHZlYy5nZXRYKCkpICsgKG1hdC5nZXQoMywgMSkgKiB2ZWMuZ2V0WSgpKSArIChtYXQuZ2V0KDMsIDIpICogdmVjLmdldFooKSkgKyAobWF0LmdldCgzLCAzKSAqIHZlYy5nZXRXKCkpKTtcbiAgICB9XG5cbiAgICBleHBvcnQgZnVuY3Rpb24gdHJhbnNsYXRlKHJlc3VsdCA6IE1hdHJpeCwgdHJhbnNsYXRpb25WZWN0b3IgOiBWZWN0b3IzKSA6IHZvaWQge1xuICAgICAgICAvLyBTVEFSVCBXSVRIIFRIRSBJREVOVElUWSBNQVRSSVhcbiAgICAgICAgdGhpcy5pZGVudGl0eShyZXN1bHQpO1xuXG4gICAgICAgIC8vIEFORCBUSEVOIExPQUQgSU4gVEhFIFRSQU5TTEFUSU9OIFZBTFVFU1xuICAgICAgICByZXN1bHQuc2V0KHRyYW5zbGF0aW9uVmVjdG9yLmdldFgoKSwgMCwgMyk7XG4gICAgICAgIHJlc3VsdC5zZXQodHJhbnNsYXRpb25WZWN0b3IuZ2V0WSgpLCAxLCAzKTtcbiAgICAgICAgcmVzdWx0LnNldCh0cmFuc2xhdGlvblZlY3Rvci5nZXRaKCksIDIsIDMpO1xuICAgIH1cblxuICAgIGV4cG9ydCBmdW5jdGlvbiB0cmFuc3Bvc2UocmVzdWx0IDogTWF0cml4LCBtYXQgOiBNYXRyaXgpIDogdm9pZCB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNDsgaSsrKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IDQ7IGorKykge1xuICAgICAgICAgICAgICAgIGxldCB0ZW1wID0gbWF0LmdldChpLCBqKTtcbiAgICAgICAgICAgICAgICByZXN1bHQuc2V0KHRlbXAsIGosIGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZXhwb3J0IGZ1bmN0aW9uIHZpZXcocmVzdWx0IDogTWF0cml4LCBjYW1lcmFQb3NpdGlvbiA6IFZlY3RvcjMsIGNhbWVyYU9yaWVudGF0aW9uIDogVmVjdG9yMykgOiB2b2lkIHtcbiAgICAgICAgbGV0IHBpdGNoID0gdGhpcy5tYXRoLmRlZ3JlZXNUb1JhZGlhbnMoY2FtZXJhT3JpZW50YXRpb24uZ2V0VGhldGFYKCkpO1xuICAgICAgICBsZXQgeWF3ID0gdGhpcy5tYXRoLmRlZ3JlZXNUb1JhZGlhbnMoY2FtZXJhT3JpZW50YXRpb24uZ2V0VGhldGFZKCkpO1xuICAgICAgICBsZXQgcm9sbCA9IHRoaXMubWF0aC5kZWdyZWVzVG9SYWRpYW5zKGNhbWVyYU9yaWVudGF0aW9uLmdldFRoZXRhWigpKTtcblxuICAgICAgICAvLyBUTyBUUkFOU0xBVEVcbiAgICAgICAgbGV0IHRyYW5zbGF0ZVZlY3RvciA9IHRoaXMubWF0aC52ZWN0b3JNYXRoLmNyZWF0ZVBvc2l0aW9uVmVjdG9yKCk7XG4gICAgICAgIHRyYW5zbGF0ZVZlY3Rvci5zZXQoLWNhbWVyYVBvc2l0aW9uLmdldFgoKSwgLWNhbWVyYVBvc2l0aW9uLmdldFkoKSwgLWNhbWVyYVBvc2l0aW9uLmdldFooKSk7XG4gICAgICAgIGxldCB0cmFuc2xhdGVNYXRyaXggPSBuZXcgTWF0cml4KDQsIDQpO1xuICAgICAgICB0aGlzLmlkZW50aXR5KHRyYW5zbGF0ZU1hdHJpeCk7XG4gICAgICAgIHRoaXMudHJhbnNsYXRlKHRyYW5zbGF0ZU1hdHJpeCwgdHJhbnNsYXRlVmVjdG9yKTtcblxuICAgICAgICAvLyBUTyBST1RBVEVcbiAgICAgICAgbGV0IHJvdGF0ZVZlY3RvciA9IHRoaXMubWF0aC52ZWN0b3JNYXRoLmNyZWF0ZVJvdGF0aW9uVmVjdG9yKCk7XG4gICAgICAgIHJvdGF0ZVZlY3Rvci5zZXQoLXBpdGNoLCAteWF3LCAtcm9sbCk7XG4gICAgICAgIGxldCByb3RhdGVNYXRyaXggPSBuZXcgTWF0cml4KDQsIDQpO1xuICAgICAgICB0aGlzLnJvdGF0ZShyb3RhdGVNYXRyaXgsIHJvdGF0ZVZlY3Rvcik7XG5cbiAgICAgICAgLy8gTk9XIENPTUJJTkUgVEhFIDIgTUFUUklDRVNcbiAgICAgICAgdGhpcy5tdWx0aXBseShyZXN1bHQsIHJvdGF0ZU1hdHJpeCwgdHJhbnNsYXRlTWF0cml4KTtcbiAgICB9XG5cbiAgICBleHBvcnQgZnVuY3Rpb24gYWRkVmVjdG9ycyhyZXN1bHQgOiBWZWN0b3IzLCB2ZWMwIDogVmVjdG9yMywgdmVjMSA6IFZlY3RvcjMpIDogdm9pZCB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmVjMC5nZXRTaXplKCk7IGkrKykge1xuICAgICAgICAgICAgbGV0IHRvdGFsID0gdmVjMC5nZXRBdChpKSArIHZlYzEuZ2V0QXQoaSk7XG4gICAgICAgICAgICByZXN1bHQuc2V0QXQoaSwgdG90YWwpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGNyb3NzUHJvZHVjdChyZXN1bHQgOiBWZWN0b3IzLCB2ZWMwIDogVmVjdG9yMywgdmVjMSA6IFZlY3RvcjMpIDogdm9pZCB7XG4gICAgICAgIGxldCByZXN1bHQwID0gKHZlYzAuZ2V0WSgpICogdmVjMS5nZXRaKCkpXG4gICAgICAgICAgICAtICh2ZWMxLmdldFkoKSAqIHZlYzAuZ2V0WigpKTtcbiAgICAgICAgbGV0IHJlc3VsdDEgPSAodmVjMC5nZXRaKCkgKiB2ZWMxLmdldFgoKSlcbiAgICAgICAgICAgIC0gKHZlYzEuZ2V0WigpICogdmVjMC5nZXRYKCkpO1xuICAgICAgICBsZXQgcmVzdWx0MiA9ICh2ZWMwLmdldFgoKSAqIHZlYzEuZ2V0WSgpKVxuICAgICAgICAgICAgLSAodmVjMS5nZXRYKCkgKiB2ZWMwLmdldFkoKSk7XG4gICAgICAgIHJlc3VsdC5zZXRYKHJlc3VsdDApO1xuICAgICAgICByZXN1bHQuc2V0WShyZXN1bHQxKTtcbiAgICAgICAgcmVzdWx0LnNldFoocmVzdWx0Mik7XG4gICAgfVxuXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGRvdFByb2R1Y3QodmVjMCA6IFZlY3RvcjMsIHZlYzEgOiBWZWN0b3IzKSA6IG51bWJlciB7XG4gICAgICAgIGxldCByZXN1bHRYID0gdmVjMC5nZXRYKCkgKiB2ZWMxLmdldFgoKTtcbiAgICAgICAgbGV0IHJlc3VsdFkgPSB2ZWMwLmdldFkoKSAqIHZlYzEuZ2V0WSgpO1xuICAgICAgICBsZXQgcmVzdWx0WiA9IHZlYzAuZ2V0WigpICogdmVjMS5nZXRaKCk7XG4gICAgICAgIHJldHVybiByZXN1bHRYICsgcmVzdWx0WSArIHJlc3VsdFo7XG4gICAgfVxuXG4gICAgZXhwb3J0IGZ1bmN0aW9uIG11bHRpcGx5VmVjdG9ycyhyZXN1bHQgOiBWZWN0b3IzLCB2ZWMgOiBWZWN0b3IzLCBzY2FsYXIgOiBudW1iZXIpIDogdm9pZCB7XG4gICAgICAgIGxldCB2ZWNYID0gdmVjLmdldFgoKSAqIHNjYWxhcjtcbiAgICAgICAgbGV0IHZlY1kgPSB2ZWMuZ2V0WSgpICogc2NhbGFyO1xuICAgICAgICBsZXQgdmVjWiA9IHZlYy5nZXRaKCkgKiBzY2FsYXI7XG4gICAgICAgIHJlc3VsdC5zZXRYKHZlY1gpO1xuICAgICAgICByZXN1bHQuc2V0WSh2ZWNZKTtcbiAgICAgICAgcmVzdWx0LnNldFoodmVjWik7XG4gICAgfVxuXG4gICAgZXhwb3J0IGZ1bmN0aW9uIG5vcm1hbGl6ZShyZXN1bHQgOiBWZWN0b3IzLCB2ZWMgOiBWZWN0b3IzKSA6IHZvaWQge1xuICAgICAgICBsZXQgeFNxdWFyZWQgPSB2ZWMuZ2V0WCgpICogdmVjLmdldFgoKTtcbiAgICAgICAgbGV0IHlTcXVhcmVkID0gdmVjLmdldFkoKSAqIHZlYy5nZXRZKCk7XG4gICAgICAgIGxldCB6U3F1YXJlZCA9IHZlYy5nZXRaKCkgKiB2ZWMuZ2V0WigpO1xuICAgICAgICBsZXQgZGlzdGFuY2UgPSBNYXRoLnNxcnQoeFNxdWFyZWQgKyB5U3F1YXJlZCArIHpTcXVhcmVkKTtcbiAgICAgICAgcmVzdWx0LnNldFgodmVjLmdldFgoKSAvIGRpc3RhbmNlKTtcbiAgICAgICAgcmVzdWx0LnNldFkodmVjLmdldFkoKSAvIGRpc3RhbmNlKTtcbiAgICAgICAgcmVzdWx0LnNldFoodmVjLmdldFooKSAvIGRpc3RhbmNlKTtcbiAgICB9XG5cbiAgICBleHBvcnQgZnVuY3Rpb24gc3VidHJhY3RWZWN0b3JzKHJlc3VsdCA6IFZlY3RvcjMsIHZlYzAgOiBWZWN0b3IzLCB2ZWMxIDogVmVjdG9yMykgOiB2b2lkIHtcbiAgICAgICAgbGV0IHJlc3VsdFggPSB2ZWMwLmdldFgoKSAtIHZlYzEuZ2V0WCgpO1xuICAgICAgICBsZXQgcmVzdWx0WSA9IHZlYzAuZ2V0WSgpIC0gdmVjMS5nZXRZKCk7XG4gICAgICAgIGxldCByZXN1bHRaID0gdmVjMC5nZXRaKCkgLSB2ZWMxLmdldFooKTtcbiAgICAgICAgcmVzdWx0LnNldFgocmVzdWx0WCk7XG4gICAgICAgIHJlc3VsdC5zZXRZKHJlc3VsdFkpO1xuICAgICAgICByZXN1bHQuc2V0WihyZXN1bHRaKTtcbiAgICB9XG59IiwiLypcbiAqIEEgTWF0cml4IGlzIHVzZWQgZm9yIHRyYW5zZm9ybWluZyBwb2ludHMgZnJvbSBsb2NhbFxuICogY29vcmRpbmF0ZXMgdG8gd29ybGQgY29vcmRpbmF0ZXMuXG4gKi9cbmV4cG9ydCBjbGFzcyBNYXRyaXgge1xuICAgIHByaXZhdGUgbWF0IDogRmxvYXQzMkFycmF5O1xuICAgIHByaXZhdGUgcm93cyA6IG51bWJlcjtcbiAgICBwcml2YXRlIGNvbHVtbnMgOiBudW1iZXI7XG5cbiAgICBwdWJsaWMgY29uc3RydWN0b3Iocm93cyA6IG51bWJlciwgY29sdW1ucyA6IG51bWJlcikge1xuICAgICAgICB0aGlzLnJvd3MgPSByb3dzO1xuICAgICAgICB0aGlzLmNvbHVtbnMgPSBjb2x1bW5zO1xuICAgICAgICB0aGlzLm1hdCA9IG5ldyBGbG9hdDMyQXJyYXkocm93cyAqIGNvbHVtbnMpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IChyb3dzICogY29sdW1ucyk7IGkrKylcbiAgICAgICAgICAgIHRoaXMubWF0W2ldID0gMC4wO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXREYXRhKCkgOiBGbG9hdDMyQXJyYXkge1xuICAgICAgICByZXR1cm4gdGhpcy5tYXQ7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFJvd3MoKSA6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLnJvd3M7XG4gICAgfVxuXG4gICAgcHVibGljIGdldENvbHVtbnMoKSA6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbHVtbnM7XG4gICAgfVxuXG4gICAgcHVibGljIGdldEluZGV4IChyb3dzIDogbnVtYmVyLCBjb2x1bW5zIDogbnVtYmVyKSA6IG51bWJlciB7XG4gICAgICAgIHJldHVybiAodGhpcy5yb3dzICogY29sdW1ucykgKyByb3dzO1xuICAgIH1cbiAgICBcbiAgICBwdWJsaWMgZ2V0IChyb3cgOiBudW1iZXIsIGNvbHVtbiA6IG51bWJlcikgOiBudW1iZXIge1xuICAgICAgICBsZXQgaW5kZXggPSB0aGlzLmdldEluZGV4KHJvdywgY29sdW1uKTtcbiAgICAgICAgbGV0IHZhbHVlVG9SZXR1cm4gPSB0aGlzLm1hdFtpbmRleF07XG4gICAgICAgIHJldHVybiB2YWx1ZVRvUmV0dXJuO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXQgKHZhbHVlIDogbnVtYmVyLCByb3cgOiBudW1iZXIsIGNvbHVtbiA6IG51bWJlcikge1xuICAgICAgICBsZXQgaW5kZXggPSB0aGlzLmdldEluZGV4KHJvdywgY29sdW1uKTtcbiAgICAgICAgdGhpcy5tYXRbaW5kZXhdID0gdmFsdWU7XG4gICAgfVxuICAgIFxuICAgIHB1YmxpYyBwcmludCAoKSA6IHZvaWQge1xuICAgICAgICBsZXQgbWF4V2lkdGggPSAwO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDQ7IGkrKykge1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCA0OyBqKyspIHtcbiAgICAgICAgICAgICAgICBsZXQgdGVzdE51bSA9IHRoaXMuZ2V0KGosIGkpICsgXCJcIjtcbiAgICAgICAgICAgICAgICBpZiAodGVzdE51bS5sZW5ndGggPiBtYXhXaWR0aCkge1xuICAgICAgICAgICAgICAgICAgICBtYXhXaWR0aCA9IHRlc3ROdW0ubGVuZ3RoO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBsZXQgdGV4dCA9IFwiWyBcIjtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnJvd3M7IGkrKykge1xuICAgICAgICAgICAgaWYgKGkgPiAwKVxuICAgICAgICAgICAgICAgIHRleHQgKz0gXCIgIFwiO1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB0aGlzLmNvbHVtbnM7IGorKykge1xuICAgICAgICAgICAgICAgIHZhciBudW1UZXh0ID0gdGhpcy5nZXQoaSwgaikgKyBcIlwiO1xuICAgICAgICAgICAgICAgIHdoaWxlIChudW1UZXh0Lmxlbmd0aCA8IG1heFdpZHRoKSB7XG4gICAgICAgICAgICAgICAgICAgIG51bVRleHQgPSBcIiBcIiArIG51bVRleHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRleHQgKz0gbnVtVGV4dDtcbiAgICAgICAgICAgICAgICBpZiAoaiA8ICh0aGlzLmNvbHVtbnMgLSAxKSkge1xuICAgICAgICAgICAgICAgICAgICB0ZXh0ICs9IFwiLFwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0ZXh0ICs9IFwiIFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGkgPCAodGhpcy5yb3dzIC0gMSkpIHtcbiAgICAgICAgICAgICAgICB0ZXh0ICs9IFwiXFxuXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0ZXh0ICs9IFwiXVwiO1xuICAgICAgICAgICAgY29uc29sZS5sb2codGV4dCk7XG4gICAgICAgIH1cbiAgICB9XG59IiwiLyoqXG4gKiBWZWN0b3IzXG4gKiBcbiAqIFRoZSBWZWN0b3IzIGNsYXNzIGNhbiBiZSB1c2VkIGZvciBhbnkgMmQgb3IgM2QgcG9pbnQsIHZlY3RvciwgXG4gKiBvciByb3RhdGlvbiAoaS5lLiBhbmdsZXMgb2Ygb3JpZW50YXRpb24pLlxuICovXG5leHBvcnQgY2xhc3MgVmVjdG9yMyB7XG4gICAgcHJpdmF0ZSB2ZWMgOiBGbG9hdDMyQXJyYXk7XG4gICAgcHJpdmF0ZSBzaXplIDogbnVtYmVyO1xuXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLnZlYyA9IG5ldyBGbG9hdDMyQXJyYXkoNCk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNDsgaSsrKVxuICAgICAgICAgICAgdGhpcy52ZWNbaV0gPSAwLjA7XG4gICAgICAgIHRoaXMuc2l6ZSA9IDQ7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFNpemUoKSA6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLnNpemU7XG4gICAgfVxuXG4gICAgcHVibGljIGdldEF0KGluZGV4IDogbnVtYmVyKSA6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLnZlY1tpbmRleF07XG4gICAgfVxuXG4gICAgcHVibGljIGdldFgoKSA6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLnZlY1swXTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0WSgpIDogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmVjWzFdO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRaKCkgOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy52ZWNbMl07XG4gICAgfVxuXG4gICAgcHVibGljIGdldFcoKSA6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLnZlY1szXTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0VGhldGFYKCkgOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy52ZWNbMF07XG4gICAgfVxuXG4gICAgcHVibGljIGdldFRoZXRhWSgpIDogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmVjWzFdO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRUaGV0YVooKSA6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLnZlY1syXTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0KGluaXQwIDogbnVtYmVyLCBpbml0MSA6IG51bWJlciwgaW5pdDIgOiBudW1iZXIsIGluaXQzIDogbnVtYmVyKSA6IHZvaWQge1xuICAgICAgICB0aGlzLnZlY1swXSA9IGluaXQwO1xuICAgICAgICB0aGlzLnZlY1sxXSA9IGluaXQxO1xuICAgICAgICB0aGlzLnZlY1syXSA9IGluaXQyO1xuICAgICAgICB0aGlzLnZlY1szXSA9IGluaXQzO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXRBdChpbmRleCA6IG51bWJlciwgdmFsdWUgOiBudW1iZXIpIDogdm9pZCB7XG4gICAgICAgIHRoaXMudmVjW2luZGV4XSA9IHZhbHVlO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXRYKGluaXRYIDogbnVtYmVyKSA6IHZvaWQge1xuICAgICAgICB0aGlzLnZlY1swXSA9IGluaXRYO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXRZKGluaXRZIDogbnVtYmVyKSA6IHZvaWQge1xuICAgICAgICB0aGlzLnZlY1sxXSA9IGluaXRZO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXRaKGluaXRaIDogbnVtYmVyKSA6IHZvaWQge1xuICAgICAgICB0aGlzLnZlY1syXSA9IGluaXRaO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXRXKGluaXRXIDogbnVtYmVyKSA6IHZvaWQge1xuICAgICAgICB0aGlzLnZlY1szXSA9IGluaXRXO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXRUaGV0YVgoaW5pdFRoZXRhWCA6IG51bWJlcikgOiB2b2lkIHtcbiAgICAgICAgdGhpcy5zZXRYKGluaXRUaGV0YVgpO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXRUaGV0YVkoaW5pdFRoZXRhWSA6IG51bWJlcikgOiB2b2lkIHtcbiAgICAgICAgdGhpcy5zZXRZKGluaXRUaGV0YVkpO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXRUaGV0YVooaW5pdFRoZXRhWiA6IG51bWJlcikgOiB2b2lkIHtcbiAgICAgICAgdGhpcy5zZXRaKGluaXRUaGV0YVopO1xuICAgIH1cblxuICAgIHB1YmxpYyBwcmludCgpIDogdm9pZCB7XG4gICAgICAgIGxldCB0ZXh0ID0gXCJbXCI7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5zaXplOyBpKyspIHtcbiAgICAgICAgICAgIHRleHQgKz0gdGhpcy52ZWNbaV07XG4gICAgICAgICAgICBpZiAoaSA8ICh0aGlzLnNpemUgLSAxKSkge1xuICAgICAgICAgICAgICAgIHRleHQgKz0gXCIsIFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRleHQgKz0gXCJdXCI7XG4gICAgICAgIGNvbnNvbGUubG9nKHRleHQpO1xuICAgIH1cbn0iLCIvKlxuICogVGhpcyBjbGFzcyByZW5kZXJzIHRleHQgdG8gYSBjYW52YXMsIHVwZGF0ZWQgZWFjaCBmcmFtZS5cbiAqL1xuaW1wb3J0IHtIYXNoVGFibGV9IGZyb20gJy4uL2RhdGEvSGFzaFRhYmxlJ1xuXG5leHBvcnQgY2xhc3MgVGV4dFRvUmVuZGVyIHtcbiAgICBwdWJsaWMgaWQgOiBzdHJpbmc7XG4gICAgcHVibGljIHRleHQgOiBzdHJpbmc7XG4gICAgcHVibGljIHggOiBudW1iZXI7XG4gICAgcHVibGljIHkgOiBudW1iZXI7XG4gICAgcHVibGljIHVwZGF0ZSA6IEZ1bmN0aW9uO1xuICAgIHB1YmxpYyBmb250RmFtaWx5IDogc3RyaW5nO1xuICAgIHB1YmxpYyBmb250U2l6ZSA6IG51bWJlcjtcbiAgICBwdWJsaWMgZm9udENvbG9yIDogc3RyaW5nO1xuICAgIHB1YmxpYyBwcm9wZXJ0aWVzIDogSGFzaFRhYmxlPG9iamVjdD47XG5cbiAgICBwdWJsaWMgY29uc3RydWN0b3IoaW5pdElkIDogc3RyaW5nLCBpbml0VGV4dCA6IHN0cmluZywgaW5pdFggOiBudW1iZXIsIGluaXRZIDogbnVtYmVyLCBpbml0VXBkYXRlIDogRnVuY3Rpb24pIHtcbiAgICAgICAgdGhpcy5pZCA9IGluaXRJZDtcbiAgICAgICAgdGhpcy50ZXh0ID0gaW5pdFRleHQ7XG4gICAgICAgIHRoaXMueCA9IGluaXRYO1xuICAgICAgICB0aGlzLnkgPSBpbml0WTtcbiAgICAgICAgdGhpcy51cGRhdGUgPSBpbml0VXBkYXRlO1xuICAgICAgICB0aGlzLmZvbnRGYW1pbHkgPSBcIlwiO1xuICAgICAgICB0aGlzLmZvbnRTaXplID0gMDtcbiAgICAgICAgdGhpcy5mb250Q29sb3IgPSBcIlwiO1xuICAgICAgICB0aGlzLnByb3BlcnRpZXMgPSB7fTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBUZXh0UmVuZGVyZXIge1xuICAgIHByaXZhdGUgdGV4dFRvUmVuZGVyIDogQXJyYXk8VGV4dFRvUmVuZGVyPjtcbiAgICBwcml2YXRlIHRleHRDYW52YXMgOiBIVE1MQ2FudmFzRWxlbWVudDtcbiAgICBwcml2YXRlIHRleHRDYW52YXNXaWR0aCA6IG51bWJlcjtcbiAgICBwcml2YXRlIHRleHRDYW52YXNIZWlnaHQgOiBudW1iZXI7XG4gICAgcHJpdmF0ZSB0ZXh0Q3R4IDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEO1xuICAgIHByaXZhdGUgZGVmYXVsdEZvbnRGYW1pbHkgOiBzdHJpbmc7XG4gICAgcHJpdmF0ZSBkZWZhdWx0Rm9udFNpemUgOiBudW1iZXI7XG4gICAgcHJpdmF0ZSBkZWZhdWx0Rm9udENvbG9yIDogc3RyaW5nO1xuXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKHRleHRDYW52YXNJZCA6IHN0cmluZywgaW5pdEZvbnRGYW1pbHkgOiBzdHJpbmcsIGluaXRGb250U2l6ZSA6IG51bWJlciwgaW5pdEZvbnRDb2xvciA6IHN0cmluZykge1xuICAgICAgICB0aGlzLnRleHRUb1JlbmRlciA9IG5ldyBBcnJheSgpO1xuICAgICAgICB0aGlzLnRleHRDYW52YXMgPSA8SFRNTENhbnZhc0VsZW1lbnQ+ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGV4dENhbnZhc0lkKTtcbiAgICAgICAgdGhpcy50ZXh0Q2FudmFzLndpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XG4gICAgICAgIHRoaXMudGV4dENhbnZhcy5oZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgICAgIHRoaXMudGV4dENhbnZhc1dpZHRoID0gdGhpcy50ZXh0Q2FudmFzLndpZHRoO1xuICAgICAgICB0aGlzLnRleHRDYW52YXNIZWlnaHQgPSB0aGlzLnRleHRDYW52YXMuaGVpZ2h0O1xuICAgICAgICB0aGlzLnRleHRDdHggPSB0aGlzLnRleHRDYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xuICAgICAgICB0aGlzLmRlZmF1bHRGb250RmFtaWx5ID0gaW5pdEZvbnRGYW1pbHk7XG4gICAgICAgIHRoaXMuZGVmYXVsdEZvbnRTaXplID0gaW5pdEZvbnRTaXplO1xuICAgICAgICB0aGlzLmRlZmF1bHRGb250Q29sb3IgPSBpbml0Rm9udENvbG9yO1xuICAgIH1cbiAgICBcbiAgICBwdWJsaWMgYWRkVGV4dFRvUmVuZGVyKHRleHRUb0FkZCA6IFRleHRUb1JlbmRlcikgOiB2b2lkIHtcbiAgICAgICAgdGV4dFRvQWRkLmZvbnRGYW1pbHkgPSB0aGlzLmRlZmF1bHRGb250RmFtaWx5O1xuICAgICAgICB0ZXh0VG9BZGQuZm9udFNpemUgPSB0aGlzLmRlZmF1bHRGb250U2l6ZTtcbiAgICAgICAgdGV4dFRvQWRkLmZvbnRDb2xvciA9IHRoaXMuZGVmYXVsdEZvbnRDb2xvcjtcbiAgICAgICAgdGhpcy50ZXh0VG9SZW5kZXIucHVzaCh0ZXh0VG9BZGQpO1xuICAgIH1cblxuICAgIHB1YmxpYyBjbGVhcigpIDogdm9pZCB7XG4gICAgICAgIHRoaXMudGV4dFRvUmVuZGVyID0gW107XG4gICAgfVxuXG4gICAgcHVibGljIGdldENhbnZhc1dpZHRoKCkgOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy50ZXh0Q2FudmFzV2lkdGg7XG4gICAgfVxuXG4gICAgcHVibGljIGdldENhbnZhc0hlaWdodCgpIDogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGV4dENhbnZhc0hlaWdodDtcbiAgICB9XG5cbiAgICBwdWJsaWMgcmVuZGVyKCkgOiB2b2lkIHtcbiAgICAgICAgdGhpcy50ZXh0Q3R4LmNsZWFyUmVjdCgwLCAwLCB0aGlzLnRleHRDYW52YXMud2lkdGgsIHRoaXMudGV4dENhbnZhcy5oZWlnaHQpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMudGV4dFRvUmVuZGVyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgdGV4dFRvUmVuZGVyID0gdGhpcy50ZXh0VG9SZW5kZXJbaV07XG4gICAgICAgICAgICB0ZXh0VG9SZW5kZXIudXBkYXRlKCk7XG4gICAgICAgICAgICB0aGlzLnRleHRDdHguZm9udCA9IFwiXCIgKyB0ZXh0VG9SZW5kZXIuZm9udFNpemUgKyBcInB4IFwiICsgdGV4dFRvUmVuZGVyLmZvbnRGYW1pbHk7XG4gICAgICAgICAgICB0aGlzLnRleHRDdHguZmlsbFN0eWxlID0gdGV4dFRvUmVuZGVyLmZvbnRDb2xvcjtcbiAgICAgICAgICAgIHRoaXMudGV4dEN0eC5maWxsVGV4dCh0ZXh0VG9SZW5kZXIudGV4dCwgdGV4dFRvUmVuZGVyLngsIHRleHRUb1JlbmRlci55KTtcbiAgICAgICAgfVxuICAgIH1cbn0iLCJpbXBvcnQge1dlYkdMR2FtZVNoYWRlcn0gZnJvbSAnLi9XZWJHTEdhbWVTaGFkZXInXG5pbXBvcnQge01hdGhVdGlsaXRpZXN9IGZyb20gJy4uL21hdGgvTWF0aFV0aWxpdGllcydcbmltcG9ydCB7IE1hdHJpeCB9IGZyb20gJy4uL21hdGgvTWF0cml4J1xuaW1wb3J0IHsgVmVjdG9yMyB9IGZyb20gJy4uL21hdGgvVmVjdG9yMydcbmltcG9ydCB7R3JhZGllbnRDaXJjbGV9IGZyb20gJy4uL3NjZW5lL2NpcmNsZS9HcmFkaWVudENpcmNsZSdcbmltcG9ydCB7R3JhZGllbnRDaXJjbGVUeXBlfSBmcm9tICcuLi9zY2VuZS9jaXJjbGUvR3JhZGllbnRDaXJjbGVUeXBlJ1xuaW1wb3J0IHtXZWJHTEdhbWVUZXh0dXJlfSBmcm9tICcuL1dlYkdMR2FtZVRleHR1cmUnXG5pbXBvcnQge0hhc2hUYWJsZX0gZnJvbSAnLi4vZGF0YS9IYXNoVGFibGUnXG5cbnZhciBTcHJpdGVEZWZhdWx0cyA9IHtcbiAgICBBX1BPU0lUSU9OOiBcImFfUG9zaXRpb25cIixcbiAgICBBX1ZBTFVFX1RPX0lOVEVSUE9MQVRFOiBcImFfVmFsdWVUb0ludGVycG9sYXRlXCIsXG4gICAgQV9URVhfQ09PUkQ6IFwiYV9UZXhDb29yZFwiLFxuICAgIFVfU1BSSVRFX1RSQU5TRk9STTogXCJ1X1Nwcml0ZVRyYW5zZm9ybVwiLFxuICAgIFVfVEVYX0NPT1JEX0ZBQ1RPUjogXCJ1X1RleENvb3JkRmFjdG9yXCIsXG4gICAgVV9URVhfQ09PUkRfU0hJRlQ6IFwidV9UZXhDb29yZFNoaWZ0XCIsXG4gICAgVV9TQU1QTEVSOiBcInVfU2FtcGxlclwiLFxuICAgIE5VTV9WRVJUSUNFUzogNCxcbiAgICBGTE9BVFNfUEVSX1ZFUlRFWDogMixcbiAgICBGTE9BVFNfUEVSX1RFWFRVUkVfQ09PUkRJTkFURTogMixcbiAgICBUT1RBTF9CWVRFUzogMTYsXG4gICAgVkVSVEVYX1BPU0lUSU9OX09GRlNFVDogMCxcbiAgICBURVhUVVJFX0NPT1JESU5BVEVfT0ZGU0VUOiA4LFxuICAgIElOREVYX09GX0ZJUlNUX1ZFUlRFWDogMFxufTtcblxuZXhwb3J0IGNsYXNzIFdlYkdMR2FtZUJsdWVDaXJjbGVSZW5kZXJlciB7XG4gICAgcHJpdmF0ZSBzaGFkZXIgOiBXZWJHTEdhbWVTaGFkZXI7XG4gICAgcHJpdmF0ZSB2ZXJ0ZXhUZXhDb29yZEJ1ZmZlciA6IFdlYkdMQnVmZmVyO1xuXG4gICAgLy8gV0UnTEwgVVNFIFRIRVNFIEZPUiBUUkFOU09GTVJJTkcgT0JKRUNUUyBXSEVOIFdFIERSQVcgVEhFTVxuICAgIHByaXZhdGUgc3ByaXRlVHJhbnNmb3JtIDogTWF0cml4O1xuICAgIHByaXZhdGUgc3ByaXRlVHJhbnNsYXRlIDogVmVjdG9yMztcbiAgICBwcml2YXRlIHNwcml0ZVJvdGF0ZSA6IFZlY3RvcjM7XG4gICAgcHJpdmF0ZSBzcHJpdGVTY2FsZSA6IFZlY3RvcjM7ICAgIFxuXG4gICAgcHJpdmF0ZSB3ZWJHTEF0dHJpYnV0ZUxvY2F0aW9ucyA6IEhhc2hUYWJsZTxHTHVpbnQ+O1xuICAgIHByaXZhdGUgd2ViR0xVbmlmb3JtTG9jYXRpb25zIDogSGFzaFRhYmxlPFdlYkdMVW5pZm9ybUxvY2F0aW9uPjtcblxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcigpIHt9XG4gICAgXG4gICAgcHVibGljIGluaXQod2ViR0wgOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQpIDogdm9pZCB7XG4gICAgICAgICAgICB0aGlzLnNoYWRlciA9IG5ldyBXZWJHTEdhbWVTaGFkZXIoKTtcbiAgICAgICAgICAgIHZhciB2ZXJ0ZXhTaGFkZXJTb3VyY2UgPVxuICAgICAgICAgICAgJ3ByZWNpc2lvbiBoaWdocCBmbG9hdDtcXG5cXG4nICtcbiAgICAgICAgICAgIC8vJ3VuaWZvcm0gdmVjMiAnICsgQ2lyY2xlRGVmYXVsdHMuVV9URVhfQ09PUkRfRkFDVE9SICsgJztcXG4nICtcbiAgICAgICAgICAgIC8vJ3VuaWZvcm0gdmVjMiAnICsgQ2lyY2xlRGVmYXVsdHMuVV9URVhfQ09PUkRfU0hJRlQgKyAnO1xcbicgK1xuICAgICAgICAgICAgJ2F0dHJpYnV0ZSB2ZWM0ICcgKyBTcHJpdGVEZWZhdWx0cy5BX1BPU0lUSU9OICsgJztcXG4nICtcbiAgICAgICAgICAgICdhdHRyaWJ1dGUgdmVjMiAnICsgU3ByaXRlRGVmYXVsdHMuQV9WQUxVRV9UT19JTlRFUlBPTEFURSArICc7XFxuJyArXG4gICAgICAgICAgICAndmFyeWluZyB2ZWMyIHZhbDtcXG4nICtcbiAgICAgICAgICAgICd1bmlmb3JtIG1hdDQgJyArIFNwcml0ZURlZmF1bHRzLlVfU1BSSVRFX1RSQU5TRk9STSArICc7XFxuJyArXG4gICAgICAgICAgICAndm9pZCBtYWluKCkge1xcbicgK1xuICAgICAgICAgICAgJyAgdmFsID0gJyArIFNwcml0ZURlZmF1bHRzLkFfVkFMVUVfVE9fSU5URVJQT0xBVEUgKyAnO1xcbicgK1xuICAgICAgICAgICAgJyAgZ2xfUG9zaXRpb24gPSAnICsgU3ByaXRlRGVmYXVsdHMuVV9TUFJJVEVfVFJBTlNGT1JNICsgJyAqICcgKyBTcHJpdGVEZWZhdWx0cy5BX1BPU0lUSU9OICsgJztcXG4nICtcbiAgICAgICAgICAgICd9XFxuJztcbiAgICAgICAgICAgIC8vICd1bmlmb3JtIG1hdDQgJyArIFNwcml0ZURlZmF1bHRzLlVfU1BSSVRFX1RSQU5TRk9STSArICc7XFxuJyArXG4gICAgICAgICAgICAvLyAndW5pZm9ybSB2ZWMyICcgKyBTcHJpdGVEZWZhdWx0cy5VX1RFWF9DT09SRF9GQUNUT1IgKyAnO1xcbicgK1xuICAgICAgICAgICAgLy8gJ3VuaWZvcm0gdmVjMiAnICsgU3ByaXRlRGVmYXVsdHMuVV9URVhfQ09PUkRfU0hJRlQgKyAnO1xcbicgK1xuICAgICAgICAgICAgLy8gJ2F0dHJpYnV0ZSB2ZWM0ICcgKyBTcHJpdGVEZWZhdWx0cy5BX1BPU0lUSU9OICsgJztcXG4nICtcbiAgICAgICAgICAgIC8vICdhdHRyaWJ1dGUgdmVjMiAnICsgU3ByaXRlRGVmYXVsdHMuQV9URVhfQ09PUkQgKyAnO1xcbicgK1xuICAgICAgICAgICAgLy8gJ3ZhcnlpbmcgdmVjMiB2X1RleENvb3JkO1xcbicgK1xuICAgICAgICAgICAgLy8gJ3ZvaWQgbWFpbigpIHtcXG4nICtcbiAgICAgICAgICAgIC8vICcgIGdsX1Bvc2l0aW9uID0gJyArIFNwcml0ZURlZmF1bHRzLlVfU1BSSVRFX1RSQU5TRk9STSArICcgKiAnICsgU3ByaXRlRGVmYXVsdHMuQV9QT1NJVElPTiArICc7XFxuJyArXG4gICAgICAgICAgICAvLyAnICB2ZWMyIHRlbXBUZXhDb29yZCA9ICcgKyBTcHJpdGVEZWZhdWx0cy5BX1RFWF9DT09SRCArICcgKiAnICsgU3ByaXRlRGVmYXVsdHMuVV9URVhfQ09PUkRfRkFDVE9SICsgJztcXG4nICtcbiAgICAgICAgICAgIC8vICcgIHZfVGV4Q29vcmQgPSB0ZW1wVGV4Q29vcmQgKyAnICsgU3ByaXRlRGVmYXVsdHMuVV9URVhfQ09PUkRfU0hJRlQgKyAnO1xcbicgK1xuICAgICAgICAgICAgLy8gJ31cXG4nO1xuICAgICAgICB2YXIgZnJhZ21lbnRTaGFkZXJTb3VyY2UgPVxuICAgICAgICAgICAgJ3ByZWNpc2lvbiBoaWdocCBmbG9hdDtcXG4nICtcbiAgICAgICAgICAgICd2YXJ5aW5nIHZlYzIgdmFsO1xcbicgK1xuICAgICAgICAgICAgJ3ZvaWQgbWFpbigpIHtcXG4nICtcbiAgICAgICAgICAgICcgIGZsb2F0IFIgPSAwLjQ7XFxuJyArXG4gICAgICAgICAgICAnICBmbG9hdCBkaXN0ID0gc3FydChkb3QodmFsLHZhbCkpO1xcbicgK1xuICAgICAgICAgICAgJyAgZmxvYXQgYWxwaGEgPSAxLjA7XFxuJyArXG4gICAgICAgICAgICAnICBpZiAoZGlzdCA+IFIpIHtcXG4nICtcbiAgICAgICAgICAgICcgICAgZGlzY2FyZDtcXG4nICtcbiAgICAgICAgICAgICcgIH1cXG4nICtcbiAgICAgICAgICAgICcgIGdsX0ZyYWdDb2xvciA9IHZlYzQoMCwgMCwgZGlzdCwgYWxwaGEpO1xcbicgKyAvL1RPRE8gbWlnaHQgbmVlZCByYW5kb21seSBnZW5lcmF0ZWQgdmFyaWFibGVzIGhlcmVcbiAgICAgICAgICAgICd9XFxuJztcbiAgICAgICAgICAgIC8vICcjaWZkZWYgR0xfRVNcXG4nICtcbiAgICAgICAgICAgIC8vICdwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDtcXG4nICtcbiAgICAgICAgICAgIC8vICcjZW5kaWZcXG4nICtcbiAgICAgICAgICAgIC8vICd1bmlmb3JtIHNhbXBsZXIyRCAnICsgU3ByaXRlRGVmYXVsdHMuVV9TQU1QTEVSICsgJztcXG4nICtcbiAgICAgICAgICAgIC8vICd2YXJ5aW5nIHZlYzIgdl9UZXhDb29yZDtcXG4nICtcbiAgICAgICAgICAgIC8vICd2b2lkIG1haW4oKSB7XFxuJyArXG4gICAgICAgICAgICAvLyAnICBnbF9GcmFnQ29sb3IgPSB0ZXh0dXJlMkQoJyArIFNwcml0ZURlZmF1bHRzLlVfU0FNUExFUiArICcsIHZfVGV4Q29vcmQpO1xcbicgK1xuICAgICAgICAgICAgLy8gJ31cXG4nO1xuICAgICAgICB0aGlzLnNoYWRlci5pbml0KHdlYkdMLCB2ZXJ0ZXhTaGFkZXJTb3VyY2UsIGZyYWdtZW50U2hhZGVyU291cmNlKTtcblxuICAgICAgICAvLyBHRVQgVEhFIHdlYkdMIE9CSkVDVCBUTyBVU0VcbiAgICAgICAgdmFyIHZlcnRpY2VzVGV4Q29vcmRzID0gbmV3IEZsb2F0MzJBcnJheShbXG4gICAgICAgICAgICAtMC41LCAgMC41LCAwLjAsIDAuMCxcbiAgICAgICAgICAgIC0wLjUsIC0wLjUsIDAuMCwgMS4wLFxuICAgICAgICAgICAgIDAuNSwgIDAuNSwgMS4wLCAwLjAsXG4gICAgICAgICAgICAgMC41LCAtMC41LCAxLjAsIDEuMFxuICAgICAgICBdKTtcblxuICAgICAgICAvLyBDUkVBVEUgVEhFIEJVRkZFUiBPTiBUSEUgR1BVXG4gICAgICAgIHRoaXMudmVydGV4VGV4Q29vcmRCdWZmZXIgPSB3ZWJHTC5jcmVhdGVCdWZmZXIoKTtcblxuICAgICAgICAvLyBCSU5EIFRIRSBCVUZGRVIgVE8gQkUgVkVSVEVYIERBVEFcbiAgICAgICAgd2ViR0wuYmluZEJ1ZmZlcih3ZWJHTC5BUlJBWV9CVUZGRVIsIHRoaXMudmVydGV4VGV4Q29vcmRCdWZmZXIpO1xuXG4gICAgICAgIC8vIEFORCBTRU5EIFRIRSBEQVRBIFRPIFRIRSBCVUZGRVIgV0UgQ1JFQVRFRCBPTiBUSEUgR1BVXG4gICAgICAgIHdlYkdMLmJ1ZmZlckRhdGEod2ViR0wuQVJSQVlfQlVGRkVSLCB2ZXJ0aWNlc1RleENvb3Jkcywgd2ViR0wuU1RBVElDX0RSQVcpO1xuXG4gICAgICAgIC8vIFNFVFVQIFRIRSBTSEFERVIgQVRUUklCVVRFUyBBTkQgVU5JRk9STVNcbiAgICAgICAgdGhpcy53ZWJHTEF0dHJpYnV0ZUxvY2F0aW9ucyA9IHt9O1xuICAgICAgICB0aGlzLndlYkdMVW5pZm9ybUxvY2F0aW9ucyA9IHt9O1xuICAgICAgICB0aGlzLmxvYWRBdHRyaWJ1dGVMb2NhdGlvbnMod2ViR0wsIFtTcHJpdGVEZWZhdWx0cy5BX1BPU0lUSU9OLCBTcHJpdGVEZWZhdWx0cy5BX1RFWF9DT09SRF0pO1xuICAgICAgICB0aGlzLmxvYWRVbmlmb3JtTG9jYXRpb25zKHdlYkdMLCBbU3ByaXRlRGVmYXVsdHMuVV9TUFJJVEVfVFJBTlNGT1JNLCBTcHJpdGVEZWZhdWx0cy5VX1NBTVBMRVIsIFNwcml0ZURlZmF1bHRzLlVfVEVYX0NPT1JEX0ZBQ1RPUiwgU3ByaXRlRGVmYXVsdHMuVV9URVhfQ09PUkRfU0hJRlRdKTtcblxuICAgICAgICAvLyBXRSdMTCBVU0UgVEhFU0UgRk9SIFRSQU5TT0ZNUklORyBPQkpFQ1RTIFdIRU4gV0UgRFJBVyBUSEVNXG4gICAgICAgIHRoaXMuc3ByaXRlVHJhbnNmb3JtID0gbmV3IE1hdHJpeCg0LCA0KTtcbiAgICAgICAgdGhpcy5zcHJpdGVUcmFuc2xhdGUgPSBuZXcgVmVjdG9yMygpO1xuICAgICAgICB0aGlzLnNwcml0ZVJvdGF0ZSA9IG5ldyBWZWN0b3IzKCk7XG4gICAgICAgIHRoaXMuc3ByaXRlU2NhbGUgPSBuZXcgVmVjdG9yMygpO1xuICAgIH1cblxuICAgIHB1YmxpYyByZW5kZXJSZWRDaXJjbGVzKCAgd2ViR0wgOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbnZhc1dpZHRoIDogbnVtYmVyLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW52YXNIZWlnaHQgOiBudW1iZXIsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpc2libGVTZXQgOiBBcnJheTxHcmFkaWVudENpcmNsZT4pIDogdm9pZCB7XG4gICAgICAgIC8vIFNFTEVDVCBUSEUgQU5JTUFURUQgU1BSSVRFIFJFTkRFUklORyBTSEFERVIgUFJPR1JBTSBGT1IgVVNFXG4gICAgICAgIGxldCBzaGFkZXJQcm9ncmFtVG9Vc2UgPSB0aGlzLnNoYWRlci5nZXRQcm9ncmFtKCk7XG4gICAgICAgIHdlYkdMLnVzZVByb2dyYW0oc2hhZGVyUHJvZ3JhbVRvVXNlKTtcblxuICAgICAgIC8vIEFORCBUSEVOIFJFTkRFUiBFQUNIIE9ORVxuICAgICAgIGZvciAobGV0IHNwcml0ZSBvZiB2aXNpYmxlU2V0KSB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlckFuaW1hdGVkU3ByaXRlKHdlYkdMLCBjYW52YXNXaWR0aCwgY2FudmFzSGVpZ2h0LCBzcHJpdGUpOyAgICAgICAgXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGxvYWRBdHRyaWJ1dGVMb2NhdGlvbnMod2ViR0wgOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsIGF0dHJpYnV0ZUxvY2F0aW9uTmFtZXMgOiBBcnJheTxzdHJpbmc+KSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXR0cmlidXRlTG9jYXRpb25OYW1lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IGxvY2F0aW9uTmFtZSA6IHN0cmluZyA9IGF0dHJpYnV0ZUxvY2F0aW9uTmFtZXNbaV07XG4gICAgICAgICAgICBsZXQgbG9jYXRpb24gOiBHTHVpbnQgPSB3ZWJHTC5nZXRBdHRyaWJMb2NhdGlvbih0aGlzLnNoYWRlci5nZXRQcm9ncmFtKCksIGxvY2F0aW9uTmFtZSk7XG4gICAgICAgICAgICB0aGlzLndlYkdMQXR0cmlidXRlTG9jYXRpb25zW2xvY2F0aW9uTmFtZV0gPSBsb2NhdGlvbjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgbG9hZFVuaWZvcm1Mb2NhdGlvbnMod2ViR0wgOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsIHVuaWZvcm1Mb2NhdGlvbk5hbWVzIDogQXJyYXk8c3RyaW5nPikge1xuICAgICAgICBmb3IgKGxldCBpIDogbnVtYmVyID0gMDsgaSA8IHVuaWZvcm1Mb2NhdGlvbk5hbWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgbG9jYXRpb25OYW1lIDogc3RyaW5nID0gdW5pZm9ybUxvY2F0aW9uTmFtZXNbaV07XG4gICAgICAgICAgICBsZXQgbG9jYXRpb24gOiBXZWJHTFVuaWZvcm1Mb2NhdGlvbiA9IHdlYkdMLmdldFVuaWZvcm1Mb2NhdGlvbih0aGlzLnNoYWRlci5nZXRQcm9ncmFtKCksIGxvY2F0aW9uTmFtZSk7XG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKGxvY2F0aW9uLilcbiAgICAgICAgICAgIHRoaXMud2ViR0xVbmlmb3JtTG9jYXRpb25zW2xvY2F0aW9uTmFtZV0gPSBsb2NhdGlvbjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgcmVuZGVyQW5pbWF0ZWRTcHJpdGUoICAgd2ViR0wgOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbnZhc1dpZHRoIDogbnVtYmVyLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW52YXNIZWlnaHQgOiBudW1iZXIsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNpcmNsZSA6IEdyYWRpZW50Q2lyY2xlKSB7XG4gICAgICAgLy8gbGV0IHNwcml0ZVR5cGUgOiBHcmFkaWVudENpcmNsZSA9IGNpcmNsZS5nZXRDaXJjbGVUeXBlKCk7XG4gICAgICAgIC8vbGV0IHRleHR1cmUgOiBXZWJHTEdhbWVUZXh0dXJlID0gc3ByaXRlVHlwZS5nZXRTcHJpdGVTaGVldFRleHR1cmUoKTtcblxuICAgICAgICAvLyBDQUxDVUxBVEUgSE9XIE1VQ0ggVE8gVFJBTlNMQVRFIFRIRSBRVUFEIFBFUiBUSEUgU1BSSVRFIFBPU0lUSU9OXG4gICAgICAgIGxldCBzcHJpdGVXaWR0aCA6IG51bWJlciA9IDEwMDtcbiAgICAgICAgbGV0IHNwcml0ZUhlaWdodCA6IG51bWJlciA9IDEwMDtcbiAgICAgICAgbGV0IHNwcml0ZVhJblBpeGVscyA6IG51bWJlciA9IGNpcmNsZS5nZXRQb3NpdGlvbigpLmdldFgoKSArIChzcHJpdGVXaWR0aC8yKTtcbiAgICAgICAgbGV0IHNwcml0ZVlJblBpeGVscyA6IG51bWJlciA9IGNpcmNsZS5nZXRQb3NpdGlvbigpLmdldFkoKSArIChzcHJpdGVIZWlnaHQvMik7XG4gICAgICAgIGxldCBzcHJpdGVYVHJhbnNsYXRlIDogbnVtYmVyID0gKHNwcml0ZVhJblBpeGVscyAtIChjYW52YXNXaWR0aC8yKSkvKGNhbnZhc1dpZHRoLzIpO1xuICAgICAgICBsZXQgc3ByaXRlWVRyYW5zbGF0ZSA6IG51bWJlciA9IChzcHJpdGVZSW5QaXhlbHMgLSAoY2FudmFzSGVpZ2h0LzIpKS8oY2FudmFzSGVpZ2h0LzIpO1xuICAgICAgICB0aGlzLnNwcml0ZVRyYW5zbGF0ZS5zZXRYKHNwcml0ZVhUcmFuc2xhdGUpO1xuICAgICAgICB0aGlzLnNwcml0ZVRyYW5zbGF0ZS5zZXRZKC1zcHJpdGVZVHJhbnNsYXRlKTtcblxuICAgICAgICAvLyBDQUxDVUxBVEUgSE9XIE1VQ0ggVE8gU0NBTEUgVEhFIFFVQUQgUEVSIFRIRSBTUFJJVEUgU0laRVxuICAgICAgICBsZXQgZGVmYXVsdFdpZHRoIDogbnVtYmVyID0gY2FudmFzV2lkdGgvMjtcbiAgICAgICAgbGV0IGRlZmF1bHRIZWlnaHQgOiBudW1iZXIgPSBjYW52YXNIZWlnaHQvMjtcbiAgICAgICAgbGV0IHNjYWxlWCA6IG51bWJlciA9IDI1MC9kZWZhdWx0V2lkdGg7XG4gICAgICAgIGxldCBzY2FsZVkgOiBudW1iZXIgPSAyNTAvZGVmYXVsdEhlaWdodDtcbiAgICAgICAgdGhpcy5zcHJpdGVTY2FsZS5zZXRYKHNjYWxlWCk7XG4gICAgICAgIHRoaXMuc3ByaXRlU2NhbGUuc2V0WShzY2FsZVkpO1xuXG4gICAgICAgIC8vIEB0b2RvIC0gQ09NQklORSBUSElTIFdJVEggVEhFIFJPVEFURSBBTkQgU0NBTEUgVkFMVUVTIEZST00gVEhFIFNQUklURVxuICAgICAgICBNYXRoVXRpbGl0aWVzLmlkZW50aXR5KHRoaXMuc3ByaXRlVHJhbnNmb3JtKTtcbiAgICAgICAgTWF0aFV0aWxpdGllcy5tb2RlbCh0aGlzLnNwcml0ZVRyYW5zZm9ybSwgdGhpcy5zcHJpdGVUcmFuc2xhdGUsIHRoaXMuc3ByaXRlUm90YXRlLCB0aGlzLnNwcml0ZVNjYWxlKTtcbiAgICAgICAgXG4gICAgICAgIC8vIEZJR1VSRSBPVVQgVEhFIFRFWFRVUkUgQ09PUkRJTkFURSBGQUNUT1IgQU5EIFNISUZUXG4gICAgICAgIC8vIGxldCB0ZXhDb29yZEZhY3RvclggOiBudW1iZXIgPSBzcHJpdGVXaWR0aC90ZXh0dXJlLndpZHRoO1xuICAgICAgICAvLyBsZXQgdGV4Q29vcmRGYWN0b3JZIDogbnVtYmVyID0gc3ByaXRlSGVpZ2h0L3RleHR1cmUuaGVpZ2h0O1xuICAgICAgICAvLyBsZXQgc3ByaXRlTGVmdCA6IG51bWJlciA9IHNwcml0ZS5nZXRMZWZ0KCk7XG4gICAgICAgIC8vIGxldCBzcHJpdGVUb3AgOiBudW1iZXIgPSBzcHJpdGUuZ2V0VG9wKCk7XG4gICAgICAgIC8vIGxldCB0ZXhDb29yZFNoaWZ0WCA6IG51bWJlciA9IHNwcml0ZUxlZnQvdGV4dHVyZS53aWR0aDtcbiAgICAgICAgLy8gbGV0IHRleENvb3JkU2hpZnRZIDogbnVtYmVyID0gc3ByaXRlVG9wL3RleHR1cmUuaGVpZ2h0OyAgIFxuXG4gICAgICAgIC8vIFVTRSBUSEUgQVRUUklCVVRFU1xuICAgLy8gd2ViR0wuYmluZEJ1ZmZlcih3ZWJHTC5BUlJBWV9CVUZGRVIsIHRoaXMudmVydGV4VGV4Q29vcmRCdWZmZXIpO1xuICAgICAgIC8vIHdlYkdMLmJpbmRUZXh0dXJlKHdlYkdMLlRFWFRVUkVfMkQsIHRleHR1cmUud2ViR0xUZXh0dXJlKTtcblxuICAgICAgICAvLyBIT09LIFVQIFRIRSBBVFRSSUJVVEVTXG4gICAgICAgIGxldCBhX1Bvc2l0aW9uTG9jYXRpb24gOiBHTHVpbnQgPSB0aGlzLndlYkdMQXR0cmlidXRlTG9jYXRpb25zW1Nwcml0ZURlZmF1bHRzLkFfUE9TSVRJT05dO1xuICAgICAgICB3ZWJHTC52ZXJ0ZXhBdHRyaWJQb2ludGVyKGFfUG9zaXRpb25Mb2NhdGlvbiwgU3ByaXRlRGVmYXVsdHMuRkxPQVRTX1BFUl9URVhUVVJFX0NPT1JESU5BVEUsIHdlYkdMLkZMT0FULCBmYWxzZSwgU3ByaXRlRGVmYXVsdHMuVE9UQUxfQllURVMsIFNwcml0ZURlZmF1bHRzLlZFUlRFWF9QT1NJVElPTl9PRkZTRVQpO1xuICAgICAgICB3ZWJHTC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShhX1Bvc2l0aW9uTG9jYXRpb24pO1xuICAgICAgLy8gIGxldCBhX1RleENvb3JkTG9jYXRpb24gOiBHTHVpbnQgPSB0aGlzLndlYkdMQXR0cmlidXRlTG9jYXRpb25zW1Nwcml0ZURlZmF1bHRzLkFfVEVYX0NPT1JEXTtcbiAgICAgICAvLyB3ZWJHTC52ZXJ0ZXhBdHRyaWJQb2ludGVyKGFfVGV4Q29vcmRMb2NhdGlvbiwgU3ByaXRlRGVmYXVsdHMuRkxPQVRTX1BFUl9URVhUVVJFX0NPT1JESU5BVEUsIHdlYkdMLkZMT0FULCBmYWxzZSwgU3ByaXRlRGVmYXVsdHMuVE9UQUxfQllURVMsIFNwcml0ZURlZmF1bHRzLlRFWFRVUkVfQ09PUkRJTkFURV9PRkZTRVQpO1xuICAgICAgIC8vIHdlYkdMLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KGFfVGV4Q29vcmRMb2NhdGlvbik7XG5cbiAgICAgICAgLy8gVVNFIFRIRSBVTklGT1JNU1xuICAgICAgICBsZXQgdV9TcHJpdGVUcmFuc2Zvcm1Mb2NhdGlvbiA6IFdlYkdMVW5pZm9ybUxvY2F0aW9uID0gdGhpcy53ZWJHTFVuaWZvcm1Mb2NhdGlvbnNbU3ByaXRlRGVmYXVsdHMuVV9TUFJJVEVfVFJBTlNGT1JNXTtcbiAgICAgICAgd2ViR0wudW5pZm9ybU1hdHJpeDRmdih1X1Nwcml0ZVRyYW5zZm9ybUxvY2F0aW9uLCBmYWxzZSwgdGhpcy5zcHJpdGVUcmFuc2Zvcm0uZ2V0RGF0YSgpKTtcbiAgICAgIC8vICBsZXQgdV9TYW1wbGVyTG9jYXRpb24gOiBXZWJHTFVuaWZvcm1Mb2NhdGlvbiA9IHRoaXMud2ViR0xVbmlmb3JtTG9jYXRpb25zW1Nwcml0ZURlZmF1bHRzLlVfU0FNUExFUl07XG4gICAgICAgIC8vd2ViR0wudW5pZm9ybTFpKHVfU2FtcGxlckxvY2F0aW9uLCB0ZXh0dXJlLndlYkdMVGV4dHVyZUlkKTtcbiAgICAvLyAgICAgbGV0IHVfVGV4Q29vcmRGYWN0b3JMb2NhdGlvbiA6IFdlYkdMVW5pZm9ybUxvY2F0aW9uID0gdGhpcy53ZWJHTFVuaWZvcm1Mb2NhdGlvbnNbU3ByaXRlRGVmYXVsdHMuVV9URVhfQ09PUkRfRkFDVE9SXTtcbiAgICAvLyAgICAvLyB3ZWJHTC51bmlmb3JtMmYodV9UZXhDb29yZEZhY3RvckxvY2F0aW9uLCB0ZXhDb29yZEZhY3RvclgsIHRleENvb3JkRmFjdG9yWSk7XG4gICAgLy8gICAgIGxldCB1X1RleENvb3JkU2hpZnRMb2NhdGlvbiA6IFdlYkdMVW5pZm9ybUxvY2F0aW9uID0gdGhpcy53ZWJHTFVuaWZvcm1Mb2NhdGlvbnNbU3ByaXRlRGVmYXVsdHMuVV9URVhfQ09PUkRfU0hJRlRdO1xuICAgIC8vICAgICB3ZWJHTC51bmlmb3JtMmYodV9UZXhDb29yZFNoaWZ0TG9jYXRpb24sIHRleENvb3JkU2hpZnRYLCB0ZXhDb29yZFNoaWZ0WSk7XG5cbiAgICAgICAgLy8gRFJBVyBUSEUgU1BSSVRFIEFTIEEgVFJJQU5HTEUgU1RSSVAgVVNJTkcgNCBWRVJUSUNFUywgU1RBUlRJTkcgQVQgVEhFIFNUQVJUIE9GIFRIRSBBUlJBWSAoaW5kZXggMClcbiAgICAgICAgd2ViR0wuZHJhd0FycmF5cyh3ZWJHTC5UUklBTkdMRV9TVFJJUCwgU3ByaXRlRGVmYXVsdHMuSU5ERVhfT0ZfRklSU1RfVkVSVEVYLCBTcHJpdGVEZWZhdWx0cy5OVU1fVkVSVElDRVMpO1xuICAgIH1cbn0iLCJpbXBvcnQge1dlYkdMR2FtZVNoYWRlcn0gZnJvbSAnLi9XZWJHTEdhbWVTaGFkZXInXG5pbXBvcnQge01hdGhVdGlsaXRpZXN9IGZyb20gJy4uL21hdGgvTWF0aFV0aWxpdGllcydcbmltcG9ydCB7IE1hdHJpeCB9IGZyb20gJy4uL21hdGgvTWF0cml4J1xuaW1wb3J0IHsgVmVjdG9yMyB9IGZyb20gJy4uL21hdGgvVmVjdG9yMydcbmltcG9ydCB7R3JhZGllbnRDaXJjbGV9IGZyb20gJy4uL3NjZW5lL2NpcmNsZS9HcmFkaWVudENpcmNsZSdcbmltcG9ydCB7R3JhZGllbnRDaXJjbGVUeXBlfSBmcm9tICcuLi9zY2VuZS9jaXJjbGUvR3JhZGllbnRDaXJjbGVUeXBlJ1xuaW1wb3J0IHtXZWJHTEdhbWVUZXh0dXJlfSBmcm9tICcuL1dlYkdMR2FtZVRleHR1cmUnXG5pbXBvcnQge0hhc2hUYWJsZX0gZnJvbSAnLi4vZGF0YS9IYXNoVGFibGUnXG5cbnZhciBTcHJpdGVEZWZhdWx0cyA9IHtcbiAgICBBX1BPU0lUSU9OOiBcImFfUG9zaXRpb25cIixcbiAgICBBX1ZBTFVFX1RPX0lOVEVSUE9MQVRFOiBcImFfVmFsdWVUb0ludGVycG9sYXRlXCIsXG4gICAgQV9URVhfQ09PUkQ6IFwiYV9UZXhDb29yZFwiLFxuICAgIFVfU1BSSVRFX1RSQU5TRk9STTogXCJ1X1Nwcml0ZVRyYW5zZm9ybVwiLFxuICAgIFVfVEVYX0NPT1JEX0ZBQ1RPUjogXCJ1X1RleENvb3JkRmFjdG9yXCIsXG4gICAgVV9URVhfQ09PUkRfU0hJRlQ6IFwidV9UZXhDb29yZFNoaWZ0XCIsXG4gICAgVV9TQU1QTEVSOiBcInVfU2FtcGxlclwiLFxuICAgIE5VTV9WRVJUSUNFUzogNCxcbiAgICBGTE9BVFNfUEVSX1ZFUlRFWDogMixcbiAgICBGTE9BVFNfUEVSX1RFWFRVUkVfQ09PUkRJTkFURTogMixcbiAgICBUT1RBTF9CWVRFUzogMTYsXG4gICAgVkVSVEVYX1BPU0lUSU9OX09GRlNFVDogMCxcbiAgICBURVhUVVJFX0NPT1JESU5BVEVfT0ZGU0VUOiA4LFxuICAgIElOREVYX09GX0ZJUlNUX1ZFUlRFWDogMFxufTtcblxuZXhwb3J0IGNsYXNzIFdlYkdMR2FtZUNpcmNsZVJlbmRlcmVyIHtcbiAgICBwcml2YXRlIHNoYWRlciA6IFdlYkdMR2FtZVNoYWRlcjtcbiAgICBwcml2YXRlIHZlcnRleFRleENvb3JkQnVmZmVyIDogV2ViR0xCdWZmZXI7XG5cbiAgICAvLyBXRSdMTCBVU0UgVEhFU0UgRk9SIFRSQU5TT0ZNUklORyBPQkpFQ1RTIFdIRU4gV0UgRFJBVyBUSEVNXG4gICAgcHJpdmF0ZSBzcHJpdGVUcmFuc2Zvcm0gOiBNYXRyaXg7XG4gICAgcHJpdmF0ZSBzcHJpdGVUcmFuc2xhdGUgOiBWZWN0b3IzO1xuICAgIHByaXZhdGUgc3ByaXRlUm90YXRlIDogVmVjdG9yMztcbiAgICBwcml2YXRlIHNwcml0ZVNjYWxlIDogVmVjdG9yMzsgICAgXG5cbiAgICBwcml2YXRlIHdlYkdMQXR0cmlidXRlTG9jYXRpb25zIDogSGFzaFRhYmxlPEdMdWludD47XG4gICAgcHJpdmF0ZSB3ZWJHTFVuaWZvcm1Mb2NhdGlvbnMgOiBIYXNoVGFibGU8V2ViR0xVbmlmb3JtTG9jYXRpb24+O1xuXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKCkge31cbiAgICBcbiAgICBwdWJsaWMgaW5pdCh3ZWJHTCA6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCkgOiB2b2lkIHtcbiAgICAgICAgICAgIHRoaXMuc2hhZGVyID0gbmV3IFdlYkdMR2FtZVNoYWRlcigpO1xuICAgICAgICAgICAgdmFyIHZlcnRleFNoYWRlclNvdXJjZSA9XG4gICAgICAgICAgICAncHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcblxcbicgK1xuICAgICAgICAgICAgLy8ndW5pZm9ybSB2ZWMyICcgKyBDaXJjbGVEZWZhdWx0cy5VX1RFWF9DT09SRF9GQUNUT1IgKyAnO1xcbicgK1xuICAgICAgICAgICAgLy8ndW5pZm9ybSB2ZWMyICcgKyBDaXJjbGVEZWZhdWx0cy5VX1RFWF9DT09SRF9TSElGVCArICc7XFxuJyArXG4gICAgICAgICAgICAnYXR0cmlidXRlIHZlYzQgJyArIFNwcml0ZURlZmF1bHRzLkFfUE9TSVRJT04gKyAnO1xcbicgK1xuICAgICAgICAgICAgJ2F0dHJpYnV0ZSB2ZWMyICcgKyBTcHJpdGVEZWZhdWx0cy5BX1ZBTFVFX1RPX0lOVEVSUE9MQVRFICsgJztcXG4nICtcbiAgICAgICAgICAgICd2YXJ5aW5nIHZlYzIgdmFsO1xcbicgK1xuICAgICAgICAgICAgJ3VuaWZvcm0gbWF0NCAnICsgU3ByaXRlRGVmYXVsdHMuVV9TUFJJVEVfVFJBTlNGT1JNICsgJztcXG4nICtcbiAgICAgICAgICAgICd2b2lkIG1haW4oKSB7XFxuJyArXG4gICAgICAgICAgICAnICB2YWwgPSAnICsgU3ByaXRlRGVmYXVsdHMuQV9WQUxVRV9UT19JTlRFUlBPTEFURSArICc7XFxuJyArXG4gICAgICAgICAgICAnICBnbF9Qb3NpdGlvbiA9ICcgKyBTcHJpdGVEZWZhdWx0cy5VX1NQUklURV9UUkFOU0ZPUk0gKyAnICogJyArIFNwcml0ZURlZmF1bHRzLkFfUE9TSVRJT04gKyAnO1xcbicgK1xuICAgICAgICAgICAgJ31cXG4nO1xuICAgICAgICAgICAgLy8gJ3VuaWZvcm0gbWF0NCAnICsgU3ByaXRlRGVmYXVsdHMuVV9TUFJJVEVfVFJBTlNGT1JNICsgJztcXG4nICtcbiAgICAgICAgICAgIC8vICd1bmlmb3JtIHZlYzIgJyArIFNwcml0ZURlZmF1bHRzLlVfVEVYX0NPT1JEX0ZBQ1RPUiArICc7XFxuJyArXG4gICAgICAgICAgICAvLyAndW5pZm9ybSB2ZWMyICcgKyBTcHJpdGVEZWZhdWx0cy5VX1RFWF9DT09SRF9TSElGVCArICc7XFxuJyArXG4gICAgICAgICAgICAvLyAnYXR0cmlidXRlIHZlYzQgJyArIFNwcml0ZURlZmF1bHRzLkFfUE9TSVRJT04gKyAnO1xcbicgK1xuICAgICAgICAgICAgLy8gJ2F0dHJpYnV0ZSB2ZWMyICcgKyBTcHJpdGVEZWZhdWx0cy5BX1RFWF9DT09SRCArICc7XFxuJyArXG4gICAgICAgICAgICAvLyAndmFyeWluZyB2ZWMyIHZfVGV4Q29vcmQ7XFxuJyArXG4gICAgICAgICAgICAvLyAndm9pZCBtYWluKCkge1xcbicgK1xuICAgICAgICAgICAgLy8gJyAgZ2xfUG9zaXRpb24gPSAnICsgU3ByaXRlRGVmYXVsdHMuVV9TUFJJVEVfVFJBTlNGT1JNICsgJyAqICcgKyBTcHJpdGVEZWZhdWx0cy5BX1BPU0lUSU9OICsgJztcXG4nICtcbiAgICAgICAgICAgIC8vICcgIHZlYzIgdGVtcFRleENvb3JkID0gJyArIFNwcml0ZURlZmF1bHRzLkFfVEVYX0NPT1JEICsgJyAqICcgKyBTcHJpdGVEZWZhdWx0cy5VX1RFWF9DT09SRF9GQUNUT1IgKyAnO1xcbicgK1xuICAgICAgICAgICAgLy8gJyAgdl9UZXhDb29yZCA9IHRlbXBUZXhDb29yZCArICcgKyBTcHJpdGVEZWZhdWx0cy5VX1RFWF9DT09SRF9TSElGVCArICc7XFxuJyArXG4gICAgICAgICAgICAvLyAnfVxcbic7XG4gICAgICAgIHZhciBmcmFnbWVudFNoYWRlclNvdXJjZSA9XG4gICAgICAgICAgICAncHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcbicgK1xuICAgICAgICAgICAgJ3ZhcnlpbmcgdmVjMiB2YWw7XFxuJyArXG4gICAgICAgICAgICAndm9pZCBtYWluKCkge1xcbicgK1xuICAgICAgICAgICAgJyAgZmxvYXQgUiA9IDAuNDtcXG4nICtcbiAgICAgICAgICAgICcgIGZsb2F0IGRpc3QgPSBzcXJ0KGRvdCh2YWwsdmFsKSk7XFxuJyArXG4gICAgICAgICAgICAnICBmbG9hdCBhbHBoYSA9IDEuMDtcXG4nICtcbiAgICAgICAgICAgICcgIGlmIChkaXN0ID4gUikge1xcbicgK1xuICAgICAgICAgICAgJyAgICBkaXNjYXJkO1xcbicgK1xuICAgICAgICAgICAgJyAgfVxcbicgK1xuICAgICAgICAgICAgJyAgZ2xfRnJhZ0NvbG9yID0gdmVjNChkaXN0LCAwLCBkaXN0LCBhbHBoYSk7XFxuJyArIC8vVE9ETyBtaWdodCBuZWVkIHJhbmRvbWx5IGdlbmVyYXRlZCB2YXJpYWJsZXMgaGVyZVxuICAgICAgICAgICAgJ31cXG4nO1xuICAgICAgICAgICAgLy8gJyNpZmRlZiBHTF9FU1xcbicgK1xuICAgICAgICAgICAgLy8gJ3ByZWNpc2lvbiBtZWRpdW1wIGZsb2F0O1xcbicgK1xuICAgICAgICAgICAgLy8gJyNlbmRpZlxcbicgK1xuICAgICAgICAgICAgLy8gJ3VuaWZvcm0gc2FtcGxlcjJEICcgKyBTcHJpdGVEZWZhdWx0cy5VX1NBTVBMRVIgKyAnO1xcbicgK1xuICAgICAgICAgICAgLy8gJ3ZhcnlpbmcgdmVjMiB2X1RleENvb3JkO1xcbicgK1xuICAgICAgICAgICAgLy8gJ3ZvaWQgbWFpbigpIHtcXG4nICtcbiAgICAgICAgICAgIC8vICcgIGdsX0ZyYWdDb2xvciA9IHRleHR1cmUyRCgnICsgU3ByaXRlRGVmYXVsdHMuVV9TQU1QTEVSICsgJywgdl9UZXhDb29yZCk7XFxuJyArXG4gICAgICAgICAgICAvLyAnfVxcbic7XG4gICAgICAgIHRoaXMuc2hhZGVyLmluaXQod2ViR0wsIHZlcnRleFNoYWRlclNvdXJjZSwgZnJhZ21lbnRTaGFkZXJTb3VyY2UpO1xuXG4gICAgICAgIC8vIEdFVCBUSEUgd2ViR0wgT0JKRUNUIFRPIFVTRVxuICAgICAgICB2YXIgdmVydGljZXNUZXhDb29yZHMgPSBuZXcgRmxvYXQzMkFycmF5KFtcbiAgICAgICAgICAgIC0wLjUsICAwLjUsIDAuMCwgMC4wLFxuICAgICAgICAgICAgLTAuNSwgLTAuNSwgMC4wLCAxLjAsXG4gICAgICAgICAgICAgMC41LCAgMC41LCAxLjAsIDAuMCxcbiAgICAgICAgICAgICAwLjUsIC0wLjUsIDEuMCwgMS4wXG4gICAgICAgIF0pO1xuXG4gICAgICAgIC8vIENSRUFURSBUSEUgQlVGRkVSIE9OIFRIRSBHUFVcbiAgICAgICAgdGhpcy52ZXJ0ZXhUZXhDb29yZEJ1ZmZlciA9IHdlYkdMLmNyZWF0ZUJ1ZmZlcigpO1xuXG4gICAgICAgIC8vIEJJTkQgVEhFIEJVRkZFUiBUTyBCRSBWRVJURVggREFUQVxuICAgICAgICB3ZWJHTC5iaW5kQnVmZmVyKHdlYkdMLkFSUkFZX0JVRkZFUiwgdGhpcy52ZXJ0ZXhUZXhDb29yZEJ1ZmZlcik7XG5cbiAgICAgICAgLy8gQU5EIFNFTkQgVEhFIERBVEEgVE8gVEhFIEJVRkZFUiBXRSBDUkVBVEVEIE9OIFRIRSBHUFVcbiAgICAgICAgd2ViR0wuYnVmZmVyRGF0YSh3ZWJHTC5BUlJBWV9CVUZGRVIsIHZlcnRpY2VzVGV4Q29vcmRzLCB3ZWJHTC5TVEFUSUNfRFJBVyk7XG5cbiAgICAgICAgLy8gU0VUVVAgVEhFIFNIQURFUiBBVFRSSUJVVEVTIEFORCBVTklGT1JNU1xuICAgICAgICB0aGlzLndlYkdMQXR0cmlidXRlTG9jYXRpb25zID0ge307XG4gICAgICAgIHRoaXMud2ViR0xVbmlmb3JtTG9jYXRpb25zID0ge307XG4gICAgICAgIHRoaXMubG9hZEF0dHJpYnV0ZUxvY2F0aW9ucyh3ZWJHTCwgW1Nwcml0ZURlZmF1bHRzLkFfUE9TSVRJT04sIFNwcml0ZURlZmF1bHRzLkFfVEVYX0NPT1JEXSk7XG4gICAgICAgIHRoaXMubG9hZFVuaWZvcm1Mb2NhdGlvbnMod2ViR0wsIFtTcHJpdGVEZWZhdWx0cy5VX1NQUklURV9UUkFOU0ZPUk0sIFNwcml0ZURlZmF1bHRzLlVfU0FNUExFUiwgU3ByaXRlRGVmYXVsdHMuVV9URVhfQ09PUkRfRkFDVE9SLCBTcHJpdGVEZWZhdWx0cy5VX1RFWF9DT09SRF9TSElGVF0pO1xuXG4gICAgICAgIC8vIFdFJ0xMIFVTRSBUSEVTRSBGT1IgVFJBTlNPRk1SSU5HIE9CSkVDVFMgV0hFTiBXRSBEUkFXIFRIRU1cbiAgICAgICAgdGhpcy5zcHJpdGVUcmFuc2Zvcm0gPSBuZXcgTWF0cml4KDQsIDQpO1xuICAgICAgICB0aGlzLnNwcml0ZVRyYW5zbGF0ZSA9IG5ldyBWZWN0b3IzKCk7XG4gICAgICAgIHRoaXMuc3ByaXRlUm90YXRlID0gbmV3IFZlY3RvcjMoKTtcbiAgICAgICAgdGhpcy5zcHJpdGVTY2FsZSA9IG5ldyBWZWN0b3IzKCk7XG4gICAgfVxuXG4gICAgcHVibGljIHJlbmRlckdyYWRpZW50Q2lyY2xlcyggIHdlYkdMIDogV2ViR0xSZW5kZXJpbmdDb250ZXh0LCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW52YXNXaWR0aCA6IG51bWJlciwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FudmFzSGVpZ2h0IDogbnVtYmVyLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aXNpYmxlU2V0IDogQXJyYXk8R3JhZGllbnRDaXJjbGU+KSA6IHZvaWQge1xuICAgICAgICAvLyBTRUxFQ1QgVEhFIEFOSU1BVEVEIFNQUklURSBSRU5ERVJJTkcgU0hBREVSIFBST0dSQU0gRk9SIFVTRVxuICAgICAgICBsZXQgc2hhZGVyUHJvZ3JhbVRvVXNlID0gdGhpcy5zaGFkZXIuZ2V0UHJvZ3JhbSgpO1xuICAgICAgICB3ZWJHTC51c2VQcm9ncmFtKHNoYWRlclByb2dyYW1Ub1VzZSk7XG5cbiAgICAgICAvLyBBTkQgVEhFTiBSRU5ERVIgRUFDSCBPTkVcbiAgICAgICBmb3IgKGxldCBzcHJpdGUgb2YgdmlzaWJsZVNldCkge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJBbmltYXRlZFNwcml0ZSh3ZWJHTCwgY2FudmFzV2lkdGgsIGNhbnZhc0hlaWdodCwgc3ByaXRlKTsgICAgICAgIFxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBsb2FkQXR0cmlidXRlTG9jYXRpb25zKHdlYkdMIDogV2ViR0xSZW5kZXJpbmdDb250ZXh0LCBhdHRyaWJ1dGVMb2NhdGlvbk5hbWVzIDogQXJyYXk8c3RyaW5nPikge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGF0dHJpYnV0ZUxvY2F0aW9uTmFtZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBsb2NhdGlvbk5hbWUgOiBzdHJpbmcgPSBhdHRyaWJ1dGVMb2NhdGlvbk5hbWVzW2ldO1xuICAgICAgICAgICAgbGV0IGxvY2F0aW9uIDogR0x1aW50ID0gd2ViR0wuZ2V0QXR0cmliTG9jYXRpb24odGhpcy5zaGFkZXIuZ2V0UHJvZ3JhbSgpLCBsb2NhdGlvbk5hbWUpO1xuICAgICAgICAgICAgdGhpcy53ZWJHTEF0dHJpYnV0ZUxvY2F0aW9uc1tsb2NhdGlvbk5hbWVdID0gbG9jYXRpb247XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGxvYWRVbmlmb3JtTG9jYXRpb25zKHdlYkdMIDogV2ViR0xSZW5kZXJpbmdDb250ZXh0LCB1bmlmb3JtTG9jYXRpb25OYW1lcyA6IEFycmF5PHN0cmluZz4pIHtcbiAgICAgICAgZm9yIChsZXQgaSA6IG51bWJlciA9IDA7IGkgPCB1bmlmb3JtTG9jYXRpb25OYW1lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IGxvY2F0aW9uTmFtZSA6IHN0cmluZyA9IHVuaWZvcm1Mb2NhdGlvbk5hbWVzW2ldO1xuICAgICAgICAgICAgbGV0IGxvY2F0aW9uIDogV2ViR0xVbmlmb3JtTG9jYXRpb24gPSB3ZWJHTC5nZXRVbmlmb3JtTG9jYXRpb24odGhpcy5zaGFkZXIuZ2V0UHJvZ3JhbSgpLCBsb2NhdGlvbk5hbWUpO1xuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhsb2NhdGlvbi4pXG4gICAgICAgICAgICB0aGlzLndlYkdMVW5pZm9ybUxvY2F0aW9uc1tsb2NhdGlvbk5hbWVdID0gbG9jYXRpb247XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIHJlbmRlckFuaW1hdGVkU3ByaXRlKCAgIHdlYkdMIDogV2ViR0xSZW5kZXJpbmdDb250ZXh0LCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW52YXNXaWR0aCA6IG51bWJlciwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FudmFzSGVpZ2h0IDogbnVtYmVyLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaXJjbGUgOiBHcmFkaWVudENpcmNsZSkge1xuICAgICAgIC8vIGxldCBzcHJpdGVUeXBlIDogR3JhZGllbnRDaXJjbGUgPSBjaXJjbGUuZ2V0Q2lyY2xlVHlwZSgpO1xuICAgICAgICAvL2xldCB0ZXh0dXJlIDogV2ViR0xHYW1lVGV4dHVyZSA9IHNwcml0ZVR5cGUuZ2V0U3ByaXRlU2hlZXRUZXh0dXJlKCk7XG5cbiAgICAgICAgLy8gQ0FMQ1VMQVRFIEhPVyBNVUNIIFRPIFRSQU5TTEFURSBUSEUgUVVBRCBQRVIgVEhFIFNQUklURSBQT1NJVElPTlxuICAgICAgICBsZXQgc3ByaXRlV2lkdGggOiBudW1iZXIgPSAxMDA7XG4gICAgICAgIGxldCBzcHJpdGVIZWlnaHQgOiBudW1iZXIgPSAxMDA7XG4gICAgICAgIGxldCBzcHJpdGVYSW5QaXhlbHMgOiBudW1iZXIgPSBjaXJjbGUuZ2V0UG9zaXRpb24oKS5nZXRYKCkgKyAoc3ByaXRlV2lkdGgvMik7XG4gICAgICAgIGxldCBzcHJpdGVZSW5QaXhlbHMgOiBudW1iZXIgPSBjaXJjbGUuZ2V0UG9zaXRpb24oKS5nZXRZKCkgKyAoc3ByaXRlSGVpZ2h0LzIpO1xuICAgICAgICBsZXQgc3ByaXRlWFRyYW5zbGF0ZSA6IG51bWJlciA9IChzcHJpdGVYSW5QaXhlbHMgLSAoY2FudmFzV2lkdGgvMikpLyhjYW52YXNXaWR0aC8yKTtcbiAgICAgICAgbGV0IHNwcml0ZVlUcmFuc2xhdGUgOiBudW1iZXIgPSAoc3ByaXRlWUluUGl4ZWxzIC0gKGNhbnZhc0hlaWdodC8yKSkvKGNhbnZhc0hlaWdodC8yKTtcbiAgICAgICAgdGhpcy5zcHJpdGVUcmFuc2xhdGUuc2V0WChzcHJpdGVYVHJhbnNsYXRlKTtcbiAgICAgICAgdGhpcy5zcHJpdGVUcmFuc2xhdGUuc2V0WSgtc3ByaXRlWVRyYW5zbGF0ZSk7XG5cbiAgICAgICAgLy8gQ0FMQ1VMQVRFIEhPVyBNVUNIIFRPIFNDQUxFIFRIRSBRVUFEIFBFUiBUSEUgU1BSSVRFIFNJWkVcbiAgICAgICAgbGV0IGRlZmF1bHRXaWR0aCA6IG51bWJlciA9IGNhbnZhc1dpZHRoLzI7XG4gICAgICAgIGxldCBkZWZhdWx0SGVpZ2h0IDogbnVtYmVyID0gY2FudmFzSGVpZ2h0LzI7XG4gICAgICAgIGxldCBzY2FsZVggOiBudW1iZXIgPSAyNTAvZGVmYXVsdFdpZHRoO1xuICAgICAgICBsZXQgc2NhbGVZIDogbnVtYmVyID0gMjUwL2RlZmF1bHRIZWlnaHQ7XG4gICAgICAgIHRoaXMuc3ByaXRlU2NhbGUuc2V0WChzY2FsZVgpO1xuICAgICAgICB0aGlzLnNwcml0ZVNjYWxlLnNldFkoc2NhbGVZKTtcblxuICAgICAgICAvLyBAdG9kbyAtIENPTUJJTkUgVEhJUyBXSVRIIFRIRSBST1RBVEUgQU5EIFNDQUxFIFZBTFVFUyBGUk9NIFRIRSBTUFJJVEVcbiAgICAgICAgTWF0aFV0aWxpdGllcy5pZGVudGl0eSh0aGlzLnNwcml0ZVRyYW5zZm9ybSk7XG4gICAgICAgIE1hdGhVdGlsaXRpZXMubW9kZWwodGhpcy5zcHJpdGVUcmFuc2Zvcm0sIHRoaXMuc3ByaXRlVHJhbnNsYXRlLCB0aGlzLnNwcml0ZVJvdGF0ZSwgdGhpcy5zcHJpdGVTY2FsZSk7XG4gICAgICAgIFxuICAgICAgICAvLyBGSUdVUkUgT1VUIFRIRSBURVhUVVJFIENPT1JESU5BVEUgRkFDVE9SIEFORCBTSElGVFxuICAgICAgICAvLyBsZXQgdGV4Q29vcmRGYWN0b3JYIDogbnVtYmVyID0gc3ByaXRlV2lkdGgvdGV4dHVyZS53aWR0aDtcbiAgICAgICAgLy8gbGV0IHRleENvb3JkRmFjdG9yWSA6IG51bWJlciA9IHNwcml0ZUhlaWdodC90ZXh0dXJlLmhlaWdodDtcbiAgICAgICAgLy8gbGV0IHNwcml0ZUxlZnQgOiBudW1iZXIgPSBzcHJpdGUuZ2V0TGVmdCgpO1xuICAgICAgICAvLyBsZXQgc3ByaXRlVG9wIDogbnVtYmVyID0gc3ByaXRlLmdldFRvcCgpO1xuICAgICAgICAvLyBsZXQgdGV4Q29vcmRTaGlmdFggOiBudW1iZXIgPSBzcHJpdGVMZWZ0L3RleHR1cmUud2lkdGg7XG4gICAgICAgIC8vIGxldCB0ZXhDb29yZFNoaWZ0WSA6IG51bWJlciA9IHNwcml0ZVRvcC90ZXh0dXJlLmhlaWdodDsgICBcblxuICAgICAgICAvLyBVU0UgVEhFIEFUVFJJQlVURVNcbiAgIC8vIHdlYkdMLmJpbmRCdWZmZXIod2ViR0wuQVJSQVlfQlVGRkVSLCB0aGlzLnZlcnRleFRleENvb3JkQnVmZmVyKTtcbiAgICAgICAvLyB3ZWJHTC5iaW5kVGV4dHVyZSh3ZWJHTC5URVhUVVJFXzJELCB0ZXh0dXJlLndlYkdMVGV4dHVyZSk7XG5cbiAgICAgICAgLy8gSE9PSyBVUCBUSEUgQVRUUklCVVRFU1xuICAgICAgICBsZXQgYV9Qb3NpdGlvbkxvY2F0aW9uIDogR0x1aW50ID0gdGhpcy53ZWJHTEF0dHJpYnV0ZUxvY2F0aW9uc1tTcHJpdGVEZWZhdWx0cy5BX1BPU0lUSU9OXTtcbiAgICAgICAgd2ViR0wudmVydGV4QXR0cmliUG9pbnRlcihhX1Bvc2l0aW9uTG9jYXRpb24sIFNwcml0ZURlZmF1bHRzLkZMT0FUU19QRVJfVEVYVFVSRV9DT09SRElOQVRFLCB3ZWJHTC5GTE9BVCwgZmFsc2UsIFNwcml0ZURlZmF1bHRzLlRPVEFMX0JZVEVTLCBTcHJpdGVEZWZhdWx0cy5WRVJURVhfUE9TSVRJT05fT0ZGU0VUKTtcbiAgICAgICAgd2ViR0wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkoYV9Qb3NpdGlvbkxvY2F0aW9uKTtcbiAgICAgIC8vICBsZXQgYV9UZXhDb29yZExvY2F0aW9uIDogR0x1aW50ID0gdGhpcy53ZWJHTEF0dHJpYnV0ZUxvY2F0aW9uc1tTcHJpdGVEZWZhdWx0cy5BX1RFWF9DT09SRF07XG4gICAgICAgLy8gd2ViR0wudmVydGV4QXR0cmliUG9pbnRlcihhX1RleENvb3JkTG9jYXRpb24sIFNwcml0ZURlZmF1bHRzLkZMT0FUU19QRVJfVEVYVFVSRV9DT09SRElOQVRFLCB3ZWJHTC5GTE9BVCwgZmFsc2UsIFNwcml0ZURlZmF1bHRzLlRPVEFMX0JZVEVTLCBTcHJpdGVEZWZhdWx0cy5URVhUVVJFX0NPT1JESU5BVEVfT0ZGU0VUKTtcbiAgICAgICAvLyB3ZWJHTC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShhX1RleENvb3JkTG9jYXRpb24pO1xuXG4gICAgICAgIC8vIFVTRSBUSEUgVU5JRk9STVNcbiAgICAgICAgbGV0IHVfU3ByaXRlVHJhbnNmb3JtTG9jYXRpb24gOiBXZWJHTFVuaWZvcm1Mb2NhdGlvbiA9IHRoaXMud2ViR0xVbmlmb3JtTG9jYXRpb25zW1Nwcml0ZURlZmF1bHRzLlVfU1BSSVRFX1RSQU5TRk9STV07XG4gICAgICAgIHdlYkdMLnVuaWZvcm1NYXRyaXg0ZnYodV9TcHJpdGVUcmFuc2Zvcm1Mb2NhdGlvbiwgZmFsc2UsIHRoaXMuc3ByaXRlVHJhbnNmb3JtLmdldERhdGEoKSk7XG4gICAgICAvLyAgbGV0IHVfU2FtcGxlckxvY2F0aW9uIDogV2ViR0xVbmlmb3JtTG9jYXRpb24gPSB0aGlzLndlYkdMVW5pZm9ybUxvY2F0aW9uc1tTcHJpdGVEZWZhdWx0cy5VX1NBTVBMRVJdO1xuICAgICAgICAvL3dlYkdMLnVuaWZvcm0xaSh1X1NhbXBsZXJMb2NhdGlvbiwgdGV4dHVyZS53ZWJHTFRleHR1cmVJZCk7XG4gICAgLy8gICAgIGxldCB1X1RleENvb3JkRmFjdG9yTG9jYXRpb24gOiBXZWJHTFVuaWZvcm1Mb2NhdGlvbiA9IHRoaXMud2ViR0xVbmlmb3JtTG9jYXRpb25zW1Nwcml0ZURlZmF1bHRzLlVfVEVYX0NPT1JEX0ZBQ1RPUl07XG4gICAgLy8gICAgLy8gd2ViR0wudW5pZm9ybTJmKHVfVGV4Q29vcmRGYWN0b3JMb2NhdGlvbiwgdGV4Q29vcmRGYWN0b3JYLCB0ZXhDb29yZEZhY3RvclkpO1xuICAgIC8vICAgICBsZXQgdV9UZXhDb29yZFNoaWZ0TG9jYXRpb24gOiBXZWJHTFVuaWZvcm1Mb2NhdGlvbiA9IHRoaXMud2ViR0xVbmlmb3JtTG9jYXRpb25zW1Nwcml0ZURlZmF1bHRzLlVfVEVYX0NPT1JEX1NISUZUXTtcbiAgICAvLyAgICAgd2ViR0wudW5pZm9ybTJmKHVfVGV4Q29vcmRTaGlmdExvY2F0aW9uLCB0ZXhDb29yZFNoaWZ0WCwgdGV4Q29vcmRTaGlmdFkpO1xuXG4gICAgICAgIC8vIERSQVcgVEhFIFNQUklURSBBUyBBIFRSSUFOR0xFIFNUUklQIFVTSU5HIDQgVkVSVElDRVMsIFNUQVJUSU5HIEFUIFRIRSBTVEFSVCBPRiBUSEUgQVJSQVkgKGluZGV4IDApXG4gICAgICAgIHdlYkdMLmRyYXdBcnJheXMod2ViR0wuVFJJQU5HTEVfU1RSSVAsIFNwcml0ZURlZmF1bHRzLklOREVYX09GX0ZJUlNUX1ZFUlRFWCwgU3ByaXRlRGVmYXVsdHMuTlVNX1ZFUlRJQ0VTKTtcbiAgICB9XG59IiwiaW1wb3J0IHtXZWJHTEdhbWVTaGFkZXJ9IGZyb20gJy4vV2ViR0xHYW1lU2hhZGVyJ1xuaW1wb3J0IHtNYXRoVXRpbGl0aWVzfSBmcm9tICcuLi9tYXRoL01hdGhVdGlsaXRpZXMnXG5pbXBvcnQgeyBNYXRyaXggfSBmcm9tICcuLi9tYXRoL01hdHJpeCdcbmltcG9ydCB7IFZlY3RvcjMgfSBmcm9tICcuLi9tYXRoL1ZlY3RvcjMnXG5pbXBvcnQge0dyYWRpZW50Q2lyY2xlfSBmcm9tICcuLi9zY2VuZS9jaXJjbGUvR3JhZGllbnRDaXJjbGUnXG5pbXBvcnQge0dyYWRpZW50Q2lyY2xlVHlwZX0gZnJvbSAnLi4vc2NlbmUvY2lyY2xlL0dyYWRpZW50Q2lyY2xlVHlwZSdcbmltcG9ydCB7V2ViR0xHYW1lVGV4dHVyZX0gZnJvbSAnLi9XZWJHTEdhbWVUZXh0dXJlJ1xuaW1wb3J0IHtIYXNoVGFibGV9IGZyb20gJy4uL2RhdGEvSGFzaFRhYmxlJ1xuXG52YXIgU3ByaXRlRGVmYXVsdHMgPSB7XG4gICAgQV9QT1NJVElPTjogXCJhX1Bvc2l0aW9uXCIsXG4gICAgQV9WQUxVRV9UT19JTlRFUlBPTEFURTogXCJhX1ZhbHVlVG9JbnRlcnBvbGF0ZVwiLFxuICAgIEFfVEVYX0NPT1JEOiBcImFfVGV4Q29vcmRcIixcbiAgICBVX1NQUklURV9UUkFOU0ZPUk06IFwidV9TcHJpdGVUcmFuc2Zvcm1cIixcbiAgICBVX1RFWF9DT09SRF9GQUNUT1I6IFwidV9UZXhDb29yZEZhY3RvclwiLFxuICAgIFVfVEVYX0NPT1JEX1NISUZUOiBcInVfVGV4Q29vcmRTaGlmdFwiLFxuICAgIFVfU0FNUExFUjogXCJ1X1NhbXBsZXJcIixcbiAgICBOVU1fVkVSVElDRVM6IDQsXG4gICAgRkxPQVRTX1BFUl9WRVJURVg6IDIsXG4gICAgRkxPQVRTX1BFUl9URVhUVVJFX0NPT1JESU5BVEU6IDIsXG4gICAgVE9UQUxfQllURVM6IDE2LFxuICAgIFZFUlRFWF9QT1NJVElPTl9PRkZTRVQ6IDAsXG4gICAgVEVYVFVSRV9DT09SRElOQVRFX09GRlNFVDogOCxcbiAgICBJTkRFWF9PRl9GSVJTVF9WRVJURVg6IDBcbn07XG5cbmV4cG9ydCBjbGFzcyBXZWJHTEdhbWVDeWFuQ2lyY2xlUmVuZGVyZXIge1xuICAgIHByaXZhdGUgc2hhZGVyIDogV2ViR0xHYW1lU2hhZGVyO1xuICAgIHByaXZhdGUgdmVydGV4VGV4Q29vcmRCdWZmZXIgOiBXZWJHTEJ1ZmZlcjtcblxuICAgIC8vIFdFJ0xMIFVTRSBUSEVTRSBGT1IgVFJBTlNPRk1SSU5HIE9CSkVDVFMgV0hFTiBXRSBEUkFXIFRIRU1cbiAgICBwcml2YXRlIHNwcml0ZVRyYW5zZm9ybSA6IE1hdHJpeDtcbiAgICBwcml2YXRlIHNwcml0ZVRyYW5zbGF0ZSA6IFZlY3RvcjM7XG4gICAgcHJpdmF0ZSBzcHJpdGVSb3RhdGUgOiBWZWN0b3IzO1xuICAgIHByaXZhdGUgc3ByaXRlU2NhbGUgOiBWZWN0b3IzOyAgICBcblxuICAgIHByaXZhdGUgd2ViR0xBdHRyaWJ1dGVMb2NhdGlvbnMgOiBIYXNoVGFibGU8R0x1aW50PjtcbiAgICBwcml2YXRlIHdlYkdMVW5pZm9ybUxvY2F0aW9ucyA6IEhhc2hUYWJsZTxXZWJHTFVuaWZvcm1Mb2NhdGlvbj47XG5cbiAgICBwdWJsaWMgY29uc3RydWN0b3IoKSB7fVxuICAgIFxuICAgIHB1YmxpYyBpbml0KHdlYkdMIDogV2ViR0xSZW5kZXJpbmdDb250ZXh0KSA6IHZvaWQge1xuICAgICAgICAgICAgdGhpcy5zaGFkZXIgPSBuZXcgV2ViR0xHYW1lU2hhZGVyKCk7XG4gICAgICAgICAgICB2YXIgdmVydGV4U2hhZGVyU291cmNlID1cbiAgICAgICAgICAgICdwcmVjaXNpb24gaGlnaHAgZmxvYXQ7XFxuXFxuJyArXG4gICAgICAgICAgICAvLyd1bmlmb3JtIHZlYzIgJyArIENpcmNsZURlZmF1bHRzLlVfVEVYX0NPT1JEX0ZBQ1RPUiArICc7XFxuJyArXG4gICAgICAgICAgICAvLyd1bmlmb3JtIHZlYzIgJyArIENpcmNsZURlZmF1bHRzLlVfVEVYX0NPT1JEX1NISUZUICsgJztcXG4nICtcbiAgICAgICAgICAgICdhdHRyaWJ1dGUgdmVjNCAnICsgU3ByaXRlRGVmYXVsdHMuQV9QT1NJVElPTiArICc7XFxuJyArXG4gICAgICAgICAgICAnYXR0cmlidXRlIHZlYzIgJyArIFNwcml0ZURlZmF1bHRzLkFfVkFMVUVfVE9fSU5URVJQT0xBVEUgKyAnO1xcbicgK1xuICAgICAgICAgICAgJ3ZhcnlpbmcgdmVjMiB2YWw7XFxuJyArXG4gICAgICAgICAgICAndW5pZm9ybSBtYXQ0ICcgKyBTcHJpdGVEZWZhdWx0cy5VX1NQUklURV9UUkFOU0ZPUk0gKyAnO1xcbicgK1xuICAgICAgICAgICAgJ3ZvaWQgbWFpbigpIHtcXG4nICtcbiAgICAgICAgICAgICcgIHZhbCA9ICcgKyBTcHJpdGVEZWZhdWx0cy5BX1ZBTFVFX1RPX0lOVEVSUE9MQVRFICsgJztcXG4nICtcbiAgICAgICAgICAgICcgIGdsX1Bvc2l0aW9uID0gJyArIFNwcml0ZURlZmF1bHRzLlVfU1BSSVRFX1RSQU5TRk9STSArICcgKiAnICsgU3ByaXRlRGVmYXVsdHMuQV9QT1NJVElPTiArICc7XFxuJyArXG4gICAgICAgICAgICAnfVxcbic7XG4gICAgICAgICAgICAvLyAndW5pZm9ybSBtYXQ0ICcgKyBTcHJpdGVEZWZhdWx0cy5VX1NQUklURV9UUkFOU0ZPUk0gKyAnO1xcbicgK1xuICAgICAgICAgICAgLy8gJ3VuaWZvcm0gdmVjMiAnICsgU3ByaXRlRGVmYXVsdHMuVV9URVhfQ09PUkRfRkFDVE9SICsgJztcXG4nICtcbiAgICAgICAgICAgIC8vICd1bmlmb3JtIHZlYzIgJyArIFNwcml0ZURlZmF1bHRzLlVfVEVYX0NPT1JEX1NISUZUICsgJztcXG4nICtcbiAgICAgICAgICAgIC8vICdhdHRyaWJ1dGUgdmVjNCAnICsgU3ByaXRlRGVmYXVsdHMuQV9QT1NJVElPTiArICc7XFxuJyArXG4gICAgICAgICAgICAvLyAnYXR0cmlidXRlIHZlYzIgJyArIFNwcml0ZURlZmF1bHRzLkFfVEVYX0NPT1JEICsgJztcXG4nICtcbiAgICAgICAgICAgIC8vICd2YXJ5aW5nIHZlYzIgdl9UZXhDb29yZDtcXG4nICtcbiAgICAgICAgICAgIC8vICd2b2lkIG1haW4oKSB7XFxuJyArXG4gICAgICAgICAgICAvLyAnICBnbF9Qb3NpdGlvbiA9ICcgKyBTcHJpdGVEZWZhdWx0cy5VX1NQUklURV9UUkFOU0ZPUk0gKyAnICogJyArIFNwcml0ZURlZmF1bHRzLkFfUE9TSVRJT04gKyAnO1xcbicgK1xuICAgICAgICAgICAgLy8gJyAgdmVjMiB0ZW1wVGV4Q29vcmQgPSAnICsgU3ByaXRlRGVmYXVsdHMuQV9URVhfQ09PUkQgKyAnICogJyArIFNwcml0ZURlZmF1bHRzLlVfVEVYX0NPT1JEX0ZBQ1RPUiArICc7XFxuJyArXG4gICAgICAgICAgICAvLyAnICB2X1RleENvb3JkID0gdGVtcFRleENvb3JkICsgJyArIFNwcml0ZURlZmF1bHRzLlVfVEVYX0NPT1JEX1NISUZUICsgJztcXG4nICtcbiAgICAgICAgICAgIC8vICd9XFxuJztcbiAgICAgICAgdmFyIGZyYWdtZW50U2hhZGVyU291cmNlID1cbiAgICAgICAgICAgICdwcmVjaXNpb24gaGlnaHAgZmxvYXQ7XFxuJyArXG4gICAgICAgICAgICAndmFyeWluZyB2ZWMyIHZhbDtcXG4nICtcbiAgICAgICAgICAgICd2b2lkIG1haW4oKSB7XFxuJyArXG4gICAgICAgICAgICAnICBmbG9hdCBSID0gMC40O1xcbicgK1xuICAgICAgICAgICAgJyAgZmxvYXQgZGlzdCA9IHNxcnQoZG90KHZhbCx2YWwpKTtcXG4nICtcbiAgICAgICAgICAgICcgIGZsb2F0IGFscGhhID0gMS4wO1xcbicgK1xuICAgICAgICAgICAgJyAgaWYgKGRpc3QgPiBSKSB7XFxuJyArXG4gICAgICAgICAgICAnICAgIGRpc2NhcmQ7XFxuJyArXG4gICAgICAgICAgICAnICB9XFxuJyArXG4gICAgICAgICAgICAnICBnbF9GcmFnQ29sb3IgPSB2ZWM0KDAsIGRpc3QsIGRpc3QsIGFscGhhKTtcXG4nICsgLy9UT0RPIG1pZ2h0IG5lZWQgcmFuZG9tbHkgZ2VuZXJhdGVkIHZhcmlhYmxlcyBoZXJlXG4gICAgICAgICAgICAnfVxcbic7XG4gICAgICAgICAgICAvLyAnI2lmZGVmIEdMX0VTXFxuJyArXG4gICAgICAgICAgICAvLyAncHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XFxuJyArXG4gICAgICAgICAgICAvLyAnI2VuZGlmXFxuJyArXG4gICAgICAgICAgICAvLyAndW5pZm9ybSBzYW1wbGVyMkQgJyArIFNwcml0ZURlZmF1bHRzLlVfU0FNUExFUiArICc7XFxuJyArXG4gICAgICAgICAgICAvLyAndmFyeWluZyB2ZWMyIHZfVGV4Q29vcmQ7XFxuJyArXG4gICAgICAgICAgICAvLyAndm9pZCBtYWluKCkge1xcbicgK1xuICAgICAgICAgICAgLy8gJyAgZ2xfRnJhZ0NvbG9yID0gdGV4dHVyZTJEKCcgKyBTcHJpdGVEZWZhdWx0cy5VX1NBTVBMRVIgKyAnLCB2X1RleENvb3JkKTtcXG4nICtcbiAgICAgICAgICAgIC8vICd9XFxuJztcbiAgICAgICAgdGhpcy5zaGFkZXIuaW5pdCh3ZWJHTCwgdmVydGV4U2hhZGVyU291cmNlLCBmcmFnbWVudFNoYWRlclNvdXJjZSk7XG5cbiAgICAgICAgLy8gR0VUIFRIRSB3ZWJHTCBPQkpFQ1QgVE8gVVNFXG4gICAgICAgIHZhciB2ZXJ0aWNlc1RleENvb3JkcyA9IG5ldyBGbG9hdDMyQXJyYXkoW1xuICAgICAgICAgICAgLTAuNSwgIDAuNSwgMC4wLCAwLjAsXG4gICAgICAgICAgICAtMC41LCAtMC41LCAwLjAsIDEuMCxcbiAgICAgICAgICAgICAwLjUsICAwLjUsIDEuMCwgMC4wLFxuICAgICAgICAgICAgIDAuNSwgLTAuNSwgMS4wLCAxLjBcbiAgICAgICAgXSk7XG5cbiAgICAgICAgLy8gQ1JFQVRFIFRIRSBCVUZGRVIgT04gVEhFIEdQVVxuICAgICAgICB0aGlzLnZlcnRleFRleENvb3JkQnVmZmVyID0gd2ViR0wuY3JlYXRlQnVmZmVyKCk7XG5cbiAgICAgICAgLy8gQklORCBUSEUgQlVGRkVSIFRPIEJFIFZFUlRFWCBEQVRBXG4gICAgICAgIHdlYkdMLmJpbmRCdWZmZXIod2ViR0wuQVJSQVlfQlVGRkVSLCB0aGlzLnZlcnRleFRleENvb3JkQnVmZmVyKTtcblxuICAgICAgICAvLyBBTkQgU0VORCBUSEUgREFUQSBUTyBUSEUgQlVGRkVSIFdFIENSRUFURUQgT04gVEhFIEdQVVxuICAgICAgICB3ZWJHTC5idWZmZXJEYXRhKHdlYkdMLkFSUkFZX0JVRkZFUiwgdmVydGljZXNUZXhDb29yZHMsIHdlYkdMLlNUQVRJQ19EUkFXKTtcblxuICAgICAgICAvLyBTRVRVUCBUSEUgU0hBREVSIEFUVFJJQlVURVMgQU5EIFVOSUZPUk1TXG4gICAgICAgIHRoaXMud2ViR0xBdHRyaWJ1dGVMb2NhdGlvbnMgPSB7fTtcbiAgICAgICAgdGhpcy53ZWJHTFVuaWZvcm1Mb2NhdGlvbnMgPSB7fTtcbiAgICAgICAgdGhpcy5sb2FkQXR0cmlidXRlTG9jYXRpb25zKHdlYkdMLCBbU3ByaXRlRGVmYXVsdHMuQV9QT1NJVElPTiwgU3ByaXRlRGVmYXVsdHMuQV9URVhfQ09PUkRdKTtcbiAgICAgICAgdGhpcy5sb2FkVW5pZm9ybUxvY2F0aW9ucyh3ZWJHTCwgW1Nwcml0ZURlZmF1bHRzLlVfU1BSSVRFX1RSQU5TRk9STSwgU3ByaXRlRGVmYXVsdHMuVV9TQU1QTEVSLCBTcHJpdGVEZWZhdWx0cy5VX1RFWF9DT09SRF9GQUNUT1IsIFNwcml0ZURlZmF1bHRzLlVfVEVYX0NPT1JEX1NISUZUXSk7XG5cbiAgICAgICAgLy8gV0UnTEwgVVNFIFRIRVNFIEZPUiBUUkFOU09GTVJJTkcgT0JKRUNUUyBXSEVOIFdFIERSQVcgVEhFTVxuICAgICAgICB0aGlzLnNwcml0ZVRyYW5zZm9ybSA9IG5ldyBNYXRyaXgoNCwgNCk7XG4gICAgICAgIHRoaXMuc3ByaXRlVHJhbnNsYXRlID0gbmV3IFZlY3RvcjMoKTtcbiAgICAgICAgdGhpcy5zcHJpdGVSb3RhdGUgPSBuZXcgVmVjdG9yMygpO1xuICAgICAgICB0aGlzLnNwcml0ZVNjYWxlID0gbmV3IFZlY3RvcjMoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgcmVuZGVyUmVkQ2lyY2xlcyggIHdlYkdMIDogV2ViR0xSZW5kZXJpbmdDb250ZXh0LCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW52YXNXaWR0aCA6IG51bWJlciwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FudmFzSGVpZ2h0IDogbnVtYmVyLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aXNpYmxlU2V0IDogQXJyYXk8R3JhZGllbnRDaXJjbGU+KSA6IHZvaWQge1xuICAgICAgICAvLyBTRUxFQ1QgVEhFIEFOSU1BVEVEIFNQUklURSBSRU5ERVJJTkcgU0hBREVSIFBST0dSQU0gRk9SIFVTRVxuICAgICAgICBsZXQgc2hhZGVyUHJvZ3JhbVRvVXNlID0gdGhpcy5zaGFkZXIuZ2V0UHJvZ3JhbSgpO1xuICAgICAgICB3ZWJHTC51c2VQcm9ncmFtKHNoYWRlclByb2dyYW1Ub1VzZSk7XG5cbiAgICAgICAvLyBBTkQgVEhFTiBSRU5ERVIgRUFDSCBPTkVcbiAgICAgICBmb3IgKGxldCBzcHJpdGUgb2YgdmlzaWJsZVNldCkge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJBbmltYXRlZFNwcml0ZSh3ZWJHTCwgY2FudmFzV2lkdGgsIGNhbnZhc0hlaWdodCwgc3ByaXRlKTsgICAgICAgIFxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBsb2FkQXR0cmlidXRlTG9jYXRpb25zKHdlYkdMIDogV2ViR0xSZW5kZXJpbmdDb250ZXh0LCBhdHRyaWJ1dGVMb2NhdGlvbk5hbWVzIDogQXJyYXk8c3RyaW5nPikge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGF0dHJpYnV0ZUxvY2F0aW9uTmFtZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBsb2NhdGlvbk5hbWUgOiBzdHJpbmcgPSBhdHRyaWJ1dGVMb2NhdGlvbk5hbWVzW2ldO1xuICAgICAgICAgICAgbGV0IGxvY2F0aW9uIDogR0x1aW50ID0gd2ViR0wuZ2V0QXR0cmliTG9jYXRpb24odGhpcy5zaGFkZXIuZ2V0UHJvZ3JhbSgpLCBsb2NhdGlvbk5hbWUpO1xuICAgICAgICAgICAgdGhpcy53ZWJHTEF0dHJpYnV0ZUxvY2F0aW9uc1tsb2NhdGlvbk5hbWVdID0gbG9jYXRpb247XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGxvYWRVbmlmb3JtTG9jYXRpb25zKHdlYkdMIDogV2ViR0xSZW5kZXJpbmdDb250ZXh0LCB1bmlmb3JtTG9jYXRpb25OYW1lcyA6IEFycmF5PHN0cmluZz4pIHtcbiAgICAgICAgZm9yIChsZXQgaSA6IG51bWJlciA9IDA7IGkgPCB1bmlmb3JtTG9jYXRpb25OYW1lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IGxvY2F0aW9uTmFtZSA6IHN0cmluZyA9IHVuaWZvcm1Mb2NhdGlvbk5hbWVzW2ldO1xuICAgICAgICAgICAgbGV0IGxvY2F0aW9uIDogV2ViR0xVbmlmb3JtTG9jYXRpb24gPSB3ZWJHTC5nZXRVbmlmb3JtTG9jYXRpb24odGhpcy5zaGFkZXIuZ2V0UHJvZ3JhbSgpLCBsb2NhdGlvbk5hbWUpO1xuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhsb2NhdGlvbi4pXG4gICAgICAgICAgICB0aGlzLndlYkdMVW5pZm9ybUxvY2F0aW9uc1tsb2NhdGlvbk5hbWVdID0gbG9jYXRpb247XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIHJlbmRlckFuaW1hdGVkU3ByaXRlKCAgIHdlYkdMIDogV2ViR0xSZW5kZXJpbmdDb250ZXh0LCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW52YXNXaWR0aCA6IG51bWJlciwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FudmFzSGVpZ2h0IDogbnVtYmVyLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaXJjbGUgOiBHcmFkaWVudENpcmNsZSkge1xuICAgICAgIC8vIGxldCBzcHJpdGVUeXBlIDogR3JhZGllbnRDaXJjbGUgPSBjaXJjbGUuZ2V0Q2lyY2xlVHlwZSgpO1xuICAgICAgICAvL2xldCB0ZXh0dXJlIDogV2ViR0xHYW1lVGV4dHVyZSA9IHNwcml0ZVR5cGUuZ2V0U3ByaXRlU2hlZXRUZXh0dXJlKCk7XG5cbiAgICAgICAgLy8gQ0FMQ1VMQVRFIEhPVyBNVUNIIFRPIFRSQU5TTEFURSBUSEUgUVVBRCBQRVIgVEhFIFNQUklURSBQT1NJVElPTlxuICAgICAgICBsZXQgc3ByaXRlV2lkdGggOiBudW1iZXIgPSAxMDA7XG4gICAgICAgIGxldCBzcHJpdGVIZWlnaHQgOiBudW1iZXIgPSAxMDA7XG4gICAgICAgIGxldCBzcHJpdGVYSW5QaXhlbHMgOiBudW1iZXIgPSBjaXJjbGUuZ2V0UG9zaXRpb24oKS5nZXRYKCkgKyAoc3ByaXRlV2lkdGgvMik7XG4gICAgICAgIGxldCBzcHJpdGVZSW5QaXhlbHMgOiBudW1iZXIgPSBjaXJjbGUuZ2V0UG9zaXRpb24oKS5nZXRZKCkgKyAoc3ByaXRlSGVpZ2h0LzIpO1xuICAgICAgICBsZXQgc3ByaXRlWFRyYW5zbGF0ZSA6IG51bWJlciA9IChzcHJpdGVYSW5QaXhlbHMgLSAoY2FudmFzV2lkdGgvMikpLyhjYW52YXNXaWR0aC8yKTtcbiAgICAgICAgbGV0IHNwcml0ZVlUcmFuc2xhdGUgOiBudW1iZXIgPSAoc3ByaXRlWUluUGl4ZWxzIC0gKGNhbnZhc0hlaWdodC8yKSkvKGNhbnZhc0hlaWdodC8yKTtcbiAgICAgICAgdGhpcy5zcHJpdGVUcmFuc2xhdGUuc2V0WChzcHJpdGVYVHJhbnNsYXRlKTtcbiAgICAgICAgdGhpcy5zcHJpdGVUcmFuc2xhdGUuc2V0WSgtc3ByaXRlWVRyYW5zbGF0ZSk7XG5cbiAgICAgICAgLy8gQ0FMQ1VMQVRFIEhPVyBNVUNIIFRPIFNDQUxFIFRIRSBRVUFEIFBFUiBUSEUgU1BSSVRFIFNJWkVcbiAgICAgICAgbGV0IGRlZmF1bHRXaWR0aCA6IG51bWJlciA9IGNhbnZhc1dpZHRoLzI7XG4gICAgICAgIGxldCBkZWZhdWx0SGVpZ2h0IDogbnVtYmVyID0gY2FudmFzSGVpZ2h0LzI7XG4gICAgICAgIGxldCBzY2FsZVggOiBudW1iZXIgPSAyNTAvZGVmYXVsdFdpZHRoO1xuICAgICAgICBsZXQgc2NhbGVZIDogbnVtYmVyID0gMjUwL2RlZmF1bHRIZWlnaHQ7XG4gICAgICAgIHRoaXMuc3ByaXRlU2NhbGUuc2V0WChzY2FsZVgpO1xuICAgICAgICB0aGlzLnNwcml0ZVNjYWxlLnNldFkoc2NhbGVZKTtcblxuICAgICAgICAvLyBAdG9kbyAtIENPTUJJTkUgVEhJUyBXSVRIIFRIRSBST1RBVEUgQU5EIFNDQUxFIFZBTFVFUyBGUk9NIFRIRSBTUFJJVEVcbiAgICAgICAgTWF0aFV0aWxpdGllcy5pZGVudGl0eSh0aGlzLnNwcml0ZVRyYW5zZm9ybSk7XG4gICAgICAgIE1hdGhVdGlsaXRpZXMubW9kZWwodGhpcy5zcHJpdGVUcmFuc2Zvcm0sIHRoaXMuc3ByaXRlVHJhbnNsYXRlLCB0aGlzLnNwcml0ZVJvdGF0ZSwgdGhpcy5zcHJpdGVTY2FsZSk7XG4gICAgICAgIFxuICAgICAgICAvLyBGSUdVUkUgT1VUIFRIRSBURVhUVVJFIENPT1JESU5BVEUgRkFDVE9SIEFORCBTSElGVFxuICAgICAgICAvLyBsZXQgdGV4Q29vcmRGYWN0b3JYIDogbnVtYmVyID0gc3ByaXRlV2lkdGgvdGV4dHVyZS53aWR0aDtcbiAgICAgICAgLy8gbGV0IHRleENvb3JkRmFjdG9yWSA6IG51bWJlciA9IHNwcml0ZUhlaWdodC90ZXh0dXJlLmhlaWdodDtcbiAgICAgICAgLy8gbGV0IHNwcml0ZUxlZnQgOiBudW1iZXIgPSBzcHJpdGUuZ2V0TGVmdCgpO1xuICAgICAgICAvLyBsZXQgc3ByaXRlVG9wIDogbnVtYmVyID0gc3ByaXRlLmdldFRvcCgpO1xuICAgICAgICAvLyBsZXQgdGV4Q29vcmRTaGlmdFggOiBudW1iZXIgPSBzcHJpdGVMZWZ0L3RleHR1cmUud2lkdGg7XG4gICAgICAgIC8vIGxldCB0ZXhDb29yZFNoaWZ0WSA6IG51bWJlciA9IHNwcml0ZVRvcC90ZXh0dXJlLmhlaWdodDsgICBcblxuICAgICAgICAvLyBVU0UgVEhFIEFUVFJJQlVURVNcbiAgIC8vIHdlYkdMLmJpbmRCdWZmZXIod2ViR0wuQVJSQVlfQlVGRkVSLCB0aGlzLnZlcnRleFRleENvb3JkQnVmZmVyKTtcbiAgICAgICAvLyB3ZWJHTC5iaW5kVGV4dHVyZSh3ZWJHTC5URVhUVVJFXzJELCB0ZXh0dXJlLndlYkdMVGV4dHVyZSk7XG5cbiAgICAgICAgLy8gSE9PSyBVUCBUSEUgQVRUUklCVVRFU1xuICAgICAgICBsZXQgYV9Qb3NpdGlvbkxvY2F0aW9uIDogR0x1aW50ID0gdGhpcy53ZWJHTEF0dHJpYnV0ZUxvY2F0aW9uc1tTcHJpdGVEZWZhdWx0cy5BX1BPU0lUSU9OXTtcbiAgICAgICAgd2ViR0wudmVydGV4QXR0cmliUG9pbnRlcihhX1Bvc2l0aW9uTG9jYXRpb24sIFNwcml0ZURlZmF1bHRzLkZMT0FUU19QRVJfVEVYVFVSRV9DT09SRElOQVRFLCB3ZWJHTC5GTE9BVCwgZmFsc2UsIFNwcml0ZURlZmF1bHRzLlRPVEFMX0JZVEVTLCBTcHJpdGVEZWZhdWx0cy5WRVJURVhfUE9TSVRJT05fT0ZGU0VUKTtcbiAgICAgICAgd2ViR0wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkoYV9Qb3NpdGlvbkxvY2F0aW9uKTtcbiAgICAgIC8vICBsZXQgYV9UZXhDb29yZExvY2F0aW9uIDogR0x1aW50ID0gdGhpcy53ZWJHTEF0dHJpYnV0ZUxvY2F0aW9uc1tTcHJpdGVEZWZhdWx0cy5BX1RFWF9DT09SRF07XG4gICAgICAgLy8gd2ViR0wudmVydGV4QXR0cmliUG9pbnRlcihhX1RleENvb3JkTG9jYXRpb24sIFNwcml0ZURlZmF1bHRzLkZMT0FUU19QRVJfVEVYVFVSRV9DT09SRElOQVRFLCB3ZWJHTC5GTE9BVCwgZmFsc2UsIFNwcml0ZURlZmF1bHRzLlRPVEFMX0JZVEVTLCBTcHJpdGVEZWZhdWx0cy5URVhUVVJFX0NPT1JESU5BVEVfT0ZGU0VUKTtcbiAgICAgICAvLyB3ZWJHTC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShhX1RleENvb3JkTG9jYXRpb24pO1xuXG4gICAgICAgIC8vIFVTRSBUSEUgVU5JRk9STVNcbiAgICAgICAgbGV0IHVfU3ByaXRlVHJhbnNmb3JtTG9jYXRpb24gOiBXZWJHTFVuaWZvcm1Mb2NhdGlvbiA9IHRoaXMud2ViR0xVbmlmb3JtTG9jYXRpb25zW1Nwcml0ZURlZmF1bHRzLlVfU1BSSVRFX1RSQU5TRk9STV07XG4gICAgICAgIHdlYkdMLnVuaWZvcm1NYXRyaXg0ZnYodV9TcHJpdGVUcmFuc2Zvcm1Mb2NhdGlvbiwgZmFsc2UsIHRoaXMuc3ByaXRlVHJhbnNmb3JtLmdldERhdGEoKSk7XG4gICAgICAvLyAgbGV0IHVfU2FtcGxlckxvY2F0aW9uIDogV2ViR0xVbmlmb3JtTG9jYXRpb24gPSB0aGlzLndlYkdMVW5pZm9ybUxvY2F0aW9uc1tTcHJpdGVEZWZhdWx0cy5VX1NBTVBMRVJdO1xuICAgICAgICAvL3dlYkdMLnVuaWZvcm0xaSh1X1NhbXBsZXJMb2NhdGlvbiwgdGV4dHVyZS53ZWJHTFRleHR1cmVJZCk7XG4gICAgLy8gICAgIGxldCB1X1RleENvb3JkRmFjdG9yTG9jYXRpb24gOiBXZWJHTFVuaWZvcm1Mb2NhdGlvbiA9IHRoaXMud2ViR0xVbmlmb3JtTG9jYXRpb25zW1Nwcml0ZURlZmF1bHRzLlVfVEVYX0NPT1JEX0ZBQ1RPUl07XG4gICAgLy8gICAgLy8gd2ViR0wudW5pZm9ybTJmKHVfVGV4Q29vcmRGYWN0b3JMb2NhdGlvbiwgdGV4Q29vcmRGYWN0b3JYLCB0ZXhDb29yZEZhY3RvclkpO1xuICAgIC8vICAgICBsZXQgdV9UZXhDb29yZFNoaWZ0TG9jYXRpb24gOiBXZWJHTFVuaWZvcm1Mb2NhdGlvbiA9IHRoaXMud2ViR0xVbmlmb3JtTG9jYXRpb25zW1Nwcml0ZURlZmF1bHRzLlVfVEVYX0NPT1JEX1NISUZUXTtcbiAgICAvLyAgICAgd2ViR0wudW5pZm9ybTJmKHVfVGV4Q29vcmRTaGlmdExvY2F0aW9uLCB0ZXhDb29yZFNoaWZ0WCwgdGV4Q29vcmRTaGlmdFkpO1xuXG4gICAgICAgIC8vIERSQVcgVEhFIFNQUklURSBBUyBBIFRSSUFOR0xFIFNUUklQIFVTSU5HIDQgVkVSVElDRVMsIFNUQVJUSU5HIEFUIFRIRSBTVEFSVCBPRiBUSEUgQVJSQVkgKGluZGV4IDApXG4gICAgICAgIHdlYkdMLmRyYXdBcnJheXMod2ViR0wuVFJJQU5HTEVfU1RSSVAsIFNwcml0ZURlZmF1bHRzLklOREVYX09GX0ZJUlNUX1ZFUlRFWCwgU3ByaXRlRGVmYXVsdHMuTlVNX1ZFUlRJQ0VTKTtcbiAgICB9XG59IiwiaW1wb3J0IHtXZWJHTEdhbWVTaGFkZXJ9IGZyb20gJy4vV2ViR0xHYW1lU2hhZGVyJ1xuaW1wb3J0IHtNYXRoVXRpbGl0aWVzfSBmcm9tICcuLi9tYXRoL01hdGhVdGlsaXRpZXMnXG5pbXBvcnQgeyBNYXRyaXggfSBmcm9tICcuLi9tYXRoL01hdHJpeCdcbmltcG9ydCB7IFZlY3RvcjMgfSBmcm9tICcuLi9tYXRoL1ZlY3RvcjMnXG5pbXBvcnQge0dyYWRpZW50Q2lyY2xlfSBmcm9tICcuLi9zY2VuZS9jaXJjbGUvR3JhZGllbnRDaXJjbGUnXG5pbXBvcnQge0dyYWRpZW50Q2lyY2xlVHlwZX0gZnJvbSAnLi4vc2NlbmUvY2lyY2xlL0dyYWRpZW50Q2lyY2xlVHlwZSdcbmltcG9ydCB7V2ViR0xHYW1lVGV4dHVyZX0gZnJvbSAnLi9XZWJHTEdhbWVUZXh0dXJlJ1xuaW1wb3J0IHtIYXNoVGFibGV9IGZyb20gJy4uL2RhdGEvSGFzaFRhYmxlJ1xuXG52YXIgU3ByaXRlRGVmYXVsdHMgPSB7XG4gICAgQV9QT1NJVElPTjogXCJhX1Bvc2l0aW9uXCIsXG4gICAgQV9WQUxVRV9UT19JTlRFUlBPTEFURTogXCJhX1ZhbHVlVG9JbnRlcnBvbGF0ZVwiLFxuICAgIEFfVEVYX0NPT1JEOiBcImFfVGV4Q29vcmRcIixcbiAgICBVX1NQUklURV9UUkFOU0ZPUk06IFwidV9TcHJpdGVUcmFuc2Zvcm1cIixcbiAgICBVX1RFWF9DT09SRF9GQUNUT1I6IFwidV9UZXhDb29yZEZhY3RvclwiLFxuICAgIFVfVEVYX0NPT1JEX1NISUZUOiBcInVfVGV4Q29vcmRTaGlmdFwiLFxuICAgIFVfU0FNUExFUjogXCJ1X1NhbXBsZXJcIixcbiAgICBOVU1fVkVSVElDRVM6IDQsXG4gICAgRkxPQVRTX1BFUl9WRVJURVg6IDIsXG4gICAgRkxPQVRTX1BFUl9URVhUVVJFX0NPT1JESU5BVEU6IDIsXG4gICAgVE9UQUxfQllURVM6IDE2LFxuICAgIFZFUlRFWF9QT1NJVElPTl9PRkZTRVQ6IDAsXG4gICAgVEVYVFVSRV9DT09SRElOQVRFX09GRlNFVDogOCxcbiAgICBJTkRFWF9PRl9GSVJTVF9WRVJURVg6IDBcbn07XG5cbmV4cG9ydCBjbGFzcyBXZWJHTEdhbWVHcmVlbkNpcmNsZVJlbmRlcmVyIHtcbiAgICBwcml2YXRlIHNoYWRlciA6IFdlYkdMR2FtZVNoYWRlcjtcbiAgICBwcml2YXRlIHZlcnRleFRleENvb3JkQnVmZmVyIDogV2ViR0xCdWZmZXI7XG5cbiAgICAvLyBXRSdMTCBVU0UgVEhFU0UgRk9SIFRSQU5TT0ZNUklORyBPQkpFQ1RTIFdIRU4gV0UgRFJBVyBUSEVNXG4gICAgcHJpdmF0ZSBzcHJpdGVUcmFuc2Zvcm0gOiBNYXRyaXg7XG4gICAgcHJpdmF0ZSBzcHJpdGVUcmFuc2xhdGUgOiBWZWN0b3IzO1xuICAgIHByaXZhdGUgc3ByaXRlUm90YXRlIDogVmVjdG9yMztcbiAgICBwcml2YXRlIHNwcml0ZVNjYWxlIDogVmVjdG9yMzsgICAgXG5cbiAgICBwcml2YXRlIHdlYkdMQXR0cmlidXRlTG9jYXRpb25zIDogSGFzaFRhYmxlPEdMdWludD47XG4gICAgcHJpdmF0ZSB3ZWJHTFVuaWZvcm1Mb2NhdGlvbnMgOiBIYXNoVGFibGU8V2ViR0xVbmlmb3JtTG9jYXRpb24+O1xuXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKCkge31cbiAgICBcbiAgICBwdWJsaWMgaW5pdCh3ZWJHTCA6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCkgOiB2b2lkIHtcbiAgICAgICAgICAgIHRoaXMuc2hhZGVyID0gbmV3IFdlYkdMR2FtZVNoYWRlcigpO1xuICAgICAgICAgICAgdmFyIHZlcnRleFNoYWRlclNvdXJjZSA9XG4gICAgICAgICAgICAncHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcblxcbicgK1xuICAgICAgICAgICAgLy8ndW5pZm9ybSB2ZWMyICcgKyBDaXJjbGVEZWZhdWx0cy5VX1RFWF9DT09SRF9GQUNUT1IgKyAnO1xcbicgK1xuICAgICAgICAgICAgLy8ndW5pZm9ybSB2ZWMyICcgKyBDaXJjbGVEZWZhdWx0cy5VX1RFWF9DT09SRF9TSElGVCArICc7XFxuJyArXG4gICAgICAgICAgICAnYXR0cmlidXRlIHZlYzQgJyArIFNwcml0ZURlZmF1bHRzLkFfUE9TSVRJT04gKyAnO1xcbicgK1xuICAgICAgICAgICAgJ2F0dHJpYnV0ZSB2ZWMyICcgKyBTcHJpdGVEZWZhdWx0cy5BX1ZBTFVFX1RPX0lOVEVSUE9MQVRFICsgJztcXG4nICtcbiAgICAgICAgICAgICd2YXJ5aW5nIHZlYzIgdmFsO1xcbicgK1xuICAgICAgICAgICAgJ3VuaWZvcm0gbWF0NCAnICsgU3ByaXRlRGVmYXVsdHMuVV9TUFJJVEVfVFJBTlNGT1JNICsgJztcXG4nICtcbiAgICAgICAgICAgICd2b2lkIG1haW4oKSB7XFxuJyArXG4gICAgICAgICAgICAnICB2YWwgPSAnICsgU3ByaXRlRGVmYXVsdHMuQV9WQUxVRV9UT19JTlRFUlBPTEFURSArICc7XFxuJyArXG4gICAgICAgICAgICAnICBnbF9Qb3NpdGlvbiA9ICcgKyBTcHJpdGVEZWZhdWx0cy5VX1NQUklURV9UUkFOU0ZPUk0gKyAnICogJyArIFNwcml0ZURlZmF1bHRzLkFfUE9TSVRJT04gKyAnO1xcbicgK1xuICAgICAgICAgICAgJ31cXG4nO1xuICAgICAgICAgICAgLy8gJ3VuaWZvcm0gbWF0NCAnICsgU3ByaXRlRGVmYXVsdHMuVV9TUFJJVEVfVFJBTlNGT1JNICsgJztcXG4nICtcbiAgICAgICAgICAgIC8vICd1bmlmb3JtIHZlYzIgJyArIFNwcml0ZURlZmF1bHRzLlVfVEVYX0NPT1JEX0ZBQ1RPUiArICc7XFxuJyArXG4gICAgICAgICAgICAvLyAndW5pZm9ybSB2ZWMyICcgKyBTcHJpdGVEZWZhdWx0cy5VX1RFWF9DT09SRF9TSElGVCArICc7XFxuJyArXG4gICAgICAgICAgICAvLyAnYXR0cmlidXRlIHZlYzQgJyArIFNwcml0ZURlZmF1bHRzLkFfUE9TSVRJT04gKyAnO1xcbicgK1xuICAgICAgICAgICAgLy8gJ2F0dHJpYnV0ZSB2ZWMyICcgKyBTcHJpdGVEZWZhdWx0cy5BX1RFWF9DT09SRCArICc7XFxuJyArXG4gICAgICAgICAgICAvLyAndmFyeWluZyB2ZWMyIHZfVGV4Q29vcmQ7XFxuJyArXG4gICAgICAgICAgICAvLyAndm9pZCBtYWluKCkge1xcbicgK1xuICAgICAgICAgICAgLy8gJyAgZ2xfUG9zaXRpb24gPSAnICsgU3ByaXRlRGVmYXVsdHMuVV9TUFJJVEVfVFJBTlNGT1JNICsgJyAqICcgKyBTcHJpdGVEZWZhdWx0cy5BX1BPU0lUSU9OICsgJztcXG4nICtcbiAgICAgICAgICAgIC8vICcgIHZlYzIgdGVtcFRleENvb3JkID0gJyArIFNwcml0ZURlZmF1bHRzLkFfVEVYX0NPT1JEICsgJyAqICcgKyBTcHJpdGVEZWZhdWx0cy5VX1RFWF9DT09SRF9GQUNUT1IgKyAnO1xcbicgK1xuICAgICAgICAgICAgLy8gJyAgdl9UZXhDb29yZCA9IHRlbXBUZXhDb29yZCArICcgKyBTcHJpdGVEZWZhdWx0cy5VX1RFWF9DT09SRF9TSElGVCArICc7XFxuJyArXG4gICAgICAgICAgICAvLyAnfVxcbic7XG4gICAgICAgIHZhciBmcmFnbWVudFNoYWRlclNvdXJjZSA9XG4gICAgICAgICAgICAncHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcbicgK1xuICAgICAgICAgICAgJ3ZhcnlpbmcgdmVjMiB2YWw7XFxuJyArXG4gICAgICAgICAgICAndm9pZCBtYWluKCkge1xcbicgK1xuICAgICAgICAgICAgJyAgZmxvYXQgUiA9IDAuNDtcXG4nICtcbiAgICAgICAgICAgICcgIGZsb2F0IGRpc3QgPSBzcXJ0KGRvdCh2YWwsdmFsKSk7XFxuJyArXG4gICAgICAgICAgICAnICBmbG9hdCBhbHBoYSA9IDEuMDtcXG4nICtcbiAgICAgICAgICAgICcgIGlmIChkaXN0ID4gUikge1xcbicgK1xuICAgICAgICAgICAgJyAgICBkaXNjYXJkO1xcbicgK1xuICAgICAgICAgICAgJyAgfVxcbicgK1xuICAgICAgICAgICAgJyAgZ2xfRnJhZ0NvbG9yID0gdmVjNCgwLCBkaXN0LCAwLCBhbHBoYSk7XFxuJyArIC8vVE9ETyBtaWdodCBuZWVkIHJhbmRvbWx5IGdlbmVyYXRlZCB2YXJpYWJsZXMgaGVyZVxuICAgICAgICAgICAgJ31cXG4nO1xuICAgICAgICAgICAgLy8gJyNpZmRlZiBHTF9FU1xcbicgK1xuICAgICAgICAgICAgLy8gJ3ByZWNpc2lvbiBtZWRpdW1wIGZsb2F0O1xcbicgK1xuICAgICAgICAgICAgLy8gJyNlbmRpZlxcbicgK1xuICAgICAgICAgICAgLy8gJ3VuaWZvcm0gc2FtcGxlcjJEICcgKyBTcHJpdGVEZWZhdWx0cy5VX1NBTVBMRVIgKyAnO1xcbicgK1xuICAgICAgICAgICAgLy8gJ3ZhcnlpbmcgdmVjMiB2X1RleENvb3JkO1xcbicgK1xuICAgICAgICAgICAgLy8gJ3ZvaWQgbWFpbigpIHtcXG4nICtcbiAgICAgICAgICAgIC8vICcgIGdsX0ZyYWdDb2xvciA9IHRleHR1cmUyRCgnICsgU3ByaXRlRGVmYXVsdHMuVV9TQU1QTEVSICsgJywgdl9UZXhDb29yZCk7XFxuJyArXG4gICAgICAgICAgICAvLyAnfVxcbic7XG4gICAgICAgIHRoaXMuc2hhZGVyLmluaXQod2ViR0wsIHZlcnRleFNoYWRlclNvdXJjZSwgZnJhZ21lbnRTaGFkZXJTb3VyY2UpO1xuXG4gICAgICAgIC8vIEdFVCBUSEUgd2ViR0wgT0JKRUNUIFRPIFVTRVxuICAgICAgICB2YXIgdmVydGljZXNUZXhDb29yZHMgPSBuZXcgRmxvYXQzMkFycmF5KFtcbiAgICAgICAgICAgIC0wLjUsICAwLjUsIDAuMCwgMC4wLFxuICAgICAgICAgICAgLTAuNSwgLTAuNSwgMC4wLCAxLjAsXG4gICAgICAgICAgICAgMC41LCAgMC41LCAxLjAsIDAuMCxcbiAgICAgICAgICAgICAwLjUsIC0wLjUsIDEuMCwgMS4wXG4gICAgICAgIF0pO1xuXG4gICAgICAgIC8vIENSRUFURSBUSEUgQlVGRkVSIE9OIFRIRSBHUFVcbiAgICAgICAgdGhpcy52ZXJ0ZXhUZXhDb29yZEJ1ZmZlciA9IHdlYkdMLmNyZWF0ZUJ1ZmZlcigpO1xuXG4gICAgICAgIC8vIEJJTkQgVEhFIEJVRkZFUiBUTyBCRSBWRVJURVggREFUQVxuICAgICAgICB3ZWJHTC5iaW5kQnVmZmVyKHdlYkdMLkFSUkFZX0JVRkZFUiwgdGhpcy52ZXJ0ZXhUZXhDb29yZEJ1ZmZlcik7XG5cbiAgICAgICAgLy8gQU5EIFNFTkQgVEhFIERBVEEgVE8gVEhFIEJVRkZFUiBXRSBDUkVBVEVEIE9OIFRIRSBHUFVcbiAgICAgICAgd2ViR0wuYnVmZmVyRGF0YSh3ZWJHTC5BUlJBWV9CVUZGRVIsIHZlcnRpY2VzVGV4Q29vcmRzLCB3ZWJHTC5TVEFUSUNfRFJBVyk7XG5cbiAgICAgICAgLy8gU0VUVVAgVEhFIFNIQURFUiBBVFRSSUJVVEVTIEFORCBVTklGT1JNU1xuICAgICAgICB0aGlzLndlYkdMQXR0cmlidXRlTG9jYXRpb25zID0ge307XG4gICAgICAgIHRoaXMud2ViR0xVbmlmb3JtTG9jYXRpb25zID0ge307XG4gICAgICAgIHRoaXMubG9hZEF0dHJpYnV0ZUxvY2F0aW9ucyh3ZWJHTCwgW1Nwcml0ZURlZmF1bHRzLkFfUE9TSVRJT04sIFNwcml0ZURlZmF1bHRzLkFfVEVYX0NPT1JEXSk7XG4gICAgICAgIHRoaXMubG9hZFVuaWZvcm1Mb2NhdGlvbnMod2ViR0wsIFtTcHJpdGVEZWZhdWx0cy5VX1NQUklURV9UUkFOU0ZPUk0sIFNwcml0ZURlZmF1bHRzLlVfU0FNUExFUiwgU3ByaXRlRGVmYXVsdHMuVV9URVhfQ09PUkRfRkFDVE9SLCBTcHJpdGVEZWZhdWx0cy5VX1RFWF9DT09SRF9TSElGVF0pO1xuXG4gICAgICAgIC8vIFdFJ0xMIFVTRSBUSEVTRSBGT1IgVFJBTlNPRk1SSU5HIE9CSkVDVFMgV0hFTiBXRSBEUkFXIFRIRU1cbiAgICAgICAgdGhpcy5zcHJpdGVUcmFuc2Zvcm0gPSBuZXcgTWF0cml4KDQsIDQpO1xuICAgICAgICB0aGlzLnNwcml0ZVRyYW5zbGF0ZSA9IG5ldyBWZWN0b3IzKCk7XG4gICAgICAgIHRoaXMuc3ByaXRlUm90YXRlID0gbmV3IFZlY3RvcjMoKTtcbiAgICAgICAgdGhpcy5zcHJpdGVTY2FsZSA9IG5ldyBWZWN0b3IzKCk7XG4gICAgfVxuXG4gICAgcHVibGljIHJlbmRlclJlZENpcmNsZXMoICB3ZWJHTCA6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FudmFzV2lkdGggOiBudW1iZXIsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbnZhc0hlaWdodCA6IG51bWJlciwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlzaWJsZVNldCA6IEFycmF5PEdyYWRpZW50Q2lyY2xlPikgOiB2b2lkIHtcbiAgICAgICAgLy8gU0VMRUNUIFRIRSBBTklNQVRFRCBTUFJJVEUgUkVOREVSSU5HIFNIQURFUiBQUk9HUkFNIEZPUiBVU0VcbiAgICAgICAgbGV0IHNoYWRlclByb2dyYW1Ub1VzZSA9IHRoaXMuc2hhZGVyLmdldFByb2dyYW0oKTtcbiAgICAgICAgd2ViR0wudXNlUHJvZ3JhbShzaGFkZXJQcm9ncmFtVG9Vc2UpO1xuXG4gICAgICAgLy8gQU5EIFRIRU4gUkVOREVSIEVBQ0ggT05FXG4gICAgICAgZm9yIChsZXQgc3ByaXRlIG9mIHZpc2libGVTZXQpIHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyQW5pbWF0ZWRTcHJpdGUod2ViR0wsIGNhbnZhc1dpZHRoLCBjYW52YXNIZWlnaHQsIHNwcml0ZSk7ICAgICAgICBcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgbG9hZEF0dHJpYnV0ZUxvY2F0aW9ucyh3ZWJHTCA6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCwgYXR0cmlidXRlTG9jYXRpb25OYW1lcyA6IEFycmF5PHN0cmluZz4pIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhdHRyaWJ1dGVMb2NhdGlvbk5hbWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgbG9jYXRpb25OYW1lIDogc3RyaW5nID0gYXR0cmlidXRlTG9jYXRpb25OYW1lc1tpXTtcbiAgICAgICAgICAgIGxldCBsb2NhdGlvbiA6IEdMdWludCA9IHdlYkdMLmdldEF0dHJpYkxvY2F0aW9uKHRoaXMuc2hhZGVyLmdldFByb2dyYW0oKSwgbG9jYXRpb25OYW1lKTtcbiAgICAgICAgICAgIHRoaXMud2ViR0xBdHRyaWJ1dGVMb2NhdGlvbnNbbG9jYXRpb25OYW1lXSA9IGxvY2F0aW9uO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBsb2FkVW5pZm9ybUxvY2F0aW9ucyh3ZWJHTCA6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCwgdW5pZm9ybUxvY2F0aW9uTmFtZXMgOiBBcnJheTxzdHJpbmc+KSB7XG4gICAgICAgIGZvciAobGV0IGkgOiBudW1iZXIgPSAwOyBpIDwgdW5pZm9ybUxvY2F0aW9uTmFtZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBsb2NhdGlvbk5hbWUgOiBzdHJpbmcgPSB1bmlmb3JtTG9jYXRpb25OYW1lc1tpXTtcbiAgICAgICAgICAgIGxldCBsb2NhdGlvbiA6IFdlYkdMVW5pZm9ybUxvY2F0aW9uID0gd2ViR0wuZ2V0VW5pZm9ybUxvY2F0aW9uKHRoaXMuc2hhZGVyLmdldFByb2dyYW0oKSwgbG9jYXRpb25OYW1lKTtcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2cobG9jYXRpb24uKVxuICAgICAgICAgICAgdGhpcy53ZWJHTFVuaWZvcm1Mb2NhdGlvbnNbbG9jYXRpb25OYW1lXSA9IGxvY2F0aW9uO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZW5kZXJBbmltYXRlZFNwcml0ZSggICB3ZWJHTCA6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FudmFzV2lkdGggOiBudW1iZXIsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbnZhc0hlaWdodCA6IG51bWJlciwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2lyY2xlIDogR3JhZGllbnRDaXJjbGUpIHtcbiAgICAgICAvLyBsZXQgc3ByaXRlVHlwZSA6IEdyYWRpZW50Q2lyY2xlID0gY2lyY2xlLmdldENpcmNsZVR5cGUoKTtcbiAgICAgICAgLy9sZXQgdGV4dHVyZSA6IFdlYkdMR2FtZVRleHR1cmUgPSBzcHJpdGVUeXBlLmdldFNwcml0ZVNoZWV0VGV4dHVyZSgpO1xuXG4gICAgICAgIC8vIENBTENVTEFURSBIT1cgTVVDSCBUTyBUUkFOU0xBVEUgVEhFIFFVQUQgUEVSIFRIRSBTUFJJVEUgUE9TSVRJT05cbiAgICAgICAgbGV0IHNwcml0ZVdpZHRoIDogbnVtYmVyID0gMTAwO1xuICAgICAgICBsZXQgc3ByaXRlSGVpZ2h0IDogbnVtYmVyID0gMTAwO1xuICAgICAgICBsZXQgc3ByaXRlWEluUGl4ZWxzIDogbnVtYmVyID0gY2lyY2xlLmdldFBvc2l0aW9uKCkuZ2V0WCgpICsgKHNwcml0ZVdpZHRoLzIpO1xuICAgICAgICBsZXQgc3ByaXRlWUluUGl4ZWxzIDogbnVtYmVyID0gY2lyY2xlLmdldFBvc2l0aW9uKCkuZ2V0WSgpICsgKHNwcml0ZUhlaWdodC8yKTtcbiAgICAgICAgbGV0IHNwcml0ZVhUcmFuc2xhdGUgOiBudW1iZXIgPSAoc3ByaXRlWEluUGl4ZWxzIC0gKGNhbnZhc1dpZHRoLzIpKS8oY2FudmFzV2lkdGgvMik7XG4gICAgICAgIGxldCBzcHJpdGVZVHJhbnNsYXRlIDogbnVtYmVyID0gKHNwcml0ZVlJblBpeGVscyAtIChjYW52YXNIZWlnaHQvMikpLyhjYW52YXNIZWlnaHQvMik7XG4gICAgICAgIHRoaXMuc3ByaXRlVHJhbnNsYXRlLnNldFgoc3ByaXRlWFRyYW5zbGF0ZSk7XG4gICAgICAgIHRoaXMuc3ByaXRlVHJhbnNsYXRlLnNldFkoLXNwcml0ZVlUcmFuc2xhdGUpO1xuXG4gICAgICAgIC8vIENBTENVTEFURSBIT1cgTVVDSCBUTyBTQ0FMRSBUSEUgUVVBRCBQRVIgVEhFIFNQUklURSBTSVpFXG4gICAgICAgIGxldCBkZWZhdWx0V2lkdGggOiBudW1iZXIgPSBjYW52YXNXaWR0aC8yO1xuICAgICAgICBsZXQgZGVmYXVsdEhlaWdodCA6IG51bWJlciA9IGNhbnZhc0hlaWdodC8yO1xuICAgICAgICBsZXQgc2NhbGVYIDogbnVtYmVyID0gMjUwL2RlZmF1bHRXaWR0aDtcbiAgICAgICAgbGV0IHNjYWxlWSA6IG51bWJlciA9IDI1MC9kZWZhdWx0SGVpZ2h0O1xuICAgICAgICB0aGlzLnNwcml0ZVNjYWxlLnNldFgoc2NhbGVYKTtcbiAgICAgICAgdGhpcy5zcHJpdGVTY2FsZS5zZXRZKHNjYWxlWSk7XG5cbiAgICAgICAgLy8gQHRvZG8gLSBDT01CSU5FIFRISVMgV0lUSCBUSEUgUk9UQVRFIEFORCBTQ0FMRSBWQUxVRVMgRlJPTSBUSEUgU1BSSVRFXG4gICAgICAgIE1hdGhVdGlsaXRpZXMuaWRlbnRpdHkodGhpcy5zcHJpdGVUcmFuc2Zvcm0pO1xuICAgICAgICBNYXRoVXRpbGl0aWVzLm1vZGVsKHRoaXMuc3ByaXRlVHJhbnNmb3JtLCB0aGlzLnNwcml0ZVRyYW5zbGF0ZSwgdGhpcy5zcHJpdGVSb3RhdGUsIHRoaXMuc3ByaXRlU2NhbGUpO1xuICAgICAgICBcbiAgICAgICAgLy8gRklHVVJFIE9VVCBUSEUgVEVYVFVSRSBDT09SRElOQVRFIEZBQ1RPUiBBTkQgU0hJRlRcbiAgICAgICAgLy8gbGV0IHRleENvb3JkRmFjdG9yWCA6IG51bWJlciA9IHNwcml0ZVdpZHRoL3RleHR1cmUud2lkdGg7XG4gICAgICAgIC8vIGxldCB0ZXhDb29yZEZhY3RvclkgOiBudW1iZXIgPSBzcHJpdGVIZWlnaHQvdGV4dHVyZS5oZWlnaHQ7XG4gICAgICAgIC8vIGxldCBzcHJpdGVMZWZ0IDogbnVtYmVyID0gc3ByaXRlLmdldExlZnQoKTtcbiAgICAgICAgLy8gbGV0IHNwcml0ZVRvcCA6IG51bWJlciA9IHNwcml0ZS5nZXRUb3AoKTtcbiAgICAgICAgLy8gbGV0IHRleENvb3JkU2hpZnRYIDogbnVtYmVyID0gc3ByaXRlTGVmdC90ZXh0dXJlLndpZHRoO1xuICAgICAgICAvLyBsZXQgdGV4Q29vcmRTaGlmdFkgOiBudW1iZXIgPSBzcHJpdGVUb3AvdGV4dHVyZS5oZWlnaHQ7ICAgXG5cbiAgICAgICAgLy8gVVNFIFRIRSBBVFRSSUJVVEVTXG4gICAvLyB3ZWJHTC5iaW5kQnVmZmVyKHdlYkdMLkFSUkFZX0JVRkZFUiwgdGhpcy52ZXJ0ZXhUZXhDb29yZEJ1ZmZlcik7XG4gICAgICAgLy8gd2ViR0wuYmluZFRleHR1cmUod2ViR0wuVEVYVFVSRV8yRCwgdGV4dHVyZS53ZWJHTFRleHR1cmUpO1xuXG4gICAgICAgIC8vIEhPT0sgVVAgVEhFIEFUVFJJQlVURVNcbiAgICAgICAgbGV0IGFfUG9zaXRpb25Mb2NhdGlvbiA6IEdMdWludCA9IHRoaXMud2ViR0xBdHRyaWJ1dGVMb2NhdGlvbnNbU3ByaXRlRGVmYXVsdHMuQV9QT1NJVElPTl07XG4gICAgICAgIHdlYkdMLnZlcnRleEF0dHJpYlBvaW50ZXIoYV9Qb3NpdGlvbkxvY2F0aW9uLCBTcHJpdGVEZWZhdWx0cy5GTE9BVFNfUEVSX1RFWFRVUkVfQ09PUkRJTkFURSwgd2ViR0wuRkxPQVQsIGZhbHNlLCBTcHJpdGVEZWZhdWx0cy5UT1RBTF9CWVRFUywgU3ByaXRlRGVmYXVsdHMuVkVSVEVYX1BPU0lUSU9OX09GRlNFVCk7XG4gICAgICAgIHdlYkdMLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KGFfUG9zaXRpb25Mb2NhdGlvbik7XG4gICAgICAvLyAgbGV0IGFfVGV4Q29vcmRMb2NhdGlvbiA6IEdMdWludCA9IHRoaXMud2ViR0xBdHRyaWJ1dGVMb2NhdGlvbnNbU3ByaXRlRGVmYXVsdHMuQV9URVhfQ09PUkRdO1xuICAgICAgIC8vIHdlYkdMLnZlcnRleEF0dHJpYlBvaW50ZXIoYV9UZXhDb29yZExvY2F0aW9uLCBTcHJpdGVEZWZhdWx0cy5GTE9BVFNfUEVSX1RFWFRVUkVfQ09PUkRJTkFURSwgd2ViR0wuRkxPQVQsIGZhbHNlLCBTcHJpdGVEZWZhdWx0cy5UT1RBTF9CWVRFUywgU3ByaXRlRGVmYXVsdHMuVEVYVFVSRV9DT09SRElOQVRFX09GRlNFVCk7XG4gICAgICAgLy8gd2ViR0wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkoYV9UZXhDb29yZExvY2F0aW9uKTtcblxuICAgICAgICAvLyBVU0UgVEhFIFVOSUZPUk1TXG4gICAgICAgIGxldCB1X1Nwcml0ZVRyYW5zZm9ybUxvY2F0aW9uIDogV2ViR0xVbmlmb3JtTG9jYXRpb24gPSB0aGlzLndlYkdMVW5pZm9ybUxvY2F0aW9uc1tTcHJpdGVEZWZhdWx0cy5VX1NQUklURV9UUkFOU0ZPUk1dO1xuICAgICAgICB3ZWJHTC51bmlmb3JtTWF0cml4NGZ2KHVfU3ByaXRlVHJhbnNmb3JtTG9jYXRpb24sIGZhbHNlLCB0aGlzLnNwcml0ZVRyYW5zZm9ybS5nZXREYXRhKCkpO1xuICAgICAgLy8gIGxldCB1X1NhbXBsZXJMb2NhdGlvbiA6IFdlYkdMVW5pZm9ybUxvY2F0aW9uID0gdGhpcy53ZWJHTFVuaWZvcm1Mb2NhdGlvbnNbU3ByaXRlRGVmYXVsdHMuVV9TQU1QTEVSXTtcbiAgICAgICAgLy93ZWJHTC51bmlmb3JtMWkodV9TYW1wbGVyTG9jYXRpb24sIHRleHR1cmUud2ViR0xUZXh0dXJlSWQpO1xuICAgIC8vICAgICBsZXQgdV9UZXhDb29yZEZhY3RvckxvY2F0aW9uIDogV2ViR0xVbmlmb3JtTG9jYXRpb24gPSB0aGlzLndlYkdMVW5pZm9ybUxvY2F0aW9uc1tTcHJpdGVEZWZhdWx0cy5VX1RFWF9DT09SRF9GQUNUT1JdO1xuICAgIC8vICAgIC8vIHdlYkdMLnVuaWZvcm0yZih1X1RleENvb3JkRmFjdG9yTG9jYXRpb24sIHRleENvb3JkRmFjdG9yWCwgdGV4Q29vcmRGYWN0b3JZKTtcbiAgICAvLyAgICAgbGV0IHVfVGV4Q29vcmRTaGlmdExvY2F0aW9uIDogV2ViR0xVbmlmb3JtTG9jYXRpb24gPSB0aGlzLndlYkdMVW5pZm9ybUxvY2F0aW9uc1tTcHJpdGVEZWZhdWx0cy5VX1RFWF9DT09SRF9TSElGVF07XG4gICAgLy8gICAgIHdlYkdMLnVuaWZvcm0yZih1X1RleENvb3JkU2hpZnRMb2NhdGlvbiwgdGV4Q29vcmRTaGlmdFgsIHRleENvb3JkU2hpZnRZKTtcblxuICAgICAgICAvLyBEUkFXIFRIRSBTUFJJVEUgQVMgQSBUUklBTkdMRSBTVFJJUCBVU0lORyA0IFZFUlRJQ0VTLCBTVEFSVElORyBBVCBUSEUgU1RBUlQgT0YgVEhFIEFSUkFZIChpbmRleCAwKVxuICAgICAgICB3ZWJHTC5kcmF3QXJyYXlzKHdlYkdMLlRSSUFOR0xFX1NUUklQLCBTcHJpdGVEZWZhdWx0cy5JTkRFWF9PRl9GSVJTVF9WRVJURVgsIFNwcml0ZURlZmF1bHRzLk5VTV9WRVJUSUNFUyk7XG4gICAgfVxufSIsImltcG9ydCB7V2ViR0xHYW1lU2hhZGVyfSBmcm9tICcuL1dlYkdMR2FtZVNoYWRlcidcbmltcG9ydCB7TWF0aFV0aWxpdGllc30gZnJvbSAnLi4vbWF0aC9NYXRoVXRpbGl0aWVzJ1xuaW1wb3J0IHsgTWF0cml4IH0gZnJvbSAnLi4vbWF0aC9NYXRyaXgnXG5pbXBvcnQgeyBWZWN0b3IzIH0gZnJvbSAnLi4vbWF0aC9WZWN0b3IzJ1xuaW1wb3J0IHtHcmFkaWVudENpcmNsZX0gZnJvbSAnLi4vc2NlbmUvY2lyY2xlL0dyYWRpZW50Q2lyY2xlJ1xuaW1wb3J0IHtHcmFkaWVudENpcmNsZVR5cGV9IGZyb20gJy4uL3NjZW5lL2NpcmNsZS9HcmFkaWVudENpcmNsZVR5cGUnXG5pbXBvcnQge1dlYkdMR2FtZVRleHR1cmV9IGZyb20gJy4vV2ViR0xHYW1lVGV4dHVyZSdcbmltcG9ydCB7SGFzaFRhYmxlfSBmcm9tICcuLi9kYXRhL0hhc2hUYWJsZSdcblxudmFyIFNwcml0ZURlZmF1bHRzID0ge1xuICAgIEFfUE9TSVRJT046IFwiYV9Qb3NpdGlvblwiLFxuICAgIEFfVkFMVUVfVE9fSU5URVJQT0xBVEU6IFwiYV9WYWx1ZVRvSW50ZXJwb2xhdGVcIixcbiAgICBBX1RFWF9DT09SRDogXCJhX1RleENvb3JkXCIsXG4gICAgVV9TUFJJVEVfVFJBTlNGT1JNOiBcInVfU3ByaXRlVHJhbnNmb3JtXCIsXG4gICAgVV9URVhfQ09PUkRfRkFDVE9SOiBcInVfVGV4Q29vcmRGYWN0b3JcIixcbiAgICBVX1RFWF9DT09SRF9TSElGVDogXCJ1X1RleENvb3JkU2hpZnRcIixcbiAgICBVX1NBTVBMRVI6IFwidV9TYW1wbGVyXCIsXG4gICAgTlVNX1ZFUlRJQ0VTOiA0LFxuICAgIEZMT0FUU19QRVJfVkVSVEVYOiAyLFxuICAgIEZMT0FUU19QRVJfVEVYVFVSRV9DT09SRElOQVRFOiAyLFxuICAgIFRPVEFMX0JZVEVTOiAxNixcbiAgICBWRVJURVhfUE9TSVRJT05fT0ZGU0VUOiAwLFxuICAgIFRFWFRVUkVfQ09PUkRJTkFURV9PRkZTRVQ6IDgsXG4gICAgSU5ERVhfT0ZfRklSU1RfVkVSVEVYOiAwXG59O1xuXG5leHBvcnQgY2xhc3MgV2ViR0xHYW1lTWFnZW50YUNpcmNsZVJlbmRlcmVyIHtcbiAgICBwcml2YXRlIHNoYWRlciA6IFdlYkdMR2FtZVNoYWRlcjtcbiAgICBwcml2YXRlIHZlcnRleFRleENvb3JkQnVmZmVyIDogV2ViR0xCdWZmZXI7XG5cbiAgICAvLyBXRSdMTCBVU0UgVEhFU0UgRk9SIFRSQU5TT0ZNUklORyBPQkpFQ1RTIFdIRU4gV0UgRFJBVyBUSEVNXG4gICAgcHJpdmF0ZSBzcHJpdGVUcmFuc2Zvcm0gOiBNYXRyaXg7XG4gICAgcHJpdmF0ZSBzcHJpdGVUcmFuc2xhdGUgOiBWZWN0b3IzO1xuICAgIHByaXZhdGUgc3ByaXRlUm90YXRlIDogVmVjdG9yMztcbiAgICBwcml2YXRlIHNwcml0ZVNjYWxlIDogVmVjdG9yMzsgICAgXG5cbiAgICBwcml2YXRlIHdlYkdMQXR0cmlidXRlTG9jYXRpb25zIDogSGFzaFRhYmxlPEdMdWludD47XG4gICAgcHJpdmF0ZSB3ZWJHTFVuaWZvcm1Mb2NhdGlvbnMgOiBIYXNoVGFibGU8V2ViR0xVbmlmb3JtTG9jYXRpb24+O1xuXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKCkge31cbiAgICBcbiAgICBwdWJsaWMgaW5pdCh3ZWJHTCA6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCkgOiB2b2lkIHtcbiAgICAgICAgICAgIHRoaXMuc2hhZGVyID0gbmV3IFdlYkdMR2FtZVNoYWRlcigpO1xuICAgICAgICAgICAgdmFyIHZlcnRleFNoYWRlclNvdXJjZSA9XG4gICAgICAgICAgICAncHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcblxcbicgK1xuICAgICAgICAgICAgLy8ndW5pZm9ybSB2ZWMyICcgKyBDaXJjbGVEZWZhdWx0cy5VX1RFWF9DT09SRF9GQUNUT1IgKyAnO1xcbicgK1xuICAgICAgICAgICAgLy8ndW5pZm9ybSB2ZWMyICcgKyBDaXJjbGVEZWZhdWx0cy5VX1RFWF9DT09SRF9TSElGVCArICc7XFxuJyArXG4gICAgICAgICAgICAnYXR0cmlidXRlIHZlYzQgJyArIFNwcml0ZURlZmF1bHRzLkFfUE9TSVRJT04gKyAnO1xcbicgK1xuICAgICAgICAgICAgJ2F0dHJpYnV0ZSB2ZWMyICcgKyBTcHJpdGVEZWZhdWx0cy5BX1ZBTFVFX1RPX0lOVEVSUE9MQVRFICsgJztcXG4nICtcbiAgICAgICAgICAgICd2YXJ5aW5nIHZlYzIgdmFsO1xcbicgK1xuICAgICAgICAgICAgJ3VuaWZvcm0gbWF0NCAnICsgU3ByaXRlRGVmYXVsdHMuVV9TUFJJVEVfVFJBTlNGT1JNICsgJztcXG4nICtcbiAgICAgICAgICAgICd2b2lkIG1haW4oKSB7XFxuJyArXG4gICAgICAgICAgICAnICB2YWwgPSAnICsgU3ByaXRlRGVmYXVsdHMuQV9WQUxVRV9UT19JTlRFUlBPTEFURSArICc7XFxuJyArXG4gICAgICAgICAgICAnICBnbF9Qb3NpdGlvbiA9ICcgKyBTcHJpdGVEZWZhdWx0cy5VX1NQUklURV9UUkFOU0ZPUk0gKyAnICogJyArIFNwcml0ZURlZmF1bHRzLkFfUE9TSVRJT04gKyAnO1xcbicgK1xuICAgICAgICAgICAgJ31cXG4nO1xuICAgICAgICAgICAgLy8gJ3VuaWZvcm0gbWF0NCAnICsgU3ByaXRlRGVmYXVsdHMuVV9TUFJJVEVfVFJBTlNGT1JNICsgJztcXG4nICtcbiAgICAgICAgICAgIC8vICd1bmlmb3JtIHZlYzIgJyArIFNwcml0ZURlZmF1bHRzLlVfVEVYX0NPT1JEX0ZBQ1RPUiArICc7XFxuJyArXG4gICAgICAgICAgICAvLyAndW5pZm9ybSB2ZWMyICcgKyBTcHJpdGVEZWZhdWx0cy5VX1RFWF9DT09SRF9TSElGVCArICc7XFxuJyArXG4gICAgICAgICAgICAvLyAnYXR0cmlidXRlIHZlYzQgJyArIFNwcml0ZURlZmF1bHRzLkFfUE9TSVRJT04gKyAnO1xcbicgK1xuICAgICAgICAgICAgLy8gJ2F0dHJpYnV0ZSB2ZWMyICcgKyBTcHJpdGVEZWZhdWx0cy5BX1RFWF9DT09SRCArICc7XFxuJyArXG4gICAgICAgICAgICAvLyAndmFyeWluZyB2ZWMyIHZfVGV4Q29vcmQ7XFxuJyArXG4gICAgICAgICAgICAvLyAndm9pZCBtYWluKCkge1xcbicgK1xuICAgICAgICAgICAgLy8gJyAgZ2xfUG9zaXRpb24gPSAnICsgU3ByaXRlRGVmYXVsdHMuVV9TUFJJVEVfVFJBTlNGT1JNICsgJyAqICcgKyBTcHJpdGVEZWZhdWx0cy5BX1BPU0lUSU9OICsgJztcXG4nICtcbiAgICAgICAgICAgIC8vICcgIHZlYzIgdGVtcFRleENvb3JkID0gJyArIFNwcml0ZURlZmF1bHRzLkFfVEVYX0NPT1JEICsgJyAqICcgKyBTcHJpdGVEZWZhdWx0cy5VX1RFWF9DT09SRF9GQUNUT1IgKyAnO1xcbicgK1xuICAgICAgICAgICAgLy8gJyAgdl9UZXhDb29yZCA9IHRlbXBUZXhDb29yZCArICcgKyBTcHJpdGVEZWZhdWx0cy5VX1RFWF9DT09SRF9TSElGVCArICc7XFxuJyArXG4gICAgICAgICAgICAvLyAnfVxcbic7XG4gICAgICAgIHZhciBmcmFnbWVudFNoYWRlclNvdXJjZSA9XG4gICAgICAgICAgICAncHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcbicgK1xuICAgICAgICAgICAgJ3ZhcnlpbmcgdmVjMiB2YWw7XFxuJyArXG4gICAgICAgICAgICAndm9pZCBtYWluKCkge1xcbicgK1xuICAgICAgICAgICAgJyAgZmxvYXQgUiA9IDAuNDtcXG4nICtcbiAgICAgICAgICAgICcgIGZsb2F0IGRpc3QgPSBzcXJ0KGRvdCh2YWwsdmFsKSk7XFxuJyArXG4gICAgICAgICAgICAnICBmbG9hdCBhbHBoYSA9IDEuMDtcXG4nICtcbiAgICAgICAgICAgICcgIGlmIChkaXN0ID4gUikge1xcbicgK1xuICAgICAgICAgICAgJyAgICBkaXNjYXJkO1xcbicgK1xuICAgICAgICAgICAgJyAgfVxcbicgK1xuICAgICAgICAgICAgJyAgZ2xfRnJhZ0NvbG9yID0gdmVjNChkaXN0LCAwLCBkaXN0LCBhbHBoYSk7XFxuJyArIC8vVE9ETyBtaWdodCBuZWVkIHJhbmRvbWx5IGdlbmVyYXRlZCB2YXJpYWJsZXMgaGVyZVxuICAgICAgICAgICAgJ31cXG4nO1xuICAgICAgICAgICAgLy8gJyNpZmRlZiBHTF9FU1xcbicgK1xuICAgICAgICAgICAgLy8gJ3ByZWNpc2lvbiBtZWRpdW1wIGZsb2F0O1xcbicgK1xuICAgICAgICAgICAgLy8gJyNlbmRpZlxcbicgK1xuICAgICAgICAgICAgLy8gJ3VuaWZvcm0gc2FtcGxlcjJEICcgKyBTcHJpdGVEZWZhdWx0cy5VX1NBTVBMRVIgKyAnO1xcbicgK1xuICAgICAgICAgICAgLy8gJ3ZhcnlpbmcgdmVjMiB2X1RleENvb3JkO1xcbicgK1xuICAgICAgICAgICAgLy8gJ3ZvaWQgbWFpbigpIHtcXG4nICtcbiAgICAgICAgICAgIC8vICcgIGdsX0ZyYWdDb2xvciA9IHRleHR1cmUyRCgnICsgU3ByaXRlRGVmYXVsdHMuVV9TQU1QTEVSICsgJywgdl9UZXhDb29yZCk7XFxuJyArXG4gICAgICAgICAgICAvLyAnfVxcbic7XG4gICAgICAgIHRoaXMuc2hhZGVyLmluaXQod2ViR0wsIHZlcnRleFNoYWRlclNvdXJjZSwgZnJhZ21lbnRTaGFkZXJTb3VyY2UpO1xuXG4gICAgICAgIC8vIEdFVCBUSEUgd2ViR0wgT0JKRUNUIFRPIFVTRVxuICAgICAgICB2YXIgdmVydGljZXNUZXhDb29yZHMgPSBuZXcgRmxvYXQzMkFycmF5KFtcbiAgICAgICAgICAgIC0wLjUsICAwLjUsIDAuMCwgMC4wLFxuICAgICAgICAgICAgLTAuNSwgLTAuNSwgMC4wLCAxLjAsXG4gICAgICAgICAgICAgMC41LCAgMC41LCAxLjAsIDAuMCxcbiAgICAgICAgICAgICAwLjUsIC0wLjUsIDEuMCwgMS4wXG4gICAgICAgIF0pO1xuXG4gICAgICAgIC8vIENSRUFURSBUSEUgQlVGRkVSIE9OIFRIRSBHUFVcbiAgICAgICAgdGhpcy52ZXJ0ZXhUZXhDb29yZEJ1ZmZlciA9IHdlYkdMLmNyZWF0ZUJ1ZmZlcigpO1xuXG4gICAgICAgIC8vIEJJTkQgVEhFIEJVRkZFUiBUTyBCRSBWRVJURVggREFUQVxuICAgICAgICB3ZWJHTC5iaW5kQnVmZmVyKHdlYkdMLkFSUkFZX0JVRkZFUiwgdGhpcy52ZXJ0ZXhUZXhDb29yZEJ1ZmZlcik7XG5cbiAgICAgICAgLy8gQU5EIFNFTkQgVEhFIERBVEEgVE8gVEhFIEJVRkZFUiBXRSBDUkVBVEVEIE9OIFRIRSBHUFVcbiAgICAgICAgd2ViR0wuYnVmZmVyRGF0YSh3ZWJHTC5BUlJBWV9CVUZGRVIsIHZlcnRpY2VzVGV4Q29vcmRzLCB3ZWJHTC5TVEFUSUNfRFJBVyk7XG5cbiAgICAgICAgLy8gU0VUVVAgVEhFIFNIQURFUiBBVFRSSUJVVEVTIEFORCBVTklGT1JNU1xuICAgICAgICB0aGlzLndlYkdMQXR0cmlidXRlTG9jYXRpb25zID0ge307XG4gICAgICAgIHRoaXMud2ViR0xVbmlmb3JtTG9jYXRpb25zID0ge307XG4gICAgICAgIHRoaXMubG9hZEF0dHJpYnV0ZUxvY2F0aW9ucyh3ZWJHTCwgW1Nwcml0ZURlZmF1bHRzLkFfUE9TSVRJT04sIFNwcml0ZURlZmF1bHRzLkFfVEVYX0NPT1JEXSk7XG4gICAgICAgIHRoaXMubG9hZFVuaWZvcm1Mb2NhdGlvbnMod2ViR0wsIFtTcHJpdGVEZWZhdWx0cy5VX1NQUklURV9UUkFOU0ZPUk0sIFNwcml0ZURlZmF1bHRzLlVfU0FNUExFUiwgU3ByaXRlRGVmYXVsdHMuVV9URVhfQ09PUkRfRkFDVE9SLCBTcHJpdGVEZWZhdWx0cy5VX1RFWF9DT09SRF9TSElGVF0pO1xuXG4gICAgICAgIC8vIFdFJ0xMIFVTRSBUSEVTRSBGT1IgVFJBTlNPRk1SSU5HIE9CSkVDVFMgV0hFTiBXRSBEUkFXIFRIRU1cbiAgICAgICAgdGhpcy5zcHJpdGVUcmFuc2Zvcm0gPSBuZXcgTWF0cml4KDQsIDQpO1xuICAgICAgICB0aGlzLnNwcml0ZVRyYW5zbGF0ZSA9IG5ldyBWZWN0b3IzKCk7XG4gICAgICAgIHRoaXMuc3ByaXRlUm90YXRlID0gbmV3IFZlY3RvcjMoKTtcbiAgICAgICAgdGhpcy5zcHJpdGVTY2FsZSA9IG5ldyBWZWN0b3IzKCk7XG4gICAgfVxuXG4gICAgcHVibGljIHJlbmRlclJlZENpcmNsZXMoICB3ZWJHTCA6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FudmFzV2lkdGggOiBudW1iZXIsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbnZhc0hlaWdodCA6IG51bWJlciwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlzaWJsZVNldCA6IEFycmF5PEdyYWRpZW50Q2lyY2xlPikgOiB2b2lkIHtcbiAgICAgICAgLy8gU0VMRUNUIFRIRSBBTklNQVRFRCBTUFJJVEUgUkVOREVSSU5HIFNIQURFUiBQUk9HUkFNIEZPUiBVU0VcbiAgICAgICAgbGV0IHNoYWRlclByb2dyYW1Ub1VzZSA9IHRoaXMuc2hhZGVyLmdldFByb2dyYW0oKTtcbiAgICAgICAgd2ViR0wudXNlUHJvZ3JhbShzaGFkZXJQcm9ncmFtVG9Vc2UpO1xuXG4gICAgICAgLy8gQU5EIFRIRU4gUkVOREVSIEVBQ0ggT05FXG4gICAgICAgZm9yIChsZXQgc3ByaXRlIG9mIHZpc2libGVTZXQpIHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyQW5pbWF0ZWRTcHJpdGUod2ViR0wsIGNhbnZhc1dpZHRoLCBjYW52YXNIZWlnaHQsIHNwcml0ZSk7ICAgICAgICBcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgbG9hZEF0dHJpYnV0ZUxvY2F0aW9ucyh3ZWJHTCA6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCwgYXR0cmlidXRlTG9jYXRpb25OYW1lcyA6IEFycmF5PHN0cmluZz4pIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhdHRyaWJ1dGVMb2NhdGlvbk5hbWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgbG9jYXRpb25OYW1lIDogc3RyaW5nID0gYXR0cmlidXRlTG9jYXRpb25OYW1lc1tpXTtcbiAgICAgICAgICAgIGxldCBsb2NhdGlvbiA6IEdMdWludCA9IHdlYkdMLmdldEF0dHJpYkxvY2F0aW9uKHRoaXMuc2hhZGVyLmdldFByb2dyYW0oKSwgbG9jYXRpb25OYW1lKTtcbiAgICAgICAgICAgIHRoaXMud2ViR0xBdHRyaWJ1dGVMb2NhdGlvbnNbbG9jYXRpb25OYW1lXSA9IGxvY2F0aW9uO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBsb2FkVW5pZm9ybUxvY2F0aW9ucyh3ZWJHTCA6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCwgdW5pZm9ybUxvY2F0aW9uTmFtZXMgOiBBcnJheTxzdHJpbmc+KSB7XG4gICAgICAgIGZvciAobGV0IGkgOiBudW1iZXIgPSAwOyBpIDwgdW5pZm9ybUxvY2F0aW9uTmFtZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBsb2NhdGlvbk5hbWUgOiBzdHJpbmcgPSB1bmlmb3JtTG9jYXRpb25OYW1lc1tpXTtcbiAgICAgICAgICAgIGxldCBsb2NhdGlvbiA6IFdlYkdMVW5pZm9ybUxvY2F0aW9uID0gd2ViR0wuZ2V0VW5pZm9ybUxvY2F0aW9uKHRoaXMuc2hhZGVyLmdldFByb2dyYW0oKSwgbG9jYXRpb25OYW1lKTtcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2cobG9jYXRpb24uKVxuICAgICAgICAgICAgdGhpcy53ZWJHTFVuaWZvcm1Mb2NhdGlvbnNbbG9jYXRpb25OYW1lXSA9IGxvY2F0aW9uO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZW5kZXJBbmltYXRlZFNwcml0ZSggICB3ZWJHTCA6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FudmFzV2lkdGggOiBudW1iZXIsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbnZhc0hlaWdodCA6IG51bWJlciwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2lyY2xlIDogR3JhZGllbnRDaXJjbGUpIHtcbiAgICAgICAvLyBsZXQgc3ByaXRlVHlwZSA6IEdyYWRpZW50Q2lyY2xlID0gY2lyY2xlLmdldENpcmNsZVR5cGUoKTtcbiAgICAgICAgLy9sZXQgdGV4dHVyZSA6IFdlYkdMR2FtZVRleHR1cmUgPSBzcHJpdGVUeXBlLmdldFNwcml0ZVNoZWV0VGV4dHVyZSgpO1xuXG4gICAgICAgIC8vIENBTENVTEFURSBIT1cgTVVDSCBUTyBUUkFOU0xBVEUgVEhFIFFVQUQgUEVSIFRIRSBTUFJJVEUgUE9TSVRJT05cbiAgICAgICAgbGV0IHNwcml0ZVdpZHRoIDogbnVtYmVyID0gMTAwO1xuICAgICAgICBsZXQgc3ByaXRlSGVpZ2h0IDogbnVtYmVyID0gMTAwO1xuICAgICAgICBsZXQgc3ByaXRlWEluUGl4ZWxzIDogbnVtYmVyID0gY2lyY2xlLmdldFBvc2l0aW9uKCkuZ2V0WCgpICsgKHNwcml0ZVdpZHRoLzIpO1xuICAgICAgICBsZXQgc3ByaXRlWUluUGl4ZWxzIDogbnVtYmVyID0gY2lyY2xlLmdldFBvc2l0aW9uKCkuZ2V0WSgpICsgKHNwcml0ZUhlaWdodC8yKTtcbiAgICAgICAgbGV0IHNwcml0ZVhUcmFuc2xhdGUgOiBudW1iZXIgPSAoc3ByaXRlWEluUGl4ZWxzIC0gKGNhbnZhc1dpZHRoLzIpKS8oY2FudmFzV2lkdGgvMik7XG4gICAgICAgIGxldCBzcHJpdGVZVHJhbnNsYXRlIDogbnVtYmVyID0gKHNwcml0ZVlJblBpeGVscyAtIChjYW52YXNIZWlnaHQvMikpLyhjYW52YXNIZWlnaHQvMik7XG4gICAgICAgIHRoaXMuc3ByaXRlVHJhbnNsYXRlLnNldFgoc3ByaXRlWFRyYW5zbGF0ZSk7XG4gICAgICAgIHRoaXMuc3ByaXRlVHJhbnNsYXRlLnNldFkoLXNwcml0ZVlUcmFuc2xhdGUpO1xuXG4gICAgICAgIC8vIENBTENVTEFURSBIT1cgTVVDSCBUTyBTQ0FMRSBUSEUgUVVBRCBQRVIgVEhFIFNQUklURSBTSVpFXG4gICAgICAgIGxldCBkZWZhdWx0V2lkdGggOiBudW1iZXIgPSBjYW52YXNXaWR0aC8yO1xuICAgICAgICBsZXQgZGVmYXVsdEhlaWdodCA6IG51bWJlciA9IGNhbnZhc0hlaWdodC8yO1xuICAgICAgICBsZXQgc2NhbGVYIDogbnVtYmVyID0gMjUwL2RlZmF1bHRXaWR0aDtcbiAgICAgICAgbGV0IHNjYWxlWSA6IG51bWJlciA9IDI1MC9kZWZhdWx0SGVpZ2h0O1xuICAgICAgICB0aGlzLnNwcml0ZVNjYWxlLnNldFgoc2NhbGVYKTtcbiAgICAgICAgdGhpcy5zcHJpdGVTY2FsZS5zZXRZKHNjYWxlWSk7XG5cbiAgICAgICAgLy8gQHRvZG8gLSBDT01CSU5FIFRISVMgV0lUSCBUSEUgUk9UQVRFIEFORCBTQ0FMRSBWQUxVRVMgRlJPTSBUSEUgU1BSSVRFXG4gICAgICAgIE1hdGhVdGlsaXRpZXMuaWRlbnRpdHkodGhpcy5zcHJpdGVUcmFuc2Zvcm0pO1xuICAgICAgICBNYXRoVXRpbGl0aWVzLm1vZGVsKHRoaXMuc3ByaXRlVHJhbnNmb3JtLCB0aGlzLnNwcml0ZVRyYW5zbGF0ZSwgdGhpcy5zcHJpdGVSb3RhdGUsIHRoaXMuc3ByaXRlU2NhbGUpO1xuICAgICAgICBcbiAgICAgICAgLy8gRklHVVJFIE9VVCBUSEUgVEVYVFVSRSBDT09SRElOQVRFIEZBQ1RPUiBBTkQgU0hJRlRcbiAgICAgICAgLy8gbGV0IHRleENvb3JkRmFjdG9yWCA6IG51bWJlciA9IHNwcml0ZVdpZHRoL3RleHR1cmUud2lkdGg7XG4gICAgICAgIC8vIGxldCB0ZXhDb29yZEZhY3RvclkgOiBudW1iZXIgPSBzcHJpdGVIZWlnaHQvdGV4dHVyZS5oZWlnaHQ7XG4gICAgICAgIC8vIGxldCBzcHJpdGVMZWZ0IDogbnVtYmVyID0gc3ByaXRlLmdldExlZnQoKTtcbiAgICAgICAgLy8gbGV0IHNwcml0ZVRvcCA6IG51bWJlciA9IHNwcml0ZS5nZXRUb3AoKTtcbiAgICAgICAgLy8gbGV0IHRleENvb3JkU2hpZnRYIDogbnVtYmVyID0gc3ByaXRlTGVmdC90ZXh0dXJlLndpZHRoO1xuICAgICAgICAvLyBsZXQgdGV4Q29vcmRTaGlmdFkgOiBudW1iZXIgPSBzcHJpdGVUb3AvdGV4dHVyZS5oZWlnaHQ7ICAgXG5cbiAgICAgICAgLy8gVVNFIFRIRSBBVFRSSUJVVEVTXG4gICAvLyB3ZWJHTC5iaW5kQnVmZmVyKHdlYkdMLkFSUkFZX0JVRkZFUiwgdGhpcy52ZXJ0ZXhUZXhDb29yZEJ1ZmZlcik7XG4gICAgICAgLy8gd2ViR0wuYmluZFRleHR1cmUod2ViR0wuVEVYVFVSRV8yRCwgdGV4dHVyZS53ZWJHTFRleHR1cmUpO1xuXG4gICAgICAgIC8vIEhPT0sgVVAgVEhFIEFUVFJJQlVURVNcbiAgICAgICAgbGV0IGFfUG9zaXRpb25Mb2NhdGlvbiA6IEdMdWludCA9IHRoaXMud2ViR0xBdHRyaWJ1dGVMb2NhdGlvbnNbU3ByaXRlRGVmYXVsdHMuQV9QT1NJVElPTl07XG4gICAgICAgIHdlYkdMLnZlcnRleEF0dHJpYlBvaW50ZXIoYV9Qb3NpdGlvbkxvY2F0aW9uLCBTcHJpdGVEZWZhdWx0cy5GTE9BVFNfUEVSX1RFWFRVUkVfQ09PUkRJTkFURSwgd2ViR0wuRkxPQVQsIGZhbHNlLCBTcHJpdGVEZWZhdWx0cy5UT1RBTF9CWVRFUywgU3ByaXRlRGVmYXVsdHMuVkVSVEVYX1BPU0lUSU9OX09GRlNFVCk7XG4gICAgICAgIHdlYkdMLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KGFfUG9zaXRpb25Mb2NhdGlvbik7XG4gICAgICAvLyAgbGV0IGFfVGV4Q29vcmRMb2NhdGlvbiA6IEdMdWludCA9IHRoaXMud2ViR0xBdHRyaWJ1dGVMb2NhdGlvbnNbU3ByaXRlRGVmYXVsdHMuQV9URVhfQ09PUkRdO1xuICAgICAgIC8vIHdlYkdMLnZlcnRleEF0dHJpYlBvaW50ZXIoYV9UZXhDb29yZExvY2F0aW9uLCBTcHJpdGVEZWZhdWx0cy5GTE9BVFNfUEVSX1RFWFRVUkVfQ09PUkRJTkFURSwgd2ViR0wuRkxPQVQsIGZhbHNlLCBTcHJpdGVEZWZhdWx0cy5UT1RBTF9CWVRFUywgU3ByaXRlRGVmYXVsdHMuVEVYVFVSRV9DT09SRElOQVRFX09GRlNFVCk7XG4gICAgICAgLy8gd2ViR0wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkoYV9UZXhDb29yZExvY2F0aW9uKTtcblxuICAgICAgICAvLyBVU0UgVEhFIFVOSUZPUk1TXG4gICAgICAgIGxldCB1X1Nwcml0ZVRyYW5zZm9ybUxvY2F0aW9uIDogV2ViR0xVbmlmb3JtTG9jYXRpb24gPSB0aGlzLndlYkdMVW5pZm9ybUxvY2F0aW9uc1tTcHJpdGVEZWZhdWx0cy5VX1NQUklURV9UUkFOU0ZPUk1dO1xuICAgICAgICB3ZWJHTC51bmlmb3JtTWF0cml4NGZ2KHVfU3ByaXRlVHJhbnNmb3JtTG9jYXRpb24sIGZhbHNlLCB0aGlzLnNwcml0ZVRyYW5zZm9ybS5nZXREYXRhKCkpO1xuICAgICAgLy8gIGxldCB1X1NhbXBsZXJMb2NhdGlvbiA6IFdlYkdMVW5pZm9ybUxvY2F0aW9uID0gdGhpcy53ZWJHTFVuaWZvcm1Mb2NhdGlvbnNbU3ByaXRlRGVmYXVsdHMuVV9TQU1QTEVSXTtcbiAgICAgICAgLy93ZWJHTC51bmlmb3JtMWkodV9TYW1wbGVyTG9jYXRpb24sIHRleHR1cmUud2ViR0xUZXh0dXJlSWQpO1xuICAgIC8vICAgICBsZXQgdV9UZXhDb29yZEZhY3RvckxvY2F0aW9uIDogV2ViR0xVbmlmb3JtTG9jYXRpb24gPSB0aGlzLndlYkdMVW5pZm9ybUxvY2F0aW9uc1tTcHJpdGVEZWZhdWx0cy5VX1RFWF9DT09SRF9GQUNUT1JdO1xuICAgIC8vICAgIC8vIHdlYkdMLnVuaWZvcm0yZih1X1RleENvb3JkRmFjdG9yTG9jYXRpb24sIHRleENvb3JkRmFjdG9yWCwgdGV4Q29vcmRGYWN0b3JZKTtcbiAgICAvLyAgICAgbGV0IHVfVGV4Q29vcmRTaGlmdExvY2F0aW9uIDogV2ViR0xVbmlmb3JtTG9jYXRpb24gPSB0aGlzLndlYkdMVW5pZm9ybUxvY2F0aW9uc1tTcHJpdGVEZWZhdWx0cy5VX1RFWF9DT09SRF9TSElGVF07XG4gICAgLy8gICAgIHdlYkdMLnVuaWZvcm0yZih1X1RleENvb3JkU2hpZnRMb2NhdGlvbiwgdGV4Q29vcmRTaGlmdFgsIHRleENvb3JkU2hpZnRZKTtcblxuICAgICAgICAvLyBEUkFXIFRIRSBTUFJJVEUgQVMgQSBUUklBTkdMRSBTVFJJUCBVU0lORyA0IFZFUlRJQ0VTLCBTVEFSVElORyBBVCBUSEUgU1RBUlQgT0YgVEhFIEFSUkFZIChpbmRleCAwKVxuICAgICAgICB3ZWJHTC5kcmF3QXJyYXlzKHdlYkdMLlRSSUFOR0xFX1NUUklQLCBTcHJpdGVEZWZhdWx0cy5JTkRFWF9PRl9GSVJTVF9WRVJURVgsIFNwcml0ZURlZmF1bHRzLk5VTV9WRVJUSUNFUyk7XG4gICAgfVxufSIsImltcG9ydCB7V2ViR0xHYW1lU2hhZGVyfSBmcm9tICcuL1dlYkdMR2FtZVNoYWRlcidcbmltcG9ydCB7TWF0aFV0aWxpdGllc30gZnJvbSAnLi4vbWF0aC9NYXRoVXRpbGl0aWVzJ1xuaW1wb3J0IHsgTWF0cml4IH0gZnJvbSAnLi4vbWF0aC9NYXRyaXgnXG5pbXBvcnQgeyBWZWN0b3IzIH0gZnJvbSAnLi4vbWF0aC9WZWN0b3IzJ1xuaW1wb3J0IHtHcmFkaWVudENpcmNsZX0gZnJvbSAnLi4vc2NlbmUvY2lyY2xlL0dyYWRpZW50Q2lyY2xlJ1xuaW1wb3J0IHtHcmFkaWVudENpcmNsZVR5cGV9IGZyb20gJy4uL3NjZW5lL2NpcmNsZS9HcmFkaWVudENpcmNsZVR5cGUnXG5pbXBvcnQge1dlYkdMR2FtZVRleHR1cmV9IGZyb20gJy4vV2ViR0xHYW1lVGV4dHVyZSdcbmltcG9ydCB7SGFzaFRhYmxlfSBmcm9tICcuLi9kYXRhL0hhc2hUYWJsZSdcblxudmFyIFNwcml0ZURlZmF1bHRzID0ge1xuICAgIEFfUE9TSVRJT046IFwiYV9Qb3NpdGlvblwiLFxuICAgIEFfVkFMVUVfVE9fSU5URVJQT0xBVEU6IFwiYV9WYWx1ZVRvSW50ZXJwb2xhdGVcIixcbiAgICBBX1RFWF9DT09SRDogXCJhX1RleENvb3JkXCIsXG4gICAgVV9TUFJJVEVfVFJBTlNGT1JNOiBcInVfU3ByaXRlVHJhbnNmb3JtXCIsXG4gICAgVV9URVhfQ09PUkRfRkFDVE9SOiBcInVfVGV4Q29vcmRGYWN0b3JcIixcbiAgICBVX1RFWF9DT09SRF9TSElGVDogXCJ1X1RleENvb3JkU2hpZnRcIixcbiAgICBVX1NBTVBMRVI6IFwidV9TYW1wbGVyXCIsXG4gICAgTlVNX1ZFUlRJQ0VTOiA0LFxuICAgIEZMT0FUU19QRVJfVkVSVEVYOiAyLFxuICAgIEZMT0FUU19QRVJfVEVYVFVSRV9DT09SRElOQVRFOiAyLFxuICAgIFRPVEFMX0JZVEVTOiAxNixcbiAgICBWRVJURVhfUE9TSVRJT05fT0ZGU0VUOiAwLFxuICAgIFRFWFRVUkVfQ09PUkRJTkFURV9PRkZTRVQ6IDgsXG4gICAgSU5ERVhfT0ZfRklSU1RfVkVSVEVYOiAwXG59O1xuXG5leHBvcnQgY2xhc3MgV2ViR0xHYW1lUmVkQ2lyY2xlUmVuZGVyZXIge1xuICAgIHByaXZhdGUgc2hhZGVyIDogV2ViR0xHYW1lU2hhZGVyO1xuICAgIHByaXZhdGUgdmVydGV4VGV4Q29vcmRCdWZmZXIgOiBXZWJHTEJ1ZmZlcjtcblxuICAgIC8vIFdFJ0xMIFVTRSBUSEVTRSBGT1IgVFJBTlNPRk1SSU5HIE9CSkVDVFMgV0hFTiBXRSBEUkFXIFRIRU1cbiAgICBwcml2YXRlIHNwcml0ZVRyYW5zZm9ybSA6IE1hdHJpeDtcbiAgICBwcml2YXRlIHNwcml0ZVRyYW5zbGF0ZSA6IFZlY3RvcjM7XG4gICAgcHJpdmF0ZSBzcHJpdGVSb3RhdGUgOiBWZWN0b3IzO1xuICAgIHByaXZhdGUgc3ByaXRlU2NhbGUgOiBWZWN0b3IzOyAgICBcblxuICAgIHByaXZhdGUgd2ViR0xBdHRyaWJ1dGVMb2NhdGlvbnMgOiBIYXNoVGFibGU8R0x1aW50PjtcbiAgICBwcml2YXRlIHdlYkdMVW5pZm9ybUxvY2F0aW9ucyA6IEhhc2hUYWJsZTxXZWJHTFVuaWZvcm1Mb2NhdGlvbj47XG5cbiAgICBwdWJsaWMgY29uc3RydWN0b3IoKSB7fVxuICAgIFxuICAgIHB1YmxpYyBpbml0KHdlYkdMIDogV2ViR0xSZW5kZXJpbmdDb250ZXh0KSA6IHZvaWQge1xuICAgICAgICAgICAgdGhpcy5zaGFkZXIgPSBuZXcgV2ViR0xHYW1lU2hhZGVyKCk7XG4gICAgICAgICAgICB2YXIgdmVydGV4U2hhZGVyU291cmNlID1cbiAgICAgICAgICAgICdwcmVjaXNpb24gaGlnaHAgZmxvYXQ7XFxuXFxuJyArXG4gICAgICAgICAgICAvLyd1bmlmb3JtIHZlYzIgJyArIENpcmNsZURlZmF1bHRzLlVfVEVYX0NPT1JEX0ZBQ1RPUiArICc7XFxuJyArXG4gICAgICAgICAgICAvLyd1bmlmb3JtIHZlYzIgJyArIENpcmNsZURlZmF1bHRzLlVfVEVYX0NPT1JEX1NISUZUICsgJztcXG4nICtcbiAgICAgICAgICAgICdhdHRyaWJ1dGUgdmVjNCAnICsgU3ByaXRlRGVmYXVsdHMuQV9QT1NJVElPTiArICc7XFxuJyArXG4gICAgICAgICAgICAnYXR0cmlidXRlIHZlYzIgJyArIFNwcml0ZURlZmF1bHRzLkFfVkFMVUVfVE9fSU5URVJQT0xBVEUgKyAnO1xcbicgK1xuICAgICAgICAgICAgJ3ZhcnlpbmcgdmVjMiB2YWw7XFxuJyArXG4gICAgICAgICAgICAndW5pZm9ybSBtYXQ0ICcgKyBTcHJpdGVEZWZhdWx0cy5VX1NQUklURV9UUkFOU0ZPUk0gKyAnO1xcbicgK1xuICAgICAgICAgICAgJ3ZvaWQgbWFpbigpIHtcXG4nICtcbiAgICAgICAgICAgICcgIHZhbCA9ICcgKyBTcHJpdGVEZWZhdWx0cy5BX1ZBTFVFX1RPX0lOVEVSUE9MQVRFICsgJztcXG4nICtcbiAgICAgICAgICAgICcgIGdsX1Bvc2l0aW9uID0gJyArIFNwcml0ZURlZmF1bHRzLlVfU1BSSVRFX1RSQU5TRk9STSArICcgKiAnICsgU3ByaXRlRGVmYXVsdHMuQV9QT1NJVElPTiArICc7XFxuJyArXG4gICAgICAgICAgICAnfVxcbic7XG4gICAgICAgICAgICAvLyAndW5pZm9ybSBtYXQ0ICcgKyBTcHJpdGVEZWZhdWx0cy5VX1NQUklURV9UUkFOU0ZPUk0gKyAnO1xcbicgK1xuICAgICAgICAgICAgLy8gJ3VuaWZvcm0gdmVjMiAnICsgU3ByaXRlRGVmYXVsdHMuVV9URVhfQ09PUkRfRkFDVE9SICsgJztcXG4nICtcbiAgICAgICAgICAgIC8vICd1bmlmb3JtIHZlYzIgJyArIFNwcml0ZURlZmF1bHRzLlVfVEVYX0NPT1JEX1NISUZUICsgJztcXG4nICtcbiAgICAgICAgICAgIC8vICdhdHRyaWJ1dGUgdmVjNCAnICsgU3ByaXRlRGVmYXVsdHMuQV9QT1NJVElPTiArICc7XFxuJyArXG4gICAgICAgICAgICAvLyAnYXR0cmlidXRlIHZlYzIgJyArIFNwcml0ZURlZmF1bHRzLkFfVEVYX0NPT1JEICsgJztcXG4nICtcbiAgICAgICAgICAgIC8vICd2YXJ5aW5nIHZlYzIgdl9UZXhDb29yZDtcXG4nICtcbiAgICAgICAgICAgIC8vICd2b2lkIG1haW4oKSB7XFxuJyArXG4gICAgICAgICAgICAvLyAnICBnbF9Qb3NpdGlvbiA9ICcgKyBTcHJpdGVEZWZhdWx0cy5VX1NQUklURV9UUkFOU0ZPUk0gKyAnICogJyArIFNwcml0ZURlZmF1bHRzLkFfUE9TSVRJT04gKyAnO1xcbicgK1xuICAgICAgICAgICAgLy8gJyAgdmVjMiB0ZW1wVGV4Q29vcmQgPSAnICsgU3ByaXRlRGVmYXVsdHMuQV9URVhfQ09PUkQgKyAnICogJyArIFNwcml0ZURlZmF1bHRzLlVfVEVYX0NPT1JEX0ZBQ1RPUiArICc7XFxuJyArXG4gICAgICAgICAgICAvLyAnICB2X1RleENvb3JkID0gdGVtcFRleENvb3JkICsgJyArIFNwcml0ZURlZmF1bHRzLlVfVEVYX0NPT1JEX1NISUZUICsgJztcXG4nICtcbiAgICAgICAgICAgIC8vICd9XFxuJztcbiAgICAgICAgdmFyIGZyYWdtZW50U2hhZGVyU291cmNlID1cbiAgICAgICAgICAgICdwcmVjaXNpb24gaGlnaHAgZmxvYXQ7XFxuJyArXG4gICAgICAgICAgICAndmFyeWluZyB2ZWMyIHZhbDtcXG4nICtcbiAgICAgICAgICAgICd2b2lkIG1haW4oKSB7XFxuJyArXG4gICAgICAgICAgICAnICBmbG9hdCBSID0gMC40O1xcbicgK1xuICAgICAgICAgICAgJyAgZmxvYXQgZGlzdCA9IHNxcnQoZG90KHZhbCx2YWwpKTtcXG4nICtcbiAgICAgICAgICAgICcgIGZsb2F0IGFscGhhID0gMS4wO1xcbicgK1xuICAgICAgICAgICAgJyAgaWYgKGRpc3QgPiBSKSB7XFxuJyArXG4gICAgICAgICAgICAnICAgIGRpc2NhcmQ7XFxuJyArXG4gICAgICAgICAgICAnICB9XFxuJyArXG4gICAgICAgICAgICAnICBnbF9GcmFnQ29sb3IgPSB2ZWM0KGRpc3QsIDAsIDAsIGFscGhhKTtcXG4nICsgLy9UT0RPIG1pZ2h0IG5lZWQgcmFuZG9tbHkgZ2VuZXJhdGVkIHZhcmlhYmxlcyBoZXJlXG4gICAgICAgICAgICAnfVxcbic7XG4gICAgICAgICAgICAvLyAnI2lmZGVmIEdMX0VTXFxuJyArXG4gICAgICAgICAgICAvLyAncHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XFxuJyArXG4gICAgICAgICAgICAvLyAnI2VuZGlmXFxuJyArXG4gICAgICAgICAgICAvLyAndW5pZm9ybSBzYW1wbGVyMkQgJyArIFNwcml0ZURlZmF1bHRzLlVfU0FNUExFUiArICc7XFxuJyArXG4gICAgICAgICAgICAvLyAndmFyeWluZyB2ZWMyIHZfVGV4Q29vcmQ7XFxuJyArXG4gICAgICAgICAgICAvLyAndm9pZCBtYWluKCkge1xcbicgK1xuICAgICAgICAgICAgLy8gJyAgZ2xfRnJhZ0NvbG9yID0gdGV4dHVyZTJEKCcgKyBTcHJpdGVEZWZhdWx0cy5VX1NBTVBMRVIgKyAnLCB2X1RleENvb3JkKTtcXG4nICtcbiAgICAgICAgICAgIC8vICd9XFxuJztcbiAgICAgICAgdGhpcy5zaGFkZXIuaW5pdCh3ZWJHTCwgdmVydGV4U2hhZGVyU291cmNlLCBmcmFnbWVudFNoYWRlclNvdXJjZSk7XG5cbiAgICAgICAgLy8gR0VUIFRIRSB3ZWJHTCBPQkpFQ1QgVE8gVVNFXG4gICAgICAgIHZhciB2ZXJ0aWNlc1RleENvb3JkcyA9IG5ldyBGbG9hdDMyQXJyYXkoW1xuICAgICAgICAgICAgLTAuNSwgIDAuNSwgMC4wLCAwLjAsXG4gICAgICAgICAgICAtMC41LCAtMC41LCAwLjAsIDEuMCxcbiAgICAgICAgICAgICAwLjUsICAwLjUsIDEuMCwgMC4wLFxuICAgICAgICAgICAgIDAuNSwgLTAuNSwgMS4wLCAxLjBcbiAgICAgICAgXSk7XG5cbiAgICAgICAgLy8gQ1JFQVRFIFRIRSBCVUZGRVIgT04gVEhFIEdQVVxuICAgICAgICB0aGlzLnZlcnRleFRleENvb3JkQnVmZmVyID0gd2ViR0wuY3JlYXRlQnVmZmVyKCk7XG5cbiAgICAgICAgLy8gQklORCBUSEUgQlVGRkVSIFRPIEJFIFZFUlRFWCBEQVRBXG4gICAgICAgIHdlYkdMLmJpbmRCdWZmZXIod2ViR0wuQVJSQVlfQlVGRkVSLCB0aGlzLnZlcnRleFRleENvb3JkQnVmZmVyKTtcblxuICAgICAgICAvLyBBTkQgU0VORCBUSEUgREFUQSBUTyBUSEUgQlVGRkVSIFdFIENSRUFURUQgT04gVEhFIEdQVVxuICAgICAgICB3ZWJHTC5idWZmZXJEYXRhKHdlYkdMLkFSUkFZX0JVRkZFUiwgdmVydGljZXNUZXhDb29yZHMsIHdlYkdMLlNUQVRJQ19EUkFXKTtcblxuICAgICAgICAvLyBTRVRVUCBUSEUgU0hBREVSIEFUVFJJQlVURVMgQU5EIFVOSUZPUk1TXG4gICAgICAgIHRoaXMud2ViR0xBdHRyaWJ1dGVMb2NhdGlvbnMgPSB7fTtcbiAgICAgICAgdGhpcy53ZWJHTFVuaWZvcm1Mb2NhdGlvbnMgPSB7fTtcbiAgICAgICAgdGhpcy5sb2FkQXR0cmlidXRlTG9jYXRpb25zKHdlYkdMLCBbU3ByaXRlRGVmYXVsdHMuQV9QT1NJVElPTiwgU3ByaXRlRGVmYXVsdHMuQV9URVhfQ09PUkRdKTtcbiAgICAgICAgdGhpcy5sb2FkVW5pZm9ybUxvY2F0aW9ucyh3ZWJHTCwgW1Nwcml0ZURlZmF1bHRzLlVfU1BSSVRFX1RSQU5TRk9STSwgU3ByaXRlRGVmYXVsdHMuVV9TQU1QTEVSLCBTcHJpdGVEZWZhdWx0cy5VX1RFWF9DT09SRF9GQUNUT1IsIFNwcml0ZURlZmF1bHRzLlVfVEVYX0NPT1JEX1NISUZUXSk7XG5cbiAgICAgICAgLy8gV0UnTEwgVVNFIFRIRVNFIEZPUiBUUkFOU09GTVJJTkcgT0JKRUNUUyBXSEVOIFdFIERSQVcgVEhFTVxuICAgICAgICB0aGlzLnNwcml0ZVRyYW5zZm9ybSA9IG5ldyBNYXRyaXgoNCwgNCk7XG4gICAgICAgIHRoaXMuc3ByaXRlVHJhbnNsYXRlID0gbmV3IFZlY3RvcjMoKTtcbiAgICAgICAgdGhpcy5zcHJpdGVSb3RhdGUgPSBuZXcgVmVjdG9yMygpO1xuICAgICAgICB0aGlzLnNwcml0ZVNjYWxlID0gbmV3IFZlY3RvcjMoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgcmVuZGVyUmVkQ2lyY2xlcyggIHdlYkdMIDogV2ViR0xSZW5kZXJpbmdDb250ZXh0LCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW52YXNXaWR0aCA6IG51bWJlciwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FudmFzSGVpZ2h0IDogbnVtYmVyLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aXNpYmxlU2V0IDogQXJyYXk8R3JhZGllbnRDaXJjbGU+KSA6IHZvaWQge1xuICAgICAgICAvLyBTRUxFQ1QgVEhFIEFOSU1BVEVEIFNQUklURSBSRU5ERVJJTkcgU0hBREVSIFBST0dSQU0gRk9SIFVTRVxuICAgICAgICBsZXQgc2hhZGVyUHJvZ3JhbVRvVXNlID0gdGhpcy5zaGFkZXIuZ2V0UHJvZ3JhbSgpO1xuICAgICAgICB3ZWJHTC51c2VQcm9ncmFtKHNoYWRlclByb2dyYW1Ub1VzZSk7XG5cbiAgICAgICAvLyBBTkQgVEhFTiBSRU5ERVIgRUFDSCBPTkVcbiAgICAgICBmb3IgKGxldCBzcHJpdGUgb2YgdmlzaWJsZVNldCkge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJBbmltYXRlZFNwcml0ZSh3ZWJHTCwgY2FudmFzV2lkdGgsIGNhbnZhc0hlaWdodCwgc3ByaXRlKTsgICAgICAgIFxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBsb2FkQXR0cmlidXRlTG9jYXRpb25zKHdlYkdMIDogV2ViR0xSZW5kZXJpbmdDb250ZXh0LCBhdHRyaWJ1dGVMb2NhdGlvbk5hbWVzIDogQXJyYXk8c3RyaW5nPikge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGF0dHJpYnV0ZUxvY2F0aW9uTmFtZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBsb2NhdGlvbk5hbWUgOiBzdHJpbmcgPSBhdHRyaWJ1dGVMb2NhdGlvbk5hbWVzW2ldO1xuICAgICAgICAgICAgbGV0IGxvY2F0aW9uIDogR0x1aW50ID0gd2ViR0wuZ2V0QXR0cmliTG9jYXRpb24odGhpcy5zaGFkZXIuZ2V0UHJvZ3JhbSgpLCBsb2NhdGlvbk5hbWUpO1xuICAgICAgICAgICAgdGhpcy53ZWJHTEF0dHJpYnV0ZUxvY2F0aW9uc1tsb2NhdGlvbk5hbWVdID0gbG9jYXRpb247XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGxvYWRVbmlmb3JtTG9jYXRpb25zKHdlYkdMIDogV2ViR0xSZW5kZXJpbmdDb250ZXh0LCB1bmlmb3JtTG9jYXRpb25OYW1lcyA6IEFycmF5PHN0cmluZz4pIHtcbiAgICAgICAgZm9yIChsZXQgaSA6IG51bWJlciA9IDA7IGkgPCB1bmlmb3JtTG9jYXRpb25OYW1lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IGxvY2F0aW9uTmFtZSA6IHN0cmluZyA9IHVuaWZvcm1Mb2NhdGlvbk5hbWVzW2ldO1xuICAgICAgICAgICAgbGV0IGxvY2F0aW9uIDogV2ViR0xVbmlmb3JtTG9jYXRpb24gPSB3ZWJHTC5nZXRVbmlmb3JtTG9jYXRpb24odGhpcy5zaGFkZXIuZ2V0UHJvZ3JhbSgpLCBsb2NhdGlvbk5hbWUpO1xuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhsb2NhdGlvbi4pXG4gICAgICAgICAgICB0aGlzLndlYkdMVW5pZm9ybUxvY2F0aW9uc1tsb2NhdGlvbk5hbWVdID0gbG9jYXRpb247XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIHJlbmRlckFuaW1hdGVkU3ByaXRlKCAgIHdlYkdMIDogV2ViR0xSZW5kZXJpbmdDb250ZXh0LCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW52YXNXaWR0aCA6IG51bWJlciwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FudmFzSGVpZ2h0IDogbnVtYmVyLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaXJjbGUgOiBHcmFkaWVudENpcmNsZSkge1xuICAgICAgIC8vIGxldCBzcHJpdGVUeXBlIDogR3JhZGllbnRDaXJjbGUgPSBjaXJjbGUuZ2V0Q2lyY2xlVHlwZSgpO1xuICAgICAgICAvL2xldCB0ZXh0dXJlIDogV2ViR0xHYW1lVGV4dHVyZSA9IHNwcml0ZVR5cGUuZ2V0U3ByaXRlU2hlZXRUZXh0dXJlKCk7XG5cbiAgICAgICAgLy8gQ0FMQ1VMQVRFIEhPVyBNVUNIIFRPIFRSQU5TTEFURSBUSEUgUVVBRCBQRVIgVEhFIFNQUklURSBQT1NJVElPTlxuICAgICAgICBsZXQgc3ByaXRlV2lkdGggOiBudW1iZXIgPSAxMDA7XG4gICAgICAgIGxldCBzcHJpdGVIZWlnaHQgOiBudW1iZXIgPSAxMDA7XG4gICAgICAgIGxldCBzcHJpdGVYSW5QaXhlbHMgOiBudW1iZXIgPSBjaXJjbGUuZ2V0UG9zaXRpb24oKS5nZXRYKCkgKyAoc3ByaXRlV2lkdGgvMik7XG4gICAgICAgIGxldCBzcHJpdGVZSW5QaXhlbHMgOiBudW1iZXIgPSBjaXJjbGUuZ2V0UG9zaXRpb24oKS5nZXRZKCkgKyAoc3ByaXRlSGVpZ2h0LzIpO1xuICAgICAgICBsZXQgc3ByaXRlWFRyYW5zbGF0ZSA6IG51bWJlciA9IChzcHJpdGVYSW5QaXhlbHMgLSAoY2FudmFzV2lkdGgvMikpLyhjYW52YXNXaWR0aC8yKTtcbiAgICAgICAgbGV0IHNwcml0ZVlUcmFuc2xhdGUgOiBudW1iZXIgPSAoc3ByaXRlWUluUGl4ZWxzIC0gKGNhbnZhc0hlaWdodC8yKSkvKGNhbnZhc0hlaWdodC8yKTtcbiAgICAgICAgdGhpcy5zcHJpdGVUcmFuc2xhdGUuc2V0WChzcHJpdGVYVHJhbnNsYXRlKTtcbiAgICAgICAgdGhpcy5zcHJpdGVUcmFuc2xhdGUuc2V0WSgtc3ByaXRlWVRyYW5zbGF0ZSk7XG5cbiAgICAgICAgLy8gQ0FMQ1VMQVRFIEhPVyBNVUNIIFRPIFNDQUxFIFRIRSBRVUFEIFBFUiBUSEUgU1BSSVRFIFNJWkVcbiAgICAgICAgbGV0IGRlZmF1bHRXaWR0aCA6IG51bWJlciA9IGNhbnZhc1dpZHRoLzI7XG4gICAgICAgIGxldCBkZWZhdWx0SGVpZ2h0IDogbnVtYmVyID0gY2FudmFzSGVpZ2h0LzI7XG4gICAgICAgIGxldCBzY2FsZVggOiBudW1iZXIgPSAyNTAvZGVmYXVsdFdpZHRoO1xuICAgICAgICBsZXQgc2NhbGVZIDogbnVtYmVyID0gMjUwL2RlZmF1bHRIZWlnaHQ7XG4gICAgICAgIHRoaXMuc3ByaXRlU2NhbGUuc2V0WChzY2FsZVgpO1xuICAgICAgICB0aGlzLnNwcml0ZVNjYWxlLnNldFkoc2NhbGVZKTtcblxuICAgICAgICAvLyBAdG9kbyAtIENPTUJJTkUgVEhJUyBXSVRIIFRIRSBST1RBVEUgQU5EIFNDQUxFIFZBTFVFUyBGUk9NIFRIRSBTUFJJVEVcbiAgICAgICAgTWF0aFV0aWxpdGllcy5pZGVudGl0eSh0aGlzLnNwcml0ZVRyYW5zZm9ybSk7XG4gICAgICAgIE1hdGhVdGlsaXRpZXMubW9kZWwodGhpcy5zcHJpdGVUcmFuc2Zvcm0sIHRoaXMuc3ByaXRlVHJhbnNsYXRlLCB0aGlzLnNwcml0ZVJvdGF0ZSwgdGhpcy5zcHJpdGVTY2FsZSk7XG4gICAgICAgIFxuICAgICAgICAvLyBGSUdVUkUgT1VUIFRIRSBURVhUVVJFIENPT1JESU5BVEUgRkFDVE9SIEFORCBTSElGVFxuICAgICAgICAvLyBsZXQgdGV4Q29vcmRGYWN0b3JYIDogbnVtYmVyID0gc3ByaXRlV2lkdGgvdGV4dHVyZS53aWR0aDtcbiAgICAgICAgLy8gbGV0IHRleENvb3JkRmFjdG9yWSA6IG51bWJlciA9IHNwcml0ZUhlaWdodC90ZXh0dXJlLmhlaWdodDtcbiAgICAgICAgLy8gbGV0IHNwcml0ZUxlZnQgOiBudW1iZXIgPSBzcHJpdGUuZ2V0TGVmdCgpO1xuICAgICAgICAvLyBsZXQgc3ByaXRlVG9wIDogbnVtYmVyID0gc3ByaXRlLmdldFRvcCgpO1xuICAgICAgICAvLyBsZXQgdGV4Q29vcmRTaGlmdFggOiBudW1iZXIgPSBzcHJpdGVMZWZ0L3RleHR1cmUud2lkdGg7XG4gICAgICAgIC8vIGxldCB0ZXhDb29yZFNoaWZ0WSA6IG51bWJlciA9IHNwcml0ZVRvcC90ZXh0dXJlLmhlaWdodDsgICBcblxuICAgICAgICAvLyBVU0UgVEhFIEFUVFJJQlVURVNcbiAgIC8vIHdlYkdMLmJpbmRCdWZmZXIod2ViR0wuQVJSQVlfQlVGRkVSLCB0aGlzLnZlcnRleFRleENvb3JkQnVmZmVyKTtcbiAgICAgICAvLyB3ZWJHTC5iaW5kVGV4dHVyZSh3ZWJHTC5URVhUVVJFXzJELCB0ZXh0dXJlLndlYkdMVGV4dHVyZSk7XG5cbiAgICAgICAgLy8gSE9PSyBVUCBUSEUgQVRUUklCVVRFU1xuICAgICAgICBsZXQgYV9Qb3NpdGlvbkxvY2F0aW9uIDogR0x1aW50ID0gdGhpcy53ZWJHTEF0dHJpYnV0ZUxvY2F0aW9uc1tTcHJpdGVEZWZhdWx0cy5BX1BPU0lUSU9OXTtcbiAgICAgICAgd2ViR0wudmVydGV4QXR0cmliUG9pbnRlcihhX1Bvc2l0aW9uTG9jYXRpb24sIFNwcml0ZURlZmF1bHRzLkZMT0FUU19QRVJfVEVYVFVSRV9DT09SRElOQVRFLCB3ZWJHTC5GTE9BVCwgZmFsc2UsIFNwcml0ZURlZmF1bHRzLlRPVEFMX0JZVEVTLCBTcHJpdGVEZWZhdWx0cy5WRVJURVhfUE9TSVRJT05fT0ZGU0VUKTtcbiAgICAgICAgd2ViR0wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkoYV9Qb3NpdGlvbkxvY2F0aW9uKTtcbiAgICAgIC8vICBsZXQgYV9UZXhDb29yZExvY2F0aW9uIDogR0x1aW50ID0gdGhpcy53ZWJHTEF0dHJpYnV0ZUxvY2F0aW9uc1tTcHJpdGVEZWZhdWx0cy5BX1RFWF9DT09SRF07XG4gICAgICAgLy8gd2ViR0wudmVydGV4QXR0cmliUG9pbnRlcihhX1RleENvb3JkTG9jYXRpb24sIFNwcml0ZURlZmF1bHRzLkZMT0FUU19QRVJfVEVYVFVSRV9DT09SRElOQVRFLCB3ZWJHTC5GTE9BVCwgZmFsc2UsIFNwcml0ZURlZmF1bHRzLlRPVEFMX0JZVEVTLCBTcHJpdGVEZWZhdWx0cy5URVhUVVJFX0NPT1JESU5BVEVfT0ZGU0VUKTtcbiAgICAgICAvLyB3ZWJHTC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShhX1RleENvb3JkTG9jYXRpb24pO1xuXG4gICAgICAgIC8vIFVTRSBUSEUgVU5JRk9STVNcbiAgICAgICAgbGV0IHVfU3ByaXRlVHJhbnNmb3JtTG9jYXRpb24gOiBXZWJHTFVuaWZvcm1Mb2NhdGlvbiA9IHRoaXMud2ViR0xVbmlmb3JtTG9jYXRpb25zW1Nwcml0ZURlZmF1bHRzLlVfU1BSSVRFX1RSQU5TRk9STV07XG4gICAgICAgIHdlYkdMLnVuaWZvcm1NYXRyaXg0ZnYodV9TcHJpdGVUcmFuc2Zvcm1Mb2NhdGlvbiwgZmFsc2UsIHRoaXMuc3ByaXRlVHJhbnNmb3JtLmdldERhdGEoKSk7XG4gICAgICAvLyAgbGV0IHVfU2FtcGxlckxvY2F0aW9uIDogV2ViR0xVbmlmb3JtTG9jYXRpb24gPSB0aGlzLndlYkdMVW5pZm9ybUxvY2F0aW9uc1tTcHJpdGVEZWZhdWx0cy5VX1NBTVBMRVJdO1xuICAgICAgICAvL3dlYkdMLnVuaWZvcm0xaSh1X1NhbXBsZXJMb2NhdGlvbiwgdGV4dHVyZS53ZWJHTFRleHR1cmVJZCk7XG4gICAgLy8gICAgIGxldCB1X1RleENvb3JkRmFjdG9yTG9jYXRpb24gOiBXZWJHTFVuaWZvcm1Mb2NhdGlvbiA9IHRoaXMud2ViR0xVbmlmb3JtTG9jYXRpb25zW1Nwcml0ZURlZmF1bHRzLlVfVEVYX0NPT1JEX0ZBQ1RPUl07XG4gICAgLy8gICAgLy8gd2ViR0wudW5pZm9ybTJmKHVfVGV4Q29vcmRGYWN0b3JMb2NhdGlvbiwgdGV4Q29vcmRGYWN0b3JYLCB0ZXhDb29yZEZhY3RvclkpO1xuICAgIC8vICAgICBsZXQgdV9UZXhDb29yZFNoaWZ0TG9jYXRpb24gOiBXZWJHTFVuaWZvcm1Mb2NhdGlvbiA9IHRoaXMud2ViR0xVbmlmb3JtTG9jYXRpb25zW1Nwcml0ZURlZmF1bHRzLlVfVEVYX0NPT1JEX1NISUZUXTtcbiAgICAvLyAgICAgd2ViR0wudW5pZm9ybTJmKHVfVGV4Q29vcmRTaGlmdExvY2F0aW9uLCB0ZXhDb29yZFNoaWZ0WCwgdGV4Q29vcmRTaGlmdFkpO1xuXG4gICAgICAgIC8vIERSQVcgVEhFIFNQUklURSBBUyBBIFRSSUFOR0xFIFNUUklQIFVTSU5HIDQgVkVSVElDRVMsIFNUQVJUSU5HIEFUIFRIRSBTVEFSVCBPRiBUSEUgQVJSQVkgKGluZGV4IDApXG4gICAgICAgIHdlYkdMLmRyYXdBcnJheXMod2ViR0wuVFJJQU5HTEVfU1RSSVAsIFNwcml0ZURlZmF1bHRzLklOREVYX09GX0ZJUlNUX1ZFUlRFWCwgU3ByaXRlRGVmYXVsdHMuTlVNX1ZFUlRJQ0VTKTtcbiAgICB9XG59IiwiLypcbiAqIFRoaXMgc2VydmVzIGFzIHRoZSBzdWJzeXN0ZW0gdGhhdCBtYW5hZ2VzIGFsbCBnYW1lIHJlbmRlcmluZy5cbiAqL1xuaW1wb3J0IHtUZXh0UmVuZGVyZXJ9IGZyb20gJy4vVGV4dFJlbmRlcmVyJ1xuaW1wb3J0IHtXZWJHTEdhbWVTcHJpdGVSZW5kZXJlcn0gZnJvbSAnLi9XZWJHTEdhbWVTcHJpdGVSZW5kZXJlcidcbmltcG9ydCB7V2ViR0xHYW1lQ2lyY2xlUmVuZGVyZXJ9IGZyb20gJy4vV2ViR0xHYW1lQ2lyY2xlUmVuZGVyZXInXG5pbXBvcnQge1dlYkdMR2FtZVJlZENpcmNsZVJlbmRlcmVyfSBmcm9tICcuL1dlYkdMR2FtZVJlZENpcmNsZVJlbmRlcmVyJ1xuaW1wb3J0IHtXZWJHTEdhbWVCbHVlQ2lyY2xlUmVuZGVyZXJ9IGZyb20gJy4vV2ViR0xHYW1lQmx1ZUNpcmNsZVJlbmRlcmVyJ1xuaW1wb3J0IHtXZWJHTEdhbWVHcmVlbkNpcmNsZVJlbmRlcmVyfSBmcm9tICcuL1dlYkdMR2FtZUdyZWVuQ2lyY2xlUmVuZGVyZXInXG5pbXBvcnQge1dlYkdMR2FtZUN5YW5DaXJjbGVSZW5kZXJlcn0gZnJvbSAnLi9XZWJHTEdhbWVDeWFuQ2lyY2xlUmVuZGVyZXInXG5pbXBvcnQge1dlYkdMR2FtZVllbGxvd0NpcmNsZVJlbmRlcmVyfSBmcm9tICcuL1dlYkdMR2FtZVllbGxvd0NpcmNsZVJlbmRlcmVyJ1xuaW1wb3J0IHtXZWJHTEdhbWVNYWdlbnRhQ2lyY2xlUmVuZGVyZXJ9IGZyb20gJy4vV2ViR0xHYW1lTWFnZW50YUNpcmNsZVJlbmRlcmVyJ1xuaW1wb3J0IHtBbmltYXRlZFNwcml0ZX0gZnJvbSAnLi4vc2NlbmUvc3ByaXRlL0FuaW1hdGVkU3ByaXRlJ1xuaW1wb3J0IHtHcmFkaWVudENpcmNsZX0gZnJvbSAnLi4vc2NlbmUvY2lyY2xlL0dyYWRpZW50Q2lyY2xlJ1xuaW1wb3J0IHtXZWJHTEdhbWVUZXh0dXJlIH0gZnJvbSAnLi9XZWJHTEdhbWVUZXh0dXJlJztcblxuZXhwb3J0IGNsYXNzIFdlYkdMR2FtZVJlbmRlcmluZ1N5c3RlbSB7XG4gICAgcHJpdmF0ZSByZW5kZXJpbmdDYW52YXMgOiBIVE1MQ2FudmFzRWxlbWVudDtcbiAgICBwcml2YXRlIHdlYkdMIDogV2ViR0xSZW5kZXJpbmdDb250ZXh0O1xuICAgIHByaXZhdGUgc3ByaXRlUmVuZGVyZXIgOiBXZWJHTEdhbWVTcHJpdGVSZW5kZXJlcjtcbiAgICBwcml2YXRlIGNpcmNsZVJlbmRlcmVyIDogV2ViR0xHYW1lQ2lyY2xlUmVuZGVyZXI7XG4gICAgcHJpdmF0ZSByZWRjaXJjbGVSZW5kZXJlciA6IFdlYkdMR2FtZVJlZENpcmNsZVJlbmRlcmVyO1xuICAgIHByaXZhdGUgYmx1ZWNpcmNsZVJlbmRlcmVyIDogV2ViR0xHYW1lQmx1ZUNpcmNsZVJlbmRlcmVyO1xuICAgIHByaXZhdGUgZ3JlZW5jaXJjbGVSZW5kZXJlciA6IFdlYkdMR2FtZUdyZWVuQ2lyY2xlUmVuZGVyZXI7XG4gICAgcHJpdmF0ZSBjeWFuY2lyY2xlUmVuZGVyZXIgOiBXZWJHTEdhbWVDeWFuQ2lyY2xlUmVuZGVyZXI7XG4gICAgcHJpdmF0ZSB5ZWxsb3djaXJjbGVSZW5kZXJlciA6IFdlYkdMR2FtZVllbGxvd0NpcmNsZVJlbmRlcmVyO1xuICAgIHByaXZhdGUgbWFnZW50YWNpcmNsZVJlbmRlcmVyIDogV2ViR0xHYW1lTWFnZW50YUNpcmNsZVJlbmRlcmVyO1xuICAgIHByaXZhdGUgdGV4dFJlbmRlcmVyIDogVGV4dFJlbmRlcmVyO1xuICAgIHByaXZhdGUgY2FudmFzV2lkdGggOiBudW1iZXI7XG4gICAgcHJpdmF0ZSBjYW52YXNIZWlnaHQgOiBudW1iZXI7XG5cbiAgICBwdWJsaWMgY29uc3RydWN0b3IoKSB7fVxuXG4gICAgcHVibGljIGdldFRleHR1cmVDb25zdGFudChpZCA6IG51bWJlcikgOiBudW1iZXIge1xuICAgICAgICAvLyBXRSBPTkxZIEhBVkUgNCBIRVJFLCBXRSBTSE9VTEQgSEFWRSBBIEJFVFRFUiBXQVkgT0YgRE9JTkcgVEhJU1xuICAgICAgICBzd2l0Y2goaWQpIHtcbiAgICAgICAgICAgIGNhc2UgMDogcmV0dXJuIHRoaXMud2ViR0wuVEVYVFVSRTA7XG4gICAgICAgICAgICBjYXNlIDE6IHJldHVybiB0aGlzLndlYkdMLlRFWFRVUkUxO1xuICAgICAgICAgICAgY2FzZSAyOiByZXR1cm4gdGhpcy53ZWJHTC5URVhUVVJFMztcbiAgICAgICAgICAgIGRlZmF1bHQ6IHJldHVybiB0aGlzLndlYkdMLlRFWFRVUkU0O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIGdldFdlYkdMKCkgOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQge1xuICAgICAgICByZXR1cm4gdGhpcy53ZWJHTDtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0U3ByaXRlUmVuZGVyZXIoKSA6IFdlYkdMR2FtZVNwcml0ZVJlbmRlcmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3ByaXRlUmVuZGVyZXI7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFRleHRSZW5kZXJlcigpIDogVGV4dFJlbmRlcmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGV4dFJlbmRlcmVyO1xuICAgIH1cblxuICAgIHB1YmxpYyBpbml0KHJlbmRlcmluZ0NhbnZhc0lkIDogc3RyaW5nLCB0ZXh0Q2FudmFzSWQgOiBzdHJpbmcpIDogdm9pZCB7XG4gICAgICAgIC8vIEZJUlNUIFNFVFVQIHdlYkdMXG4gICAgICAgIHRoaXMucmVuZGVyaW5nQ2FudmFzID0gPEhUTUxDYW52YXNFbGVtZW50PmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHJlbmRlcmluZ0NhbnZhc0lkKTtcbiAgICAgICAgdGhpcy5yZW5kZXJpbmdDYW52YXMud2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICAgICAgdGhpcy5yZW5kZXJpbmdDYW52YXMuaGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0O1xuICAgICAgICB0aGlzLmNhbnZhc1dpZHRoID0gdGhpcy5yZW5kZXJpbmdDYW52YXMud2lkdGg7XG4gICAgICAgIHRoaXMuY2FudmFzSGVpZ2h0ID0gdGhpcy5yZW5kZXJpbmdDYW52YXMuaGVpZ2h0O1xuICAgICAgICB0aGlzLndlYkdMID0gdGhpcy5yZW5kZXJpbmdDYW52YXMuZ2V0Q29udGV4dChcIndlYmdsXCIpO1xuXG4gICAgICAgIC8vIElGIFRIRSBVU0VSJ1MgTUFDSElORS9CUk9XU0VSIERPRVNOJ1QgU1VQUE9SVFxuICAgICAgICAvLyBXZWJHTCBUSEVOIFRIRVJFJ1MgTk8gUE9JTlQgT0YgR09JTkcgT05cbiAgICAgICAgaWYgKCF0aGlzLndlYkdMKSB7XG4gICAgICAgICAgICAvLyBQUk9WSURFIFNPTUUgRkVFREJBQ0sgVEhBVCBXZWJHTCBXT04nVCBXT1JLIEJFQ0FVU0VcbiAgICAgICAgICAgIC8vIFRIRSBVU0VSJ1MnIEdSQVBISUNTIENBUkQgSVMgRk9SIFRIRSBCSVJEU1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIldlYkdMIGlzIG5vdCBzdXBwb3J0ZWQgYnkgdGhpcyBkZXZpY2VcIik7XG5cbiAgICAgICAgICAgIC8vIEFORCBFTkQgSU5JVElBTElaQVRJT05cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFdlYkdMIElTIFNVUFBPUlRFRCwgU08gSU5JVCBFVkVSWVRISU5HIFRIQVQgVVNFUyBJVFxuXG4gICAgICAgIC8vIE1BS0UgVEhFIENMRUFSIENPTE9SIEJMQUNLXG4gICAgICAgIHRoaXMuc2V0Q2xlYXJDb2xvcigxLjAsIDEuMCwgMS4wLCAxLjApO1xuXG4gICAgICAgIC8vIEVOQUJMRSBERVBUSCBURVNUSU5HXG4gICAgICAgIHRoaXMud2ViR0wuZGlzYWJsZSh0aGlzLndlYkdMLkRFUFRIX1RFU1QpO1xuICAgICAgICB0aGlzLndlYkdMLmVuYWJsZSh0aGlzLndlYkdMLkJMRU5EKTtcbiAgICAgICAgdGhpcy53ZWJHTC5ibGVuZEZ1bmModGhpcy53ZWJHTC5TUkNfQUxQSEEsIHRoaXMud2ViR0wuT05FX01JTlVTX1NSQ19BTFBIQSk7XG5cbiAgICAgICAgLy8gVFVSTiBPTiBCQUNLRkFDRSBDVUxMSU5HXG4gICAgICAgIHRoaXMud2ViR0wuZW5hYmxlKHRoaXMud2ViR0wuQ1VMTF9GQUNFKTtcblxuICAgICAgICAvLyBUSElTIFNQRUNJRklFUyBUSEFUIFdFJ1JFIFVTSU5HIFRIRSBFTlRJUkUgQ0FOVkFTXG4gICAgICAgIHRoaXMud2ViR0wudmlld3BvcnQoMCwgMCwgdGhpcy5jYW52YXNXaWR0aCwgdGhpcy5jYW52YXNIZWlnaHQpO1xuXG4gICAgICAgIC8vIE5PVyBNQUtFIFRIRSBTSEFERVIgRk9SIERSQVdJTkcgVEhJUyBUSElOR1xuICAgICAgICB0aGlzLnNwcml0ZVJlbmRlcmVyID0gbmV3IFdlYkdMR2FtZVNwcml0ZVJlbmRlcmVyKCk7XG4gICAgICAgIHRoaXMuc3ByaXRlUmVuZGVyZXIuaW5pdCh0aGlzLndlYkdMKTtcblxuICAgICAgICB0aGlzLmNpcmNsZVJlbmRlcmVyID0gbmV3IFdlYkdMR2FtZUNpcmNsZVJlbmRlcmVyKCk7XG4gICAgICAgIHRoaXMuY2lyY2xlUmVuZGVyZXIuaW5pdCh0aGlzLndlYkdMKTtcblxuICAgICAgICB0aGlzLnJlZGNpcmNsZVJlbmRlcmVyID0gbmV3IFdlYkdMR2FtZVJlZENpcmNsZVJlbmRlcmVyKCk7XG4gICAgICAgIHRoaXMucmVkY2lyY2xlUmVuZGVyZXIuaW5pdCh0aGlzLndlYkdMKTtcblxuICAgICAgICB0aGlzLmJsdWVjaXJjbGVSZW5kZXJlciA9IG5ldyBXZWJHTEdhbWVCbHVlQ2lyY2xlUmVuZGVyZXIoKTtcbiAgICAgICAgdGhpcy5ibHVlY2lyY2xlUmVuZGVyZXIuaW5pdCh0aGlzLndlYkdMKTtcblxuICAgICAgICB0aGlzLmdyZWVuY2lyY2xlUmVuZGVyZXIgPSBuZXcgV2ViR0xHYW1lR3JlZW5DaXJjbGVSZW5kZXJlcigpO1xuICAgICAgICB0aGlzLmdyZWVuY2lyY2xlUmVuZGVyZXIuaW5pdCh0aGlzLndlYkdMKTtcblxuICAgICAgICB0aGlzLmN5YW5jaXJjbGVSZW5kZXJlciA9IG5ldyBXZWJHTEdhbWVDeWFuQ2lyY2xlUmVuZGVyZXIoKTtcbiAgICAgICAgdGhpcy5jeWFuY2lyY2xlUmVuZGVyZXIuaW5pdCh0aGlzLndlYkdMKTtcblxuICAgICAgICB0aGlzLnllbGxvd2NpcmNsZVJlbmRlcmVyID0gbmV3IFdlYkdMR2FtZVllbGxvd0NpcmNsZVJlbmRlcmVyKCk7XG4gICAgICAgIHRoaXMueWVsbG93Y2lyY2xlUmVuZGVyZXIuaW5pdCh0aGlzLndlYkdMKTtcblxuICAgICAgICB0aGlzLm1hZ2VudGFjaXJjbGVSZW5kZXJlciA9IG5ldyBXZWJHTEdhbWVNYWdlbnRhQ2lyY2xlUmVuZGVyZXIoKTtcbiAgICAgICAgdGhpcy5tYWdlbnRhY2lyY2xlUmVuZGVyZXIuaW5pdCh0aGlzLndlYkdMKTtcbiAgICAgICAgXG4gICAgICAgIC8vIFRISVMgV0lMTCBTVE9SRSBPVVIgVEVYVFxuICAgICAgICB0aGlzLnRleHRSZW5kZXJlciA9IG5ldyBUZXh0UmVuZGVyZXIodGV4dENhbnZhc0lkLCBcInNlcmlmXCIsIDE4LCBcIiNGRkZGMDBcIik7XG4gICAgfVxuXG4gICAgcHVibGljIGluaXRXZWJHTFRleHR1cmUodGV4dHVyZVRvSW5pdCA6IFdlYkdMR2FtZVRleHR1cmUsIHRleHR1cmVJZCA6IG51bWJlciwgaW1hZ2UgOiBIVE1MSW1hZ2VFbGVtZW50LCBjYWxsYmFjayA6IEZ1bmN0aW9uKSA6IHZvaWQge1xuICAgICAgICB0ZXh0dXJlVG9Jbml0LndpZHRoID0gaW1hZ2Uud2lkdGg7XG4gICAgICAgIHRleHR1cmVUb0luaXQuaGVpZ2h0ID0gaW1hZ2UuaGVpZ2h0O1xuXG4gICAgICAgIC8vIENSRUFURSBBIFdlYkdMIFRFWFRVUkUgT04gVEhFIEdQVVxuICAgICAgICB0ZXh0dXJlVG9Jbml0LndlYkdMVGV4dHVyZSA9IHRoaXMud2ViR0wuY3JlYXRlVGV4dHVyZSgpO1xuICAgICAgICB0ZXh0dXJlVG9Jbml0LndlYkdMVGV4dHVyZUlkID0gdGV4dHVyZUlkO1xuXG4gICAgICAgIC8vIEZMSVAgVEhFIElNQUdFJ1MgeS1BWElTXG4gICAgICAgIC8vd2ViR0wucGl4ZWxTdG9yZWkod2ViR0wuVU5QQUNLX0ZMSVBfWV9XRUJHTCwgMSk7XG5cbiAgICAgICAgLy8gQUNUSVZBVEUgVEhFIFdlYkdMIFRFWFRVUkUgT04gVEhFIEdQVVxuICAgICAgICAvL2xldCB0ZXh0dXJlTnVtTmFtZSA6IHN0cmluZyA9IFwiVEVYVFVSRVwiICsgdGV4dHVyZUlkO1xuICAgICAgICBsZXQgdGV4dHVyZU5hbWVDb25zdGFudCA6IG51bWJlciA9IHRoaXMuZ2V0VGV4dHVyZUNvbnN0YW50KHRleHR1cmVJZCk7XG4gICAgICAgIHRoaXMud2ViR0wuYWN0aXZlVGV4dHVyZSh0ZXh0dXJlTmFtZUNvbnN0YW50KTtcblxuICAgICAgICAvLyBCSU5EIFRIRSBURVhUVVJFIFRPIEEgMkQgVFlQRVxuICAgICAgICB0aGlzLndlYkdMLmJpbmRUZXh0dXJlKHRoaXMud2ViR0wuVEVYVFVSRV8yRCwgdGV4dHVyZVRvSW5pdC53ZWJHTFRleHR1cmUpO1xuXG4gICAgICAgIC8vIFNQRUNJRlkgUkVOREVSSU5HIFNFVFRJTkdTXG4gICAgICAgIHRoaXMud2ViR0wudGV4UGFyYW1ldGVyaSh0aGlzLndlYkdMLlRFWFRVUkVfMkQsIHRoaXMud2ViR0wuVEVYVFVSRV9NSU5fRklMVEVSLCB0aGlzLndlYkdMLkxJTkVBUik7XG5cbiAgICAgICAgLy8gU0VUIFRIRSBJTUFHRSBGT1IgVEhFIFRFWFRVUkVcbiAgICAgICAgdGhpcy53ZWJHTC50ZXhJbWFnZTJEKHRoaXMud2ViR0wuVEVYVFVSRV8yRCwgMCwgdGhpcy53ZWJHTC5SR0JBLCB0aGlzLndlYkdMLlJHQkEsIHRoaXMud2ViR0wuVU5TSUdORURfQllURSwgaW1hZ2UpO1xuXG4gICAgICAgIC8vIEtFRVAgSVQgRk9SIFdIRU4gV0UgUkVOREVSXG4gICAgICAgIGNhbGxiYWNrKCk7XG4gICAgfVxuXG4gICAgcHVibGljIHNldENsZWFyQ29sb3IociA6IG51bWJlciwgZyA6IG51bWJlciwgYiA6IG51bWJlciwgYSA6IG51bWJlcikgOiB2b2lkIHtcbiAgICAgICAgdGhpcy53ZWJHTC5jbGVhckNvbG9yKHIsIGcsIGIsIGEpO1xuICAgIH1cblxuICAgIHB1YmxpYyByZW5kZXIodmlzaWJsZVNldCA6IEFycmF5PEFuaW1hdGVkU3ByaXRlPiwgcmVkU2V0IDogQXJyYXk8R3JhZGllbnRDaXJjbGU+LCBibHVlU2V0IDogQXJyYXk8R3JhZGllbnRDaXJjbGU+LCBncmVlblNldCA6IEFycmF5PEdyYWRpZW50Q2lyY2xlPiwgY3lhblNldCA6IEFycmF5PEdyYWRpZW50Q2lyY2xlPiwgeWVsbG93U2V0IDogQXJyYXk8R3JhZGllbnRDaXJjbGU+LCBtYWdlbnRhU2V0IDogQXJyYXk8R3JhZGllbnRDaXJjbGU+KSA6IHZvaWQge1xuICAgICAgICAvLyBDTEVBUiBUSEUgQ0FOVkFTXG4gICAgICAgIHRoaXMud2ViR0wuY2xlYXIodGhpcy53ZWJHTC5DT0xPUl9CVUZGRVJfQklUIHwgdGhpcy53ZWJHTC5ERVBUSF9CVUZGRVJfQklUKTtcbiAgICAgICAgXG4gICAgICAgIC8vIFJFTkRFUiBUSEUgU1BSSVRFUyBPTiBPTkUgQ0FOVkFTXG4gICAgICAgIHRoaXMuc3ByaXRlUmVuZGVyZXIucmVuZGVyQW5pbWF0ZWRTcHJpdGVzKHRoaXMud2ViR0wsIHRoaXMuY2FudmFzV2lkdGgsIHRoaXMuY2FudmFzSGVpZ2h0LCB2aXNpYmxlU2V0KTtcblxuICAgICAgICAvLyBSRU5ERVIgVEhFIENJUkNMRVMgT04gT05FIENBTlZBU1xuICAgIC8vdGhpcy5jaXJjbGVSZW5kZXJlci5yZW5kZXJHcmFkaWVudENpcmNsZXModGhpcy53ZWJHTCwgdGhpcy5jYW52YXNXaWR0aCwgdGhpcy5jYW52YXNIZWlnaHQsIGNpcmNsZVNldCk7XG5cbiAgICAgICAgdGhpcy5yZWRjaXJjbGVSZW5kZXJlci5yZW5kZXJSZWRDaXJjbGVzKHRoaXMud2ViR0wsIHRoaXMuY2FudmFzV2lkdGgsIHRoaXMuY2FudmFzSGVpZ2h0LCByZWRTZXQpO1xuXG4gICAgICAgIHRoaXMuYmx1ZWNpcmNsZVJlbmRlcmVyLnJlbmRlclJlZENpcmNsZXModGhpcy53ZWJHTCwgdGhpcy5jYW52YXNXaWR0aCwgdGhpcy5jYW52YXNIZWlnaHQsIGJsdWVTZXQpO1xuXG4gICAgICAgIHRoaXMuZ3JlZW5jaXJjbGVSZW5kZXJlci5yZW5kZXJSZWRDaXJjbGVzKHRoaXMud2ViR0wsIHRoaXMuY2FudmFzV2lkdGgsIHRoaXMuY2FudmFzSGVpZ2h0LCBncmVlblNldCk7XG5cbiAgICAgICAgdGhpcy5jeWFuY2lyY2xlUmVuZGVyZXIucmVuZGVyUmVkQ2lyY2xlcyh0aGlzLndlYkdMLCB0aGlzLmNhbnZhc1dpZHRoLCB0aGlzLmNhbnZhc0hlaWdodCwgY3lhblNldCk7XG5cbiAgICAgICAgdGhpcy55ZWxsb3djaXJjbGVSZW5kZXJlci5yZW5kZXJSZWRDaXJjbGVzKHRoaXMud2ViR0wsIHRoaXMuY2FudmFzV2lkdGgsIHRoaXMuY2FudmFzSGVpZ2h0LCB5ZWxsb3dTZXQpO1xuXG4gICAgICAgIHRoaXMubWFnZW50YWNpcmNsZVJlbmRlcmVyLnJlbmRlclJlZENpcmNsZXModGhpcy53ZWJHTCwgdGhpcy5jYW52YXNXaWR0aCwgdGhpcy5jYW52YXNIZWlnaHQsIG1hZ2VudGFTZXQpO1xuICAgICAgICBcbiAgICAgICAgXG4gICAgICAgIC8vIFRIRU4gVEhFIFRFWFQgT04gQU5PVEhFUiBPVkVSTEFQUElORyBDQU5WQVNcbiAgICAgICAgdGhpcy50ZXh0UmVuZGVyZXIucmVuZGVyKCk7XG4gICAgfVxufSIsIi8qXG4gKiBUaGlzIGlzIGEgd3JhcHBlciBjbGFzcyBmb3IgYSBXZWJHTFByb2dyYW0sIGkuZS4gYSBzaGFkZXIgZm9yIGN1c3RvbSByZW5kZXJpbmdcbiAqIHVzaW5nIFdlYkdMJ3MgcHJvZ3JhbW1hYmxlIHBpcGVsaW5lLlxuICovXG5leHBvcnQgY2xhc3MgV2ViR0xHYW1lU2hhZGVyIHtcbiAgICBwcml2YXRlIHByb2dyYW0gOiBXZWJHTFByb2dyYW07XG4gICAgcHJpdmF0ZSB2ZXJ0ZXhTaGFkZXIgOiBXZWJHTFNoYWRlcjtcbiAgICBwcml2YXRlIGZyYWdtZW50U2hhZGVyIDogV2ViR0xTaGFkZXI7XG5cbiAgICBwdWJsaWMgY29uc3RydWN0b3IoKSB7fVxuXG4gICAgcHVibGljIGdldFByb2dyYW0oKSA6IFdlYkdMUHJvZ3JhbSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb2dyYW07XG4gICAgfVxuXG4gICAgcHVibGljIGluaXQod2ViR0wgOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsIHZTb3VyY2UgOiBzdHJpbmcsIGZTb3VyY2UgOiBzdHJpbmcpIDogdm9pZCB7XG4gICAgICAgIHRoaXMudmVydGV4U2hhZGVyID0gPFdlYkdMU2hhZGVyPnRoaXMuY3JlYXRlU2hhZGVyKHdlYkdMLCB3ZWJHTC5WRVJURVhfU0hBREVSLCB2U291cmNlKTtcbiAgICAgICAgdGhpcy5mcmFnbWVudFNoYWRlciA9IDxXZWJHTFNoYWRlcj50aGlzLmNyZWF0ZVNoYWRlcih3ZWJHTCwgd2ViR0wuRlJBR01FTlRfU0hBREVSLCBmU291cmNlKTtcbiAgICAgICAgdGhpcy5wcm9ncmFtID0gdGhpcy5jcmVhdGVTaGFkZXJQcm9ncmFtKHdlYkdMLCB0aGlzLnZlcnRleFNoYWRlciwgdGhpcy5mcmFnbWVudFNoYWRlcik7XG4gICAgfVxuXG4gICAgcHVibGljIGNyZWF0ZVNoYWRlcih3ZWJHTCA6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCwgdHlwZSA6IG51bWJlciwgc291cmNlIDogc3RyaW5nKSA6IFdlYkdMU2hhZGVyIHtcbiAgICAgICAgLy8gTUFLRSBBIE5FVyBTSEFERVIgT0JKRUNULCBMT0FEIElUJ1MgU09VUkNFLCBBTkQgQ09NUElMRSBJVFxuICAgICAgICB2YXIgc2hhZGVyID0gd2ViR0wuY3JlYXRlU2hhZGVyKHR5cGUpO1xuICAgICAgICB3ZWJHTC5zaGFkZXJTb3VyY2Uoc2hhZGVyLCBzb3VyY2UpO1xuICAgICAgICB3ZWJHTC5jb21waWxlU2hhZGVyKHNoYWRlcik7XG5cbiAgICAgICAgLy8gRElEIElUIENPTVBJTEU/XG4gICAgICAgIHZhciBzdWNjZXNzID0gd2ViR0wuZ2V0U2hhZGVyUGFyYW1ldGVyKHNoYWRlciwgd2ViR0wuQ09NUElMRV9TVEFUVVMpO1xuICAgICAgICBpZiAoc3VjY2Vzcykge1xuICAgICAgICAgICAgcmV0dXJuIHNoYWRlcjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIERJU0FTVEVSXG4gICAgICAgIGNvbnNvbGUubG9nKHdlYkdMLmdldFNoYWRlckluZm9Mb2coc2hhZGVyKSk7XG4gICAgICAgIHdlYkdMLmRlbGV0ZVNoYWRlcihzaGFkZXIpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBcblxuICAgIHB1YmxpYyBjcmVhdGVTaGFkZXJQcm9ncmFtKHdlYkdMIDogV2ViR0xSZW5kZXJpbmdDb250ZXh0LCB2U2hhZGVyIDogV2ViR0xTaGFkZXIsIGZTaGFkZXIgOiBXZWJHTFNoYWRlcikgOiBXZWJHTFByb2dyYW0ge1xuICAgICAgICAvLyBNQUtFIFRIRSBHTFNMIFNIQURFUiBQUk9HUkFNXG4gICAgICAgIGxldCBwcm9ncmFtVG9DcmVhdGUgPSB3ZWJHTC5jcmVhdGVQcm9ncmFtKCk7XG5cbiAgICAgICAgLy8gTElOSyBUSEUgVkVSVCBBTkQgRlJBR1xuICAgICAgICB3ZWJHTC5hdHRhY2hTaGFkZXIocHJvZ3JhbVRvQ3JlYXRlLCB2U2hhZGVyKTtcbiAgICAgICAgd2ViR0wuYXR0YWNoU2hhZGVyKHByb2dyYW1Ub0NyZWF0ZSwgZlNoYWRlcik7XG5cbiAgICAgICAgLy8gTk9XIFdFIENBTiBMSU5LIFRIRSBTSEFERVIgUFJPR1JBTVxuICAgICAgICB3ZWJHTC5saW5rUHJvZ3JhbShwcm9ncmFtVG9DcmVhdGUpO1xuICAgICAgICBsZXQgbGlua2VkIDogYm9vbGVhbiA9IHdlYkdMLmdldFByb2dyYW1QYXJhbWV0ZXIocHJvZ3JhbVRvQ3JlYXRlLCB3ZWJHTC5MSU5LX1NUQVRVUyk7XG5cbiAgICAgICAgLy8gSVMgSVQgTElOS0VEP1xuICAgICAgICBpZiAoIWxpbmtlZCkge1xuICAgICAgICAgICAgLy8gRElTQVNURVJcbiAgICAgICAgICAgIGxldCBlcnJvckZlZWRiYWNrIDogc3RyaW5nID0gd2ViR0wuZ2V0UHJvZ3JhbUluZm9Mb2cocHJvZ3JhbVRvQ3JlYXRlKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yRmVlZGJhY2spO1xuXG4gICAgICAgICAgICAvLyBESVNBU1RFUlxuICAgICAgICAgICAgY29uc29sZS5sb2cod2ViR0wuZ2V0UHJvZ3JhbUluZm9Mb2cocHJvZ3JhbVRvQ3JlYXRlKSk7XG4gICAgICAgICAgICB3ZWJHTC5kZWxldGVQcm9ncmFtKHByb2dyYW1Ub0NyZWF0ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHByb2dyYW1Ub0NyZWF0ZTtcbiAgICB9XG59IiwiaW1wb3J0IHtXZWJHTEdhbWVTaGFkZXJ9IGZyb20gJy4vV2ViR0xHYW1lU2hhZGVyJ1xuaW1wb3J0IHtNYXRoVXRpbGl0aWVzfSBmcm9tICcuLi9tYXRoL01hdGhVdGlsaXRpZXMnXG5pbXBvcnQgeyBNYXRyaXggfSBmcm9tICcuLi9tYXRoL01hdHJpeCdcbmltcG9ydCB7IFZlY3RvcjMgfSBmcm9tICcuLi9tYXRoL1ZlY3RvcjMnXG5pbXBvcnQge0FuaW1hdGVkU3ByaXRlfSBmcm9tICcuLi9zY2VuZS9zcHJpdGUvQW5pbWF0ZWRTcHJpdGUnXG5pbXBvcnQge0FuaW1hdGVkU3ByaXRlVHlwZX0gZnJvbSAnLi4vc2NlbmUvc3ByaXRlL0FuaW1hdGVkU3ByaXRlVHlwZSdcbmltcG9ydCB7V2ViR0xHYW1lVGV4dHVyZX0gZnJvbSAnLi9XZWJHTEdhbWVUZXh0dXJlJ1xuaW1wb3J0IHtIYXNoVGFibGV9IGZyb20gJy4uL2RhdGEvSGFzaFRhYmxlJ1xuXG52YXIgU3ByaXRlRGVmYXVsdHMgPSB7XG4gICAgQV9QT1NJVElPTjogXCJhX1Bvc2l0aW9uXCIsXG4gICAgQV9URVhfQ09PUkQ6IFwiYV9UZXhDb29yZFwiLFxuICAgIFVfU1BSSVRFX1RSQU5TRk9STTogXCJ1X1Nwcml0ZVRyYW5zZm9ybVwiLFxuICAgIFVfVEVYX0NPT1JEX0ZBQ1RPUjogXCJ1X1RleENvb3JkRmFjdG9yXCIsXG4gICAgVV9URVhfQ09PUkRfU0hJRlQ6IFwidV9UZXhDb29yZFNoaWZ0XCIsXG4gICAgVV9TQU1QTEVSOiBcInVfU2FtcGxlclwiLFxuICAgIE5VTV9WRVJUSUNFUzogNCxcbiAgICBGTE9BVFNfUEVSX1ZFUlRFWDogMixcbiAgICBGTE9BVFNfUEVSX1RFWFRVUkVfQ09PUkRJTkFURTogMixcbiAgICBUT1RBTF9CWVRFUzogMTYsXG4gICAgVkVSVEVYX1BPU0lUSU9OX09GRlNFVDogMCxcbiAgICBURVhUVVJFX0NPT1JESU5BVEVfT0ZGU0VUOiA4LFxuICAgIElOREVYX09GX0ZJUlNUX1ZFUlRFWDogMFxufTtcblxuZXhwb3J0IGNsYXNzIFdlYkdMR2FtZVNwcml0ZVJlbmRlcmVyIHtcbiAgICBwcml2YXRlIHNoYWRlciA6IFdlYkdMR2FtZVNoYWRlcjtcbiAgICBwcml2YXRlIHZlcnRleFRleENvb3JkQnVmZmVyIDogV2ViR0xCdWZmZXI7XG5cbiAgICAvLyBXRSdMTCBVU0UgVEhFU0UgRk9SIFRSQU5TT0ZNUklORyBPQkpFQ1RTIFdIRU4gV0UgRFJBVyBUSEVNXG4gICAgcHJpdmF0ZSBzcHJpdGVUcmFuc2Zvcm0gOiBNYXRyaXg7XG4gICAgcHJpdmF0ZSBzcHJpdGVUcmFuc2xhdGUgOiBWZWN0b3IzO1xuICAgIHByaXZhdGUgc3ByaXRlUm90YXRlIDogVmVjdG9yMztcbiAgICBwcml2YXRlIHNwcml0ZVNjYWxlIDogVmVjdG9yMzsgICAgXG5cbiAgICBwcml2YXRlIHdlYkdMQXR0cmlidXRlTG9jYXRpb25zIDogSGFzaFRhYmxlPEdMdWludD47XG4gICAgcHJpdmF0ZSB3ZWJHTFVuaWZvcm1Mb2NhdGlvbnMgOiBIYXNoVGFibGU8V2ViR0xVbmlmb3JtTG9jYXRpb24+O1xuXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKCkge31cbiAgICBcbiAgICBwdWJsaWMgaW5pdCh3ZWJHTCA6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCkgOiB2b2lkIHtcbiAgICAgICAgdGhpcy5zaGFkZXIgPSBuZXcgV2ViR0xHYW1lU2hhZGVyKCk7XG4gICAgICAgIHZhciB2ZXJ0ZXhTaGFkZXJTb3VyY2UgPVxuICAgICAgICAgICAgJ3VuaWZvcm0gbWF0NCAnICsgU3ByaXRlRGVmYXVsdHMuVV9TUFJJVEVfVFJBTlNGT1JNICsgJztcXG4nICtcbiAgICAgICAgICAgICd1bmlmb3JtIHZlYzIgJyArIFNwcml0ZURlZmF1bHRzLlVfVEVYX0NPT1JEX0ZBQ1RPUiArICc7XFxuJyArXG4gICAgICAgICAgICAndW5pZm9ybSB2ZWMyICcgKyBTcHJpdGVEZWZhdWx0cy5VX1RFWF9DT09SRF9TSElGVCArICc7XFxuJyArXG4gICAgICAgICAgICAnYXR0cmlidXRlIHZlYzQgJyArIFNwcml0ZURlZmF1bHRzLkFfUE9TSVRJT04gKyAnO1xcbicgK1xuICAgICAgICAgICAgJ2F0dHJpYnV0ZSB2ZWMyICcgKyBTcHJpdGVEZWZhdWx0cy5BX1RFWF9DT09SRCArICc7XFxuJyArXG4gICAgICAgICAgICAndmFyeWluZyB2ZWMyIHZfVGV4Q29vcmQ7XFxuJyArXG4gICAgICAgICAgICAndm9pZCBtYWluKCkge1xcbicgK1xuICAgICAgICAgICAgJyAgZ2xfUG9zaXRpb24gPSAnICsgU3ByaXRlRGVmYXVsdHMuVV9TUFJJVEVfVFJBTlNGT1JNICsgJyAqICcgKyBTcHJpdGVEZWZhdWx0cy5BX1BPU0lUSU9OICsgJztcXG4nICtcbiAgICAgICAgICAgICcgIHZlYzIgdGVtcFRleENvb3JkID0gJyArIFNwcml0ZURlZmF1bHRzLkFfVEVYX0NPT1JEICsgJyAqICcgKyBTcHJpdGVEZWZhdWx0cy5VX1RFWF9DT09SRF9GQUNUT1IgKyAnO1xcbicgK1xuICAgICAgICAgICAgJyAgdl9UZXhDb29yZCA9IHRlbXBUZXhDb29yZCArICcgKyBTcHJpdGVEZWZhdWx0cy5VX1RFWF9DT09SRF9TSElGVCArICc7XFxuJyArXG4gICAgICAgICAgICAnfVxcbic7XG4gICAgICAgIHZhciBmcmFnbWVudFNoYWRlclNvdXJjZSA9XG4gICAgICAgICAgICAnI2lmZGVmIEdMX0VTXFxuJyArXG4gICAgICAgICAgICAncHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XFxuJyArXG4gICAgICAgICAgICAnI2VuZGlmXFxuJyArXG4gICAgICAgICAgICAndW5pZm9ybSBzYW1wbGVyMkQgJyArIFNwcml0ZURlZmF1bHRzLlVfU0FNUExFUiArICc7XFxuJyArXG4gICAgICAgICAgICAndmFyeWluZyB2ZWMyIHZfVGV4Q29vcmQ7XFxuJyArXG4gICAgICAgICAgICAndm9pZCBtYWluKCkge1xcbicgK1xuICAgICAgICAgICAgJyAgZ2xfRnJhZ0NvbG9yID0gdGV4dHVyZTJEKCcgKyBTcHJpdGVEZWZhdWx0cy5VX1NBTVBMRVIgKyAnLCB2X1RleENvb3JkKTtcXG4nICtcbiAgICAgICAgICAgICd9XFxuJztcbiAgICAgICAgdGhpcy5zaGFkZXIuaW5pdCh3ZWJHTCwgdmVydGV4U2hhZGVyU291cmNlLCBmcmFnbWVudFNoYWRlclNvdXJjZSk7XG5cbiAgICAgICAgLy8gR0VUIFRIRSB3ZWJHTCBPQkpFQ1QgVE8gVVNFXG4gICAgICAgIHZhciB2ZXJ0aWNlc1RleENvb3JkcyA9IG5ldyBGbG9hdDMyQXJyYXkoW1xuICAgICAgICAgICAgLTAuNSwgIDAuNSwgMC4wLCAwLjAsXG4gICAgICAgICAgICAtMC41LCAtMC41LCAwLjAsIDEuMCxcbiAgICAgICAgICAgICAwLjUsICAwLjUsIDEuMCwgMC4wLFxuICAgICAgICAgICAgIDAuNSwgLTAuNSwgMS4wLCAxLjBcbiAgICAgICAgXSk7XG5cbiAgICAgICAgLy8gQ1JFQVRFIFRIRSBCVUZGRVIgT04gVEhFIEdQVVxuICAgICAgICB0aGlzLnZlcnRleFRleENvb3JkQnVmZmVyID0gd2ViR0wuY3JlYXRlQnVmZmVyKCk7XG5cbiAgICAgICAgLy8gQklORCBUSEUgQlVGRkVSIFRPIEJFIFZFUlRFWCBEQVRBXG4gICAgICAgIHdlYkdMLmJpbmRCdWZmZXIod2ViR0wuQVJSQVlfQlVGRkVSLCB0aGlzLnZlcnRleFRleENvb3JkQnVmZmVyKTtcblxuICAgICAgICAvLyBBTkQgU0VORCBUSEUgREFUQSBUTyBUSEUgQlVGRkVSIFdFIENSRUFURUQgT04gVEhFIEdQVVxuICAgICAgICB3ZWJHTC5idWZmZXJEYXRhKHdlYkdMLkFSUkFZX0JVRkZFUiwgdmVydGljZXNUZXhDb29yZHMsIHdlYkdMLlNUQVRJQ19EUkFXKTtcblxuICAgICAgICAvLyBTRVRVUCBUSEUgU0hBREVSIEFUVFJJQlVURVMgQU5EIFVOSUZPUk1TXG4gICAgICAgIHRoaXMud2ViR0xBdHRyaWJ1dGVMb2NhdGlvbnMgPSB7fTtcbiAgICAgICAgdGhpcy53ZWJHTFVuaWZvcm1Mb2NhdGlvbnMgPSB7fTtcbiAgICAgICAgdGhpcy5sb2FkQXR0cmlidXRlTG9jYXRpb25zKHdlYkdMLCBbU3ByaXRlRGVmYXVsdHMuQV9QT1NJVElPTiwgU3ByaXRlRGVmYXVsdHMuQV9URVhfQ09PUkRdKTtcbiAgICAgICAgdGhpcy5sb2FkVW5pZm9ybUxvY2F0aW9ucyh3ZWJHTCwgW1Nwcml0ZURlZmF1bHRzLlVfU1BSSVRFX1RSQU5TRk9STSwgU3ByaXRlRGVmYXVsdHMuVV9TQU1QTEVSLCBTcHJpdGVEZWZhdWx0cy5VX1RFWF9DT09SRF9GQUNUT1IsIFNwcml0ZURlZmF1bHRzLlVfVEVYX0NPT1JEX1NISUZUXSk7XG5cbiAgICAgICAgLy8gV0UnTEwgVVNFIFRIRVNFIEZPUiBUUkFOU09GTVJJTkcgT0JKRUNUUyBXSEVOIFdFIERSQVcgVEhFTVxuICAgICAgICB0aGlzLnNwcml0ZVRyYW5zZm9ybSA9IG5ldyBNYXRyaXgoNCwgNCk7XG4gICAgICAgIHRoaXMuc3ByaXRlVHJhbnNsYXRlID0gbmV3IFZlY3RvcjMoKTtcbiAgICAgICAgdGhpcy5zcHJpdGVSb3RhdGUgPSBuZXcgVmVjdG9yMygpO1xuICAgICAgICB0aGlzLnNwcml0ZVNjYWxlID0gbmV3IFZlY3RvcjMoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgcmVuZGVyQW5pbWF0ZWRTcHJpdGVzKCAgd2ViR0wgOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbnZhc1dpZHRoIDogbnVtYmVyLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW52YXNIZWlnaHQgOiBudW1iZXIsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpc2libGVTZXQgOiBBcnJheTxBbmltYXRlZFNwcml0ZT4pIDogdm9pZCB7XG4gICAgICAgIC8vIFNFTEVDVCBUSEUgQU5JTUFURUQgU1BSSVRFIFJFTkRFUklORyBTSEFERVIgUFJPR1JBTSBGT1IgVVNFXG4gICAgICAgIGxldCBzaGFkZXJQcm9ncmFtVG9Vc2UgPSB0aGlzLnNoYWRlci5nZXRQcm9ncmFtKCk7XG4gICAgICAgIHdlYkdMLnVzZVByb2dyYW0oc2hhZGVyUHJvZ3JhbVRvVXNlKTtcblxuICAgICAgIC8vIEFORCBUSEVOIFJFTkRFUiBFQUNIIE9ORVxuICAgICAgIGZvciAobGV0IHNwcml0ZSBvZiB2aXNpYmxlU2V0KSB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlckFuaW1hdGVkU3ByaXRlKHdlYkdMLCBjYW52YXNXaWR0aCwgY2FudmFzSGVpZ2h0LCBzcHJpdGUpOyAgICAgICAgXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGxvYWRBdHRyaWJ1dGVMb2NhdGlvbnMod2ViR0wgOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsIGF0dHJpYnV0ZUxvY2F0aW9uTmFtZXMgOiBBcnJheTxzdHJpbmc+KSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXR0cmlidXRlTG9jYXRpb25OYW1lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IGxvY2F0aW9uTmFtZSA6IHN0cmluZyA9IGF0dHJpYnV0ZUxvY2F0aW9uTmFtZXNbaV07XG4gICAgICAgICAgICBsZXQgbG9jYXRpb24gOiBHTHVpbnQgPSB3ZWJHTC5nZXRBdHRyaWJMb2NhdGlvbih0aGlzLnNoYWRlci5nZXRQcm9ncmFtKCksIGxvY2F0aW9uTmFtZSk7XG4gICAgICAgICAgICB0aGlzLndlYkdMQXR0cmlidXRlTG9jYXRpb25zW2xvY2F0aW9uTmFtZV0gPSBsb2NhdGlvbjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgbG9hZFVuaWZvcm1Mb2NhdGlvbnMod2ViR0wgOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsIHVuaWZvcm1Mb2NhdGlvbk5hbWVzIDogQXJyYXk8c3RyaW5nPikge1xuICAgICAgICBmb3IgKGxldCBpIDogbnVtYmVyID0gMDsgaSA8IHVuaWZvcm1Mb2NhdGlvbk5hbWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgbG9jYXRpb25OYW1lIDogc3RyaW5nID0gdW5pZm9ybUxvY2F0aW9uTmFtZXNbaV07XG4gICAgICAgICAgICBsZXQgbG9jYXRpb24gOiBXZWJHTFVuaWZvcm1Mb2NhdGlvbiA9IHdlYkdMLmdldFVuaWZvcm1Mb2NhdGlvbih0aGlzLnNoYWRlci5nZXRQcm9ncmFtKCksIGxvY2F0aW9uTmFtZSk7XG4gICAgICAgICAgICB0aGlzLndlYkdMVW5pZm9ybUxvY2F0aW9uc1tsb2NhdGlvbk5hbWVdID0gbG9jYXRpb247XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIHJlbmRlckFuaW1hdGVkU3ByaXRlKCAgIHdlYkdMIDogV2ViR0xSZW5kZXJpbmdDb250ZXh0LCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW52YXNXaWR0aCA6IG51bWJlciwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FudmFzSGVpZ2h0IDogbnVtYmVyLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcHJpdGUgOiBBbmltYXRlZFNwcml0ZSkge1xuICAgICAgICBsZXQgc3ByaXRlVHlwZSA6IEFuaW1hdGVkU3ByaXRlVHlwZSA9IHNwcml0ZS5nZXRTcHJpdGVUeXBlKCk7XG4gICAgICAgIGxldCB0ZXh0dXJlIDogV2ViR0xHYW1lVGV4dHVyZSA9IHNwcml0ZVR5cGUuZ2V0U3ByaXRlU2hlZXRUZXh0dXJlKCk7XG5cbiAgICAgICAgLy8gQ0FMQ1VMQVRFIEhPVyBNVUNIIFRPIFRSQU5TTEFURSBUSEUgUVVBRCBQRVIgVEhFIFNQUklURSBQT1NJVElPTlxuICAgICAgICBsZXQgc3ByaXRlV2lkdGggOiBudW1iZXIgPSBzcHJpdGVUeXBlLmdldFNwcml0ZVdpZHRoKCk7XG4gICAgICAgIGxldCBzcHJpdGVIZWlnaHQgOiBudW1iZXIgPSBzcHJpdGVUeXBlLmdldFNwcml0ZUhlaWdodCgpO1xuICAgICAgICBsZXQgc3ByaXRlWEluUGl4ZWxzIDogbnVtYmVyID0gc3ByaXRlLmdldFBvc2l0aW9uKCkuZ2V0WCgpICsgKHNwcml0ZVdpZHRoLzIpO1xuICAgICAgICBsZXQgc3ByaXRlWUluUGl4ZWxzIDogbnVtYmVyID0gc3ByaXRlLmdldFBvc2l0aW9uKCkuZ2V0WSgpICsgKHNwcml0ZUhlaWdodC8yKTtcbiAgICAgICAgbGV0IHNwcml0ZVhUcmFuc2xhdGUgOiBudW1iZXIgPSAoc3ByaXRlWEluUGl4ZWxzIC0gKGNhbnZhc1dpZHRoLzIpKS8oY2FudmFzV2lkdGgvMik7XG4gICAgICAgIGxldCBzcHJpdGVZVHJhbnNsYXRlIDogbnVtYmVyID0gKHNwcml0ZVlJblBpeGVscyAtIChjYW52YXNIZWlnaHQvMikpLyhjYW52YXNIZWlnaHQvMik7XG4gICAgICAgIHRoaXMuc3ByaXRlVHJhbnNsYXRlLnNldFgoc3ByaXRlWFRyYW5zbGF0ZSk7XG4gICAgICAgIHRoaXMuc3ByaXRlVHJhbnNsYXRlLnNldFkoLXNwcml0ZVlUcmFuc2xhdGUpO1xuXG4gICAgICAgIC8vIENBTENVTEFURSBIT1cgTVVDSCBUTyBTQ0FMRSBUSEUgUVVBRCBQRVIgVEhFIFNQUklURSBTSVpFXG4gICAgICAgIGxldCBkZWZhdWx0V2lkdGggOiBudW1iZXIgPSBjYW52YXNXaWR0aC8yO1xuICAgICAgICBsZXQgZGVmYXVsdEhlaWdodCA6IG51bWJlciA9IGNhbnZhc0hlaWdodC8yO1xuICAgICAgICBsZXQgc2NhbGVYIDogbnVtYmVyID0gc3ByaXRlV2lkdGgvZGVmYXVsdFdpZHRoO1xuICAgICAgICBsZXQgc2NhbGVZIDogbnVtYmVyID0gc3ByaXRlSGVpZ2h0L2RlZmF1bHRIZWlnaHQ7XG4gICAgICAgIHRoaXMuc3ByaXRlU2NhbGUuc2V0WChzY2FsZVgpO1xuICAgICAgICB0aGlzLnNwcml0ZVNjYWxlLnNldFkoc2NhbGVZKTtcblxuICAgICAgICAvLyBAdG9kbyAtIENPTUJJTkUgVEhJUyBXSVRIIFRIRSBST1RBVEUgQU5EIFNDQUxFIFZBTFVFUyBGUk9NIFRIRSBTUFJJVEVcbiAgICAgICAgTWF0aFV0aWxpdGllcy5pZGVudGl0eSh0aGlzLnNwcml0ZVRyYW5zZm9ybSk7XG4gICAgICAgIE1hdGhVdGlsaXRpZXMubW9kZWwodGhpcy5zcHJpdGVUcmFuc2Zvcm0sIHRoaXMuc3ByaXRlVHJhbnNsYXRlLCB0aGlzLnNwcml0ZVJvdGF0ZSwgdGhpcy5zcHJpdGVTY2FsZSk7XG4gICAgICAgIFxuICAgICAgICAvLyBGSUdVUkUgT1VUIFRIRSBURVhUVVJFIENPT1JESU5BVEUgRkFDVE9SIEFORCBTSElGVFxuICAgICAgICBsZXQgdGV4Q29vcmRGYWN0b3JYIDogbnVtYmVyID0gc3ByaXRlV2lkdGgvdGV4dHVyZS53aWR0aDtcbiAgICAgICAgbGV0IHRleENvb3JkRmFjdG9yWSA6IG51bWJlciA9IHNwcml0ZUhlaWdodC90ZXh0dXJlLmhlaWdodDtcbiAgICAgICAgbGV0IHNwcml0ZUxlZnQgOiBudW1iZXIgPSBzcHJpdGUuZ2V0TGVmdCgpO1xuICAgICAgICBsZXQgc3ByaXRlVG9wIDogbnVtYmVyID0gc3ByaXRlLmdldFRvcCgpO1xuICAgICAgICBsZXQgdGV4Q29vcmRTaGlmdFggOiBudW1iZXIgPSBzcHJpdGVMZWZ0L3RleHR1cmUud2lkdGg7XG4gICAgICAgIGxldCB0ZXhDb29yZFNoaWZ0WSA6IG51bWJlciA9IHNwcml0ZVRvcC90ZXh0dXJlLmhlaWdodDsgICBcblxuICAgICAgICAvLyBVU0UgVEhFIEFUVFJJQlVURVNcbiAgICAgICAgd2ViR0wuYmluZEJ1ZmZlcih3ZWJHTC5BUlJBWV9CVUZGRVIsIHRoaXMudmVydGV4VGV4Q29vcmRCdWZmZXIpO1xuICAgICAgICB3ZWJHTC5iaW5kVGV4dHVyZSh3ZWJHTC5URVhUVVJFXzJELCB0ZXh0dXJlLndlYkdMVGV4dHVyZSk7XG5cbiAgICAgICAgLy8gSE9PSyBVUCBUSEUgQVRUUklCVVRFU1xuICAgICAgICBsZXQgYV9Qb3NpdGlvbkxvY2F0aW9uIDogR0x1aW50ID0gdGhpcy53ZWJHTEF0dHJpYnV0ZUxvY2F0aW9uc1tTcHJpdGVEZWZhdWx0cy5BX1BPU0lUSU9OXTtcbiAgICAgICAgd2ViR0wudmVydGV4QXR0cmliUG9pbnRlcihhX1Bvc2l0aW9uTG9jYXRpb24sIFNwcml0ZURlZmF1bHRzLkZMT0FUU19QRVJfVEVYVFVSRV9DT09SRElOQVRFLCB3ZWJHTC5GTE9BVCwgZmFsc2UsIFNwcml0ZURlZmF1bHRzLlRPVEFMX0JZVEVTLCBTcHJpdGVEZWZhdWx0cy5WRVJURVhfUE9TSVRJT05fT0ZGU0VUKTtcbiAgICAgICAgd2ViR0wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkoYV9Qb3NpdGlvbkxvY2F0aW9uKTtcbiAgICAgICAgbGV0IGFfVGV4Q29vcmRMb2NhdGlvbiA6IEdMdWludCA9IHRoaXMud2ViR0xBdHRyaWJ1dGVMb2NhdGlvbnNbU3ByaXRlRGVmYXVsdHMuQV9URVhfQ09PUkRdO1xuICAgICAgICB3ZWJHTC52ZXJ0ZXhBdHRyaWJQb2ludGVyKGFfVGV4Q29vcmRMb2NhdGlvbiwgU3ByaXRlRGVmYXVsdHMuRkxPQVRTX1BFUl9URVhUVVJFX0NPT1JESU5BVEUsIHdlYkdMLkZMT0FULCBmYWxzZSwgU3ByaXRlRGVmYXVsdHMuVE9UQUxfQllURVMsIFNwcml0ZURlZmF1bHRzLlRFWFRVUkVfQ09PUkRJTkFURV9PRkZTRVQpO1xuICAgICAgICB3ZWJHTC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShhX1RleENvb3JkTG9jYXRpb24pO1xuXG4gICAgICAgIC8vIFVTRSBUSEUgVU5JRk9STVNcbiAgICAgICAgbGV0IHVfU3ByaXRlVHJhbnNmb3JtTG9jYXRpb24gOiBXZWJHTFVuaWZvcm1Mb2NhdGlvbiA9IHRoaXMud2ViR0xVbmlmb3JtTG9jYXRpb25zW1Nwcml0ZURlZmF1bHRzLlVfU1BSSVRFX1RSQU5TRk9STV07XG4gICAgICAgIHdlYkdMLnVuaWZvcm1NYXRyaXg0ZnYodV9TcHJpdGVUcmFuc2Zvcm1Mb2NhdGlvbiwgZmFsc2UsIHRoaXMuc3ByaXRlVHJhbnNmb3JtLmdldERhdGEoKSk7XG4gICAgICAgIGxldCB1X1NhbXBsZXJMb2NhdGlvbiA6IFdlYkdMVW5pZm9ybUxvY2F0aW9uID0gdGhpcy53ZWJHTFVuaWZvcm1Mb2NhdGlvbnNbU3ByaXRlRGVmYXVsdHMuVV9TQU1QTEVSXTtcbiAgICAgICAgd2ViR0wudW5pZm9ybTFpKHVfU2FtcGxlckxvY2F0aW9uLCB0ZXh0dXJlLndlYkdMVGV4dHVyZUlkKTtcbiAgICAgICAgbGV0IHVfVGV4Q29vcmRGYWN0b3JMb2NhdGlvbiA6IFdlYkdMVW5pZm9ybUxvY2F0aW9uID0gdGhpcy53ZWJHTFVuaWZvcm1Mb2NhdGlvbnNbU3ByaXRlRGVmYXVsdHMuVV9URVhfQ09PUkRfRkFDVE9SXTtcbiAgICAgICAgd2ViR0wudW5pZm9ybTJmKHVfVGV4Q29vcmRGYWN0b3JMb2NhdGlvbiwgdGV4Q29vcmRGYWN0b3JYLCB0ZXhDb29yZEZhY3RvclkpO1xuICAgICAgICBsZXQgdV9UZXhDb29yZFNoaWZ0TG9jYXRpb24gOiBXZWJHTFVuaWZvcm1Mb2NhdGlvbiA9IHRoaXMud2ViR0xVbmlmb3JtTG9jYXRpb25zW1Nwcml0ZURlZmF1bHRzLlVfVEVYX0NPT1JEX1NISUZUXTtcbiAgICAgICAgd2ViR0wudW5pZm9ybTJmKHVfVGV4Q29vcmRTaGlmdExvY2F0aW9uLCB0ZXhDb29yZFNoaWZ0WCwgdGV4Q29vcmRTaGlmdFkpO1xuXG4gICAgICAgIC8vIERSQVcgVEhFIFNQUklURSBBUyBBIFRSSUFOR0xFIFNUUklQIFVTSU5HIDQgVkVSVElDRVMsIFNUQVJUSU5HIEFUIFRIRSBTVEFSVCBPRiBUSEUgQVJSQVkgKGluZGV4IDApXG4gICAgICAgIHdlYkdMLmRyYXdBcnJheXMod2ViR0wuVFJJQU5HTEVfU1RSSVAsIFNwcml0ZURlZmF1bHRzLklOREVYX09GX0ZJUlNUX1ZFUlRFWCwgU3ByaXRlRGVmYXVsdHMuTlVNX1ZFUlRJQ0VTKTtcbiAgICB9XG59IiwiZXhwb3J0IGNsYXNzIFdlYkdMR2FtZVRleHR1cmUge1xuICAgIHB1YmxpYyB3ZWJHTFRleHR1cmVJZDogbnVtYmVyO1xuICAgIHB1YmxpYyB3ZWJHTFRleHR1cmU6IFdlYkdMVGV4dHVyZTtcbiAgICBwdWJsaWMgaW1hZ2U6IEhUTUxJbWFnZUVsZW1lbnQ7XG4gICAgcHVibGljIHdpZHRoIDogbnVtYmVyO1xuICAgIHB1YmxpYyBoZWlnaHQgOiBudW1iZXI7XG59IiwiaW1wb3J0IHtXZWJHTEdhbWVTaGFkZXJ9IGZyb20gJy4vV2ViR0xHYW1lU2hhZGVyJ1xuaW1wb3J0IHtNYXRoVXRpbGl0aWVzfSBmcm9tICcuLi9tYXRoL01hdGhVdGlsaXRpZXMnXG5pbXBvcnQgeyBNYXRyaXggfSBmcm9tICcuLi9tYXRoL01hdHJpeCdcbmltcG9ydCB7IFZlY3RvcjMgfSBmcm9tICcuLi9tYXRoL1ZlY3RvcjMnXG5pbXBvcnQge0dyYWRpZW50Q2lyY2xlfSBmcm9tICcuLi9zY2VuZS9jaXJjbGUvR3JhZGllbnRDaXJjbGUnXG5pbXBvcnQge0dyYWRpZW50Q2lyY2xlVHlwZX0gZnJvbSAnLi4vc2NlbmUvY2lyY2xlL0dyYWRpZW50Q2lyY2xlVHlwZSdcbmltcG9ydCB7V2ViR0xHYW1lVGV4dHVyZX0gZnJvbSAnLi9XZWJHTEdhbWVUZXh0dXJlJ1xuaW1wb3J0IHtIYXNoVGFibGV9IGZyb20gJy4uL2RhdGEvSGFzaFRhYmxlJ1xuXG52YXIgU3ByaXRlRGVmYXVsdHMgPSB7XG4gICAgQV9QT1NJVElPTjogXCJhX1Bvc2l0aW9uXCIsXG4gICAgQV9WQUxVRV9UT19JTlRFUlBPTEFURTogXCJhX1ZhbHVlVG9JbnRlcnBvbGF0ZVwiLFxuICAgIEFfVEVYX0NPT1JEOiBcImFfVGV4Q29vcmRcIixcbiAgICBVX1NQUklURV9UUkFOU0ZPUk06IFwidV9TcHJpdGVUcmFuc2Zvcm1cIixcbiAgICBVX1RFWF9DT09SRF9GQUNUT1I6IFwidV9UZXhDb29yZEZhY3RvclwiLFxuICAgIFVfVEVYX0NPT1JEX1NISUZUOiBcInVfVGV4Q29vcmRTaGlmdFwiLFxuICAgIFVfU0FNUExFUjogXCJ1X1NhbXBsZXJcIixcbiAgICBOVU1fVkVSVElDRVM6IDQsXG4gICAgRkxPQVRTX1BFUl9WRVJURVg6IDIsXG4gICAgRkxPQVRTX1BFUl9URVhUVVJFX0NPT1JESU5BVEU6IDIsXG4gICAgVE9UQUxfQllURVM6IDE2LFxuICAgIFZFUlRFWF9QT1NJVElPTl9PRkZTRVQ6IDAsXG4gICAgVEVYVFVSRV9DT09SRElOQVRFX09GRlNFVDogOCxcbiAgICBJTkRFWF9PRl9GSVJTVF9WRVJURVg6IDBcbn07XG5cbmV4cG9ydCBjbGFzcyBXZWJHTEdhbWVZZWxsb3dDaXJjbGVSZW5kZXJlciB7XG4gICAgcHJpdmF0ZSBzaGFkZXIgOiBXZWJHTEdhbWVTaGFkZXI7XG4gICAgcHJpdmF0ZSB2ZXJ0ZXhUZXhDb29yZEJ1ZmZlciA6IFdlYkdMQnVmZmVyO1xuXG4gICAgLy8gV0UnTEwgVVNFIFRIRVNFIEZPUiBUUkFOU09GTVJJTkcgT0JKRUNUUyBXSEVOIFdFIERSQVcgVEhFTVxuICAgIHByaXZhdGUgc3ByaXRlVHJhbnNmb3JtIDogTWF0cml4O1xuICAgIHByaXZhdGUgc3ByaXRlVHJhbnNsYXRlIDogVmVjdG9yMztcbiAgICBwcml2YXRlIHNwcml0ZVJvdGF0ZSA6IFZlY3RvcjM7XG4gICAgcHJpdmF0ZSBzcHJpdGVTY2FsZSA6IFZlY3RvcjM7ICAgIFxuXG4gICAgcHJpdmF0ZSB3ZWJHTEF0dHJpYnV0ZUxvY2F0aW9ucyA6IEhhc2hUYWJsZTxHTHVpbnQ+O1xuICAgIHByaXZhdGUgd2ViR0xVbmlmb3JtTG9jYXRpb25zIDogSGFzaFRhYmxlPFdlYkdMVW5pZm9ybUxvY2F0aW9uPjtcblxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcigpIHt9XG4gICAgXG4gICAgcHVibGljIGluaXQod2ViR0wgOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQpIDogdm9pZCB7XG4gICAgICAgICAgICB0aGlzLnNoYWRlciA9IG5ldyBXZWJHTEdhbWVTaGFkZXIoKTtcbiAgICAgICAgICAgIHZhciB2ZXJ0ZXhTaGFkZXJTb3VyY2UgPVxuICAgICAgICAgICAgJ3ByZWNpc2lvbiBoaWdocCBmbG9hdDtcXG5cXG4nICtcbiAgICAgICAgICAgIC8vJ3VuaWZvcm0gdmVjMiAnICsgQ2lyY2xlRGVmYXVsdHMuVV9URVhfQ09PUkRfRkFDVE9SICsgJztcXG4nICtcbiAgICAgICAgICAgIC8vJ3VuaWZvcm0gdmVjMiAnICsgQ2lyY2xlRGVmYXVsdHMuVV9URVhfQ09PUkRfU0hJRlQgKyAnO1xcbicgK1xuICAgICAgICAgICAgJ2F0dHJpYnV0ZSB2ZWM0ICcgKyBTcHJpdGVEZWZhdWx0cy5BX1BPU0lUSU9OICsgJztcXG4nICtcbiAgICAgICAgICAgICdhdHRyaWJ1dGUgdmVjMiAnICsgU3ByaXRlRGVmYXVsdHMuQV9WQUxVRV9UT19JTlRFUlBPTEFURSArICc7XFxuJyArXG4gICAgICAgICAgICAndmFyeWluZyB2ZWMyIHZhbDtcXG4nICtcbiAgICAgICAgICAgICd1bmlmb3JtIG1hdDQgJyArIFNwcml0ZURlZmF1bHRzLlVfU1BSSVRFX1RSQU5TRk9STSArICc7XFxuJyArXG4gICAgICAgICAgICAndm9pZCBtYWluKCkge1xcbicgK1xuICAgICAgICAgICAgJyAgdmFsID0gJyArIFNwcml0ZURlZmF1bHRzLkFfVkFMVUVfVE9fSU5URVJQT0xBVEUgKyAnO1xcbicgK1xuICAgICAgICAgICAgJyAgZ2xfUG9zaXRpb24gPSAnICsgU3ByaXRlRGVmYXVsdHMuVV9TUFJJVEVfVFJBTlNGT1JNICsgJyAqICcgKyBTcHJpdGVEZWZhdWx0cy5BX1BPU0lUSU9OICsgJztcXG4nICtcbiAgICAgICAgICAgICd9XFxuJztcbiAgICAgICAgICAgIC8vICd1bmlmb3JtIG1hdDQgJyArIFNwcml0ZURlZmF1bHRzLlVfU1BSSVRFX1RSQU5TRk9STSArICc7XFxuJyArXG4gICAgICAgICAgICAvLyAndW5pZm9ybSB2ZWMyICcgKyBTcHJpdGVEZWZhdWx0cy5VX1RFWF9DT09SRF9GQUNUT1IgKyAnO1xcbicgK1xuICAgICAgICAgICAgLy8gJ3VuaWZvcm0gdmVjMiAnICsgU3ByaXRlRGVmYXVsdHMuVV9URVhfQ09PUkRfU0hJRlQgKyAnO1xcbicgK1xuICAgICAgICAgICAgLy8gJ2F0dHJpYnV0ZSB2ZWM0ICcgKyBTcHJpdGVEZWZhdWx0cy5BX1BPU0lUSU9OICsgJztcXG4nICtcbiAgICAgICAgICAgIC8vICdhdHRyaWJ1dGUgdmVjMiAnICsgU3ByaXRlRGVmYXVsdHMuQV9URVhfQ09PUkQgKyAnO1xcbicgK1xuICAgICAgICAgICAgLy8gJ3ZhcnlpbmcgdmVjMiB2X1RleENvb3JkO1xcbicgK1xuICAgICAgICAgICAgLy8gJ3ZvaWQgbWFpbigpIHtcXG4nICtcbiAgICAgICAgICAgIC8vICcgIGdsX1Bvc2l0aW9uID0gJyArIFNwcml0ZURlZmF1bHRzLlVfU1BSSVRFX1RSQU5TRk9STSArICcgKiAnICsgU3ByaXRlRGVmYXVsdHMuQV9QT1NJVElPTiArICc7XFxuJyArXG4gICAgICAgICAgICAvLyAnICB2ZWMyIHRlbXBUZXhDb29yZCA9ICcgKyBTcHJpdGVEZWZhdWx0cy5BX1RFWF9DT09SRCArICcgKiAnICsgU3ByaXRlRGVmYXVsdHMuVV9URVhfQ09PUkRfRkFDVE9SICsgJztcXG4nICtcbiAgICAgICAgICAgIC8vICcgIHZfVGV4Q29vcmQgPSB0ZW1wVGV4Q29vcmQgKyAnICsgU3ByaXRlRGVmYXVsdHMuVV9URVhfQ09PUkRfU0hJRlQgKyAnO1xcbicgK1xuICAgICAgICAgICAgLy8gJ31cXG4nO1xuICAgICAgICB2YXIgZnJhZ21lbnRTaGFkZXJTb3VyY2UgPVxuICAgICAgICAgICAgJ3ByZWNpc2lvbiBoaWdocCBmbG9hdDtcXG4nICtcbiAgICAgICAgICAgICd2YXJ5aW5nIHZlYzIgdmFsO1xcbicgK1xuICAgICAgICAgICAgJ3ZvaWQgbWFpbigpIHtcXG4nICtcbiAgICAgICAgICAgICcgIGZsb2F0IFIgPSAwLjQ7XFxuJyArXG4gICAgICAgICAgICAnICBmbG9hdCBkaXN0ID0gc3FydChkb3QodmFsLHZhbCkpO1xcbicgK1xuICAgICAgICAgICAgJyAgZmxvYXQgYWxwaGEgPSAxLjA7XFxuJyArXG4gICAgICAgICAgICAnICBpZiAoZGlzdCA+IFIpIHtcXG4nICtcbiAgICAgICAgICAgICcgICAgZGlzY2FyZDtcXG4nICtcbiAgICAgICAgICAgICcgIH1cXG4nICtcbiAgICAgICAgICAgICcgIGdsX0ZyYWdDb2xvciA9IHZlYzQoZGlzdCwgZGlzdCwgMCwgYWxwaGEpO1xcbicgKyAvL1RPRE8gbWlnaHQgbmVlZCByYW5kb21seSBnZW5lcmF0ZWQgdmFyaWFibGVzIGhlcmVcbiAgICAgICAgICAgICd9XFxuJztcbiAgICAgICAgICAgIC8vICcjaWZkZWYgR0xfRVNcXG4nICtcbiAgICAgICAgICAgIC8vICdwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDtcXG4nICtcbiAgICAgICAgICAgIC8vICcjZW5kaWZcXG4nICtcbiAgICAgICAgICAgIC8vICd1bmlmb3JtIHNhbXBsZXIyRCAnICsgU3ByaXRlRGVmYXVsdHMuVV9TQU1QTEVSICsgJztcXG4nICtcbiAgICAgICAgICAgIC8vICd2YXJ5aW5nIHZlYzIgdl9UZXhDb29yZDtcXG4nICtcbiAgICAgICAgICAgIC8vICd2b2lkIG1haW4oKSB7XFxuJyArXG4gICAgICAgICAgICAvLyAnICBnbF9GcmFnQ29sb3IgPSB0ZXh0dXJlMkQoJyArIFNwcml0ZURlZmF1bHRzLlVfU0FNUExFUiArICcsIHZfVGV4Q29vcmQpO1xcbicgK1xuICAgICAgICAgICAgLy8gJ31cXG4nO1xuICAgICAgICB0aGlzLnNoYWRlci5pbml0KHdlYkdMLCB2ZXJ0ZXhTaGFkZXJTb3VyY2UsIGZyYWdtZW50U2hhZGVyU291cmNlKTtcblxuICAgICAgICAvLyBHRVQgVEhFIHdlYkdMIE9CSkVDVCBUTyBVU0VcbiAgICAgICAgdmFyIHZlcnRpY2VzVGV4Q29vcmRzID0gbmV3IEZsb2F0MzJBcnJheShbXG4gICAgICAgICAgICAtMC41LCAgMC41LCAwLjAsIDAuMCxcbiAgICAgICAgICAgIC0wLjUsIC0wLjUsIDAuMCwgMS4wLFxuICAgICAgICAgICAgIDAuNSwgIDAuNSwgMS4wLCAwLjAsXG4gICAgICAgICAgICAgMC41LCAtMC41LCAxLjAsIDEuMFxuICAgICAgICBdKTtcblxuICAgICAgICAvLyBDUkVBVEUgVEhFIEJVRkZFUiBPTiBUSEUgR1BVXG4gICAgICAgIHRoaXMudmVydGV4VGV4Q29vcmRCdWZmZXIgPSB3ZWJHTC5jcmVhdGVCdWZmZXIoKTtcblxuICAgICAgICAvLyBCSU5EIFRIRSBCVUZGRVIgVE8gQkUgVkVSVEVYIERBVEFcbiAgICAgICAgd2ViR0wuYmluZEJ1ZmZlcih3ZWJHTC5BUlJBWV9CVUZGRVIsIHRoaXMudmVydGV4VGV4Q29vcmRCdWZmZXIpO1xuXG4gICAgICAgIC8vIEFORCBTRU5EIFRIRSBEQVRBIFRPIFRIRSBCVUZGRVIgV0UgQ1JFQVRFRCBPTiBUSEUgR1BVXG4gICAgICAgIHdlYkdMLmJ1ZmZlckRhdGEod2ViR0wuQVJSQVlfQlVGRkVSLCB2ZXJ0aWNlc1RleENvb3Jkcywgd2ViR0wuU1RBVElDX0RSQVcpO1xuXG4gICAgICAgIC8vIFNFVFVQIFRIRSBTSEFERVIgQVRUUklCVVRFUyBBTkQgVU5JRk9STVNcbiAgICAgICAgdGhpcy53ZWJHTEF0dHJpYnV0ZUxvY2F0aW9ucyA9IHt9O1xuICAgICAgICB0aGlzLndlYkdMVW5pZm9ybUxvY2F0aW9ucyA9IHt9O1xuICAgICAgICB0aGlzLmxvYWRBdHRyaWJ1dGVMb2NhdGlvbnMod2ViR0wsIFtTcHJpdGVEZWZhdWx0cy5BX1BPU0lUSU9OLCBTcHJpdGVEZWZhdWx0cy5BX1RFWF9DT09SRF0pO1xuICAgICAgICB0aGlzLmxvYWRVbmlmb3JtTG9jYXRpb25zKHdlYkdMLCBbU3ByaXRlRGVmYXVsdHMuVV9TUFJJVEVfVFJBTlNGT1JNLCBTcHJpdGVEZWZhdWx0cy5VX1NBTVBMRVIsIFNwcml0ZURlZmF1bHRzLlVfVEVYX0NPT1JEX0ZBQ1RPUiwgU3ByaXRlRGVmYXVsdHMuVV9URVhfQ09PUkRfU0hJRlRdKTtcblxuICAgICAgICAvLyBXRSdMTCBVU0UgVEhFU0UgRk9SIFRSQU5TT0ZNUklORyBPQkpFQ1RTIFdIRU4gV0UgRFJBVyBUSEVNXG4gICAgICAgIHRoaXMuc3ByaXRlVHJhbnNmb3JtID0gbmV3IE1hdHJpeCg0LCA0KTtcbiAgICAgICAgdGhpcy5zcHJpdGVUcmFuc2xhdGUgPSBuZXcgVmVjdG9yMygpO1xuICAgICAgICB0aGlzLnNwcml0ZVJvdGF0ZSA9IG5ldyBWZWN0b3IzKCk7XG4gICAgICAgIHRoaXMuc3ByaXRlU2NhbGUgPSBuZXcgVmVjdG9yMygpO1xuICAgIH1cblxuICAgIHB1YmxpYyByZW5kZXJSZWRDaXJjbGVzKCAgd2ViR0wgOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbnZhc1dpZHRoIDogbnVtYmVyLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW52YXNIZWlnaHQgOiBudW1iZXIsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpc2libGVTZXQgOiBBcnJheTxHcmFkaWVudENpcmNsZT4pIDogdm9pZCB7XG4gICAgICAgIC8vIFNFTEVDVCBUSEUgQU5JTUFURUQgU1BSSVRFIFJFTkRFUklORyBTSEFERVIgUFJPR1JBTSBGT1IgVVNFXG4gICAgICAgIGxldCBzaGFkZXJQcm9ncmFtVG9Vc2UgPSB0aGlzLnNoYWRlci5nZXRQcm9ncmFtKCk7XG4gICAgICAgIHdlYkdMLnVzZVByb2dyYW0oc2hhZGVyUHJvZ3JhbVRvVXNlKTtcblxuICAgICAgIC8vIEFORCBUSEVOIFJFTkRFUiBFQUNIIE9ORVxuICAgICAgIGZvciAobGV0IHNwcml0ZSBvZiB2aXNpYmxlU2V0KSB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlckFuaW1hdGVkU3ByaXRlKHdlYkdMLCBjYW52YXNXaWR0aCwgY2FudmFzSGVpZ2h0LCBzcHJpdGUpOyAgICAgICAgXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGxvYWRBdHRyaWJ1dGVMb2NhdGlvbnMod2ViR0wgOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsIGF0dHJpYnV0ZUxvY2F0aW9uTmFtZXMgOiBBcnJheTxzdHJpbmc+KSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXR0cmlidXRlTG9jYXRpb25OYW1lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IGxvY2F0aW9uTmFtZSA6IHN0cmluZyA9IGF0dHJpYnV0ZUxvY2F0aW9uTmFtZXNbaV07XG4gICAgICAgICAgICBsZXQgbG9jYXRpb24gOiBHTHVpbnQgPSB3ZWJHTC5nZXRBdHRyaWJMb2NhdGlvbih0aGlzLnNoYWRlci5nZXRQcm9ncmFtKCksIGxvY2F0aW9uTmFtZSk7XG4gICAgICAgICAgICB0aGlzLndlYkdMQXR0cmlidXRlTG9jYXRpb25zW2xvY2F0aW9uTmFtZV0gPSBsb2NhdGlvbjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgbG9hZFVuaWZvcm1Mb2NhdGlvbnMod2ViR0wgOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsIHVuaWZvcm1Mb2NhdGlvbk5hbWVzIDogQXJyYXk8c3RyaW5nPikge1xuICAgICAgICBmb3IgKGxldCBpIDogbnVtYmVyID0gMDsgaSA8IHVuaWZvcm1Mb2NhdGlvbk5hbWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgbG9jYXRpb25OYW1lIDogc3RyaW5nID0gdW5pZm9ybUxvY2F0aW9uTmFtZXNbaV07XG4gICAgICAgICAgICBsZXQgbG9jYXRpb24gOiBXZWJHTFVuaWZvcm1Mb2NhdGlvbiA9IHdlYkdMLmdldFVuaWZvcm1Mb2NhdGlvbih0aGlzLnNoYWRlci5nZXRQcm9ncmFtKCksIGxvY2F0aW9uTmFtZSk7XG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKGxvY2F0aW9uLilcbiAgICAgICAgICAgIHRoaXMud2ViR0xVbmlmb3JtTG9jYXRpb25zW2xvY2F0aW9uTmFtZV0gPSBsb2NhdGlvbjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgcmVuZGVyQW5pbWF0ZWRTcHJpdGUoICAgd2ViR0wgOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbnZhc1dpZHRoIDogbnVtYmVyLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW52YXNIZWlnaHQgOiBudW1iZXIsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNpcmNsZSA6IEdyYWRpZW50Q2lyY2xlKSB7XG4gICAgICAgLy8gbGV0IHNwcml0ZVR5cGUgOiBHcmFkaWVudENpcmNsZSA9IGNpcmNsZS5nZXRDaXJjbGVUeXBlKCk7XG4gICAgICAgIC8vbGV0IHRleHR1cmUgOiBXZWJHTEdhbWVUZXh0dXJlID0gc3ByaXRlVHlwZS5nZXRTcHJpdGVTaGVldFRleHR1cmUoKTtcblxuICAgICAgICAvLyBDQUxDVUxBVEUgSE9XIE1VQ0ggVE8gVFJBTlNMQVRFIFRIRSBRVUFEIFBFUiBUSEUgU1BSSVRFIFBPU0lUSU9OXG4gICAgICAgIGxldCBzcHJpdGVXaWR0aCA6IG51bWJlciA9IDEwMDtcbiAgICAgICAgbGV0IHNwcml0ZUhlaWdodCA6IG51bWJlciA9IDEwMDtcbiAgICAgICAgbGV0IHNwcml0ZVhJblBpeGVscyA6IG51bWJlciA9IGNpcmNsZS5nZXRQb3NpdGlvbigpLmdldFgoKSArIChzcHJpdGVXaWR0aC8yKTtcbiAgICAgICAgbGV0IHNwcml0ZVlJblBpeGVscyA6IG51bWJlciA9IGNpcmNsZS5nZXRQb3NpdGlvbigpLmdldFkoKSArIChzcHJpdGVIZWlnaHQvMik7XG4gICAgICAgIGxldCBzcHJpdGVYVHJhbnNsYXRlIDogbnVtYmVyID0gKHNwcml0ZVhJblBpeGVscyAtIChjYW52YXNXaWR0aC8yKSkvKGNhbnZhc1dpZHRoLzIpO1xuICAgICAgICBsZXQgc3ByaXRlWVRyYW5zbGF0ZSA6IG51bWJlciA9IChzcHJpdGVZSW5QaXhlbHMgLSAoY2FudmFzSGVpZ2h0LzIpKS8oY2FudmFzSGVpZ2h0LzIpO1xuICAgICAgICB0aGlzLnNwcml0ZVRyYW5zbGF0ZS5zZXRYKHNwcml0ZVhUcmFuc2xhdGUpO1xuICAgICAgICB0aGlzLnNwcml0ZVRyYW5zbGF0ZS5zZXRZKC1zcHJpdGVZVHJhbnNsYXRlKTtcblxuICAgICAgICAvLyBDQUxDVUxBVEUgSE9XIE1VQ0ggVE8gU0NBTEUgVEhFIFFVQUQgUEVSIFRIRSBTUFJJVEUgU0laRVxuICAgICAgICBsZXQgZGVmYXVsdFdpZHRoIDogbnVtYmVyID0gY2FudmFzV2lkdGgvMjtcbiAgICAgICAgbGV0IGRlZmF1bHRIZWlnaHQgOiBudW1iZXIgPSBjYW52YXNIZWlnaHQvMjtcbiAgICAgICAgbGV0IHNjYWxlWCA6IG51bWJlciA9IDI1MC9kZWZhdWx0V2lkdGg7XG4gICAgICAgIGxldCBzY2FsZVkgOiBudW1iZXIgPSAyNTAvZGVmYXVsdEhlaWdodDtcbiAgICAgICAgdGhpcy5zcHJpdGVTY2FsZS5zZXRYKHNjYWxlWCk7XG4gICAgICAgIHRoaXMuc3ByaXRlU2NhbGUuc2V0WShzY2FsZVkpO1xuXG4gICAgICAgIC8vIEB0b2RvIC0gQ09NQklORSBUSElTIFdJVEggVEhFIFJPVEFURSBBTkQgU0NBTEUgVkFMVUVTIEZST00gVEhFIFNQUklURVxuICAgICAgICBNYXRoVXRpbGl0aWVzLmlkZW50aXR5KHRoaXMuc3ByaXRlVHJhbnNmb3JtKTtcbiAgICAgICAgTWF0aFV0aWxpdGllcy5tb2RlbCh0aGlzLnNwcml0ZVRyYW5zZm9ybSwgdGhpcy5zcHJpdGVUcmFuc2xhdGUsIHRoaXMuc3ByaXRlUm90YXRlLCB0aGlzLnNwcml0ZVNjYWxlKTtcbiAgICAgICAgXG4gICAgICAgIC8vIEZJR1VSRSBPVVQgVEhFIFRFWFRVUkUgQ09PUkRJTkFURSBGQUNUT1IgQU5EIFNISUZUXG4gICAgICAgIC8vIGxldCB0ZXhDb29yZEZhY3RvclggOiBudW1iZXIgPSBzcHJpdGVXaWR0aC90ZXh0dXJlLndpZHRoO1xuICAgICAgICAvLyBsZXQgdGV4Q29vcmRGYWN0b3JZIDogbnVtYmVyID0gc3ByaXRlSGVpZ2h0L3RleHR1cmUuaGVpZ2h0O1xuICAgICAgICAvLyBsZXQgc3ByaXRlTGVmdCA6IG51bWJlciA9IHNwcml0ZS5nZXRMZWZ0KCk7XG4gICAgICAgIC8vIGxldCBzcHJpdGVUb3AgOiBudW1iZXIgPSBzcHJpdGUuZ2V0VG9wKCk7XG4gICAgICAgIC8vIGxldCB0ZXhDb29yZFNoaWZ0WCA6IG51bWJlciA9IHNwcml0ZUxlZnQvdGV4dHVyZS53aWR0aDtcbiAgICAgICAgLy8gbGV0IHRleENvb3JkU2hpZnRZIDogbnVtYmVyID0gc3ByaXRlVG9wL3RleHR1cmUuaGVpZ2h0OyAgIFxuXG4gICAgICAgIC8vIFVTRSBUSEUgQVRUUklCVVRFU1xuICAgLy8gd2ViR0wuYmluZEJ1ZmZlcih3ZWJHTC5BUlJBWV9CVUZGRVIsIHRoaXMudmVydGV4VGV4Q29vcmRCdWZmZXIpO1xuICAgICAgIC8vIHdlYkdMLmJpbmRUZXh0dXJlKHdlYkdMLlRFWFRVUkVfMkQsIHRleHR1cmUud2ViR0xUZXh0dXJlKTtcblxuICAgICAgICAvLyBIT09LIFVQIFRIRSBBVFRSSUJVVEVTXG4gICAgICAgIGxldCBhX1Bvc2l0aW9uTG9jYXRpb24gOiBHTHVpbnQgPSB0aGlzLndlYkdMQXR0cmlidXRlTG9jYXRpb25zW1Nwcml0ZURlZmF1bHRzLkFfUE9TSVRJT05dO1xuICAgICAgICB3ZWJHTC52ZXJ0ZXhBdHRyaWJQb2ludGVyKGFfUG9zaXRpb25Mb2NhdGlvbiwgU3ByaXRlRGVmYXVsdHMuRkxPQVRTX1BFUl9URVhUVVJFX0NPT1JESU5BVEUsIHdlYkdMLkZMT0FULCBmYWxzZSwgU3ByaXRlRGVmYXVsdHMuVE9UQUxfQllURVMsIFNwcml0ZURlZmF1bHRzLlZFUlRFWF9QT1NJVElPTl9PRkZTRVQpO1xuICAgICAgICB3ZWJHTC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShhX1Bvc2l0aW9uTG9jYXRpb24pO1xuICAgICAgLy8gIGxldCBhX1RleENvb3JkTG9jYXRpb24gOiBHTHVpbnQgPSB0aGlzLndlYkdMQXR0cmlidXRlTG9jYXRpb25zW1Nwcml0ZURlZmF1bHRzLkFfVEVYX0NPT1JEXTtcbiAgICAgICAvLyB3ZWJHTC52ZXJ0ZXhBdHRyaWJQb2ludGVyKGFfVGV4Q29vcmRMb2NhdGlvbiwgU3ByaXRlRGVmYXVsdHMuRkxPQVRTX1BFUl9URVhUVVJFX0NPT1JESU5BVEUsIHdlYkdMLkZMT0FULCBmYWxzZSwgU3ByaXRlRGVmYXVsdHMuVE9UQUxfQllURVMsIFNwcml0ZURlZmF1bHRzLlRFWFRVUkVfQ09PUkRJTkFURV9PRkZTRVQpO1xuICAgICAgIC8vIHdlYkdMLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KGFfVGV4Q29vcmRMb2NhdGlvbik7XG5cbiAgICAgICAgLy8gVVNFIFRIRSBVTklGT1JNU1xuICAgICAgICBsZXQgdV9TcHJpdGVUcmFuc2Zvcm1Mb2NhdGlvbiA6IFdlYkdMVW5pZm9ybUxvY2F0aW9uID0gdGhpcy53ZWJHTFVuaWZvcm1Mb2NhdGlvbnNbU3ByaXRlRGVmYXVsdHMuVV9TUFJJVEVfVFJBTlNGT1JNXTtcbiAgICAgICAgd2ViR0wudW5pZm9ybU1hdHJpeDRmdih1X1Nwcml0ZVRyYW5zZm9ybUxvY2F0aW9uLCBmYWxzZSwgdGhpcy5zcHJpdGVUcmFuc2Zvcm0uZ2V0RGF0YSgpKTtcbiAgICAgIC8vICBsZXQgdV9TYW1wbGVyTG9jYXRpb24gOiBXZWJHTFVuaWZvcm1Mb2NhdGlvbiA9IHRoaXMud2ViR0xVbmlmb3JtTG9jYXRpb25zW1Nwcml0ZURlZmF1bHRzLlVfU0FNUExFUl07XG4gICAgICAgIC8vd2ViR0wudW5pZm9ybTFpKHVfU2FtcGxlckxvY2F0aW9uLCB0ZXh0dXJlLndlYkdMVGV4dHVyZUlkKTtcbiAgICAvLyAgICAgbGV0IHVfVGV4Q29vcmRGYWN0b3JMb2NhdGlvbiA6IFdlYkdMVW5pZm9ybUxvY2F0aW9uID0gdGhpcy53ZWJHTFVuaWZvcm1Mb2NhdGlvbnNbU3ByaXRlRGVmYXVsdHMuVV9URVhfQ09PUkRfRkFDVE9SXTtcbiAgICAvLyAgICAvLyB3ZWJHTC51bmlmb3JtMmYodV9UZXhDb29yZEZhY3RvckxvY2F0aW9uLCB0ZXhDb29yZEZhY3RvclgsIHRleENvb3JkRmFjdG9yWSk7XG4gICAgLy8gICAgIGxldCB1X1RleENvb3JkU2hpZnRMb2NhdGlvbiA6IFdlYkdMVW5pZm9ybUxvY2F0aW9uID0gdGhpcy53ZWJHTFVuaWZvcm1Mb2NhdGlvbnNbU3ByaXRlRGVmYXVsdHMuVV9URVhfQ09PUkRfU0hJRlRdO1xuICAgIC8vICAgICB3ZWJHTC51bmlmb3JtMmYodV9UZXhDb29yZFNoaWZ0TG9jYXRpb24sIHRleENvb3JkU2hpZnRYLCB0ZXhDb29yZFNoaWZ0WSk7XG5cbiAgICAgICAgLy8gRFJBVyBUSEUgU1BSSVRFIEFTIEEgVFJJQU5HTEUgU1RSSVAgVVNJTkcgNCBWRVJUSUNFUywgU1RBUlRJTkcgQVQgVEhFIFNUQVJUIE9GIFRIRSBBUlJBWSAoaW5kZXggMClcbiAgICAgICAgd2ViR0wuZHJhd0FycmF5cyh3ZWJHTC5UUklBTkdMRV9TVFJJUCwgU3ByaXRlRGVmYXVsdHMuSU5ERVhfT0ZfRklSU1RfVkVSVEVYLCBTcHJpdGVEZWZhdWx0cy5OVU1fVkVSVElDRVMpO1xuICAgIH1cbn0iLCJpbXBvcnQge1NjZW5lT2JqZWN0fSBmcm9tICcuL1NjZW5lT2JqZWN0J1xuaW1wb3J0IHtBbmltYXRlZFNwcml0ZX0gZnJvbSAnLi9zcHJpdGUvQW5pbWF0ZWRTcHJpdGUnXG5pbXBvcnQge0dyYWRpZW50Q2lyY2xlfSBmcm9tICcuL2NpcmNsZS9HcmFkaWVudENpcmNsZSdcbmltcG9ydCB7IEdyYWRpZW50Q2lyY2xlVHlwZSB9IGZyb20gJy4vY2lyY2xlL0dyYWRpZW50Q2lyY2xlVHlwZSc7XG5cbmV4cG9ydCBjbGFzcyBTY2VuZUdyYXBoIHtcbiAgICBzdGF0aWMgbGFzdEluZGV4IDogbnVtYmVyID0gMDtcblxuICAgIC8vIEFORCBBTEwgT0YgVEhFIEFOSU1BVEVEIFNQUklURVMsIFdISUNIIEFSRSBOT1QgU1RPUkVEXG4gICAgLy8gU09SVEVEIE9SIElOIEFOWSBQQVJUSUNVTEFSIE9SREVSLiBOT1RFIFRIQVQgQU5JTUFURUQgU1BSSVRFU1xuICAgIC8vIEFSRSBTQ0VORSBPQkpFQ1RTXG4gICAgcHJpdmF0ZSBhbmltYXRlZFNwcml0ZXMgOiBBcnJheTxBbmltYXRlZFNwcml0ZT47XG5cbiAgICAvLyBBTkQgQUxMIE9GIFRIRSBBTklNQVRFRCBTUFJJVEVTLCBXSElDSCBBUkUgTk9UIFNUT1JFRFxuICAgIC8vIFNPUlRFRCBPUiBJTiBBTlkgUEFSVElDVUxBUiBPUkRFUi4gTk9URSBUSEFUIEFOSU1BVEVEIFNQUklURVNcbiAgICAvLyBBUkUgU0NFTkUgT0JKRUNUU1xuICAgIHByaXZhdGUgZ3JhZGllbnRDaXJjbGVzIDogQXJyYXk8R3JhZGllbnRDaXJjbGU+O1xuICAgIHByaXZhdGUgcmVkQ2lyY2xlcyA6IEFycmF5PEdyYWRpZW50Q2lyY2xlPjtcblxuICAgIC8vIFNFVCBPRiBWSVNJQkxFIE9CSkVDVFMsIE5PVEUgVEhBVCBBVCBUSEUgTU9NRU5UIE9VUlxuICAgIC8vIFNDRU5FIEdSQVBIIElTIFFVSVRFIFNJTVBMRSwgU08gVEhJUyBJUyBUSEUgU0FNRSBBU1xuICAgIC8vIE9VUiBMSVNUIE9GIEFOSU1BVEVEIFNQUklURVNcbiAgICBwcml2YXRlIHZpc2libGVTZXQgOiBBcnJheTxTY2VuZU9iamVjdD47XG5cbiAgICBwdWJsaWMgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIC8vIERFRkFVTFQgQ09OU1RSVUNUT1IgSU5JVElBTElaRVMgT1VSIERBVEEgU1RSVUNUVVJFU1xuICAgICAgICB0aGlzLmFuaW1hdGVkU3ByaXRlcyA9IG5ldyBBcnJheSgpO1xuICAgICAgICB0aGlzLmdyYWRpZW50Q2lyY2xlcyA9IG5ldyBBcnJheSgpO1xuICAgICAgICB0aGlzLnJlZENpcmNsZXMgPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgdGhpcy52aXNpYmxlU2V0ID0gbmV3IEFycmF5KCk7XG4gICAgfVxuXG4gICAgcHVibGljIGdldE51bVNwcml0ZXMoKSA6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLmFuaW1hdGVkU3ByaXRlcy5sZW5ndGg7XG4gICAgfVxuXG4gICAgcHVibGljIGFkZEFuaW1hdGVkU3ByaXRlKHNwcml0ZSA6IEFuaW1hdGVkU3ByaXRlKSA6IHZvaWQge1xuICAgICAgICB0aGlzLmFuaW1hdGVkU3ByaXRlcy5wdXNoKHNwcml0ZSk7XG4gICAgfVxuXG4gICAgcHVibGljIGFkZEdyYWRpZW50Q2lybGNlKHNwcml0ZSA6IEdyYWRpZW50Q2lyY2xlKSA6IHZvaWQge1xuICAgICAgICB0aGlzLmdyYWRpZW50Q2lyY2xlcy5wdXNoKHNwcml0ZSk7XG4gICAgfVxuXG4gICAgcHVibGljIGFkZFJlZENpcmxjZShzcHJpdGUgOiBHcmFkaWVudENpcmNsZSkgOiB2b2lkIHtcbiAgICAgICAgdGhpcy5yZWRDaXJjbGVzLnB1c2goc3ByaXRlKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgcmVtb3ZlQW5pbWF0ZWRTcHJpdGUoc3ByaXRlIDogQW5pbWF0ZWRTcHJpdGUpIDogdm9pZCB7XG4gICAgICAgIHZhciBzcHJpdGVJbmRleCA9IHRoaXMuYW5pbWF0ZWRTcHJpdGVzLmluZGV4T2Yoc3ByaXRlLCAwKTtcbiAgICAgICAgaWYoc3ByaXRlSW5kZXggPiAtMSkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJJdCdzIGJlaW5nIHJlbW92ZWRcIik7XG4gICAgICAgICAgICB0aGlzLmFuaW1hdGVkU3ByaXRlcy5zcGxpY2Uoc3ByaXRlSW5kZXgsIDEpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIHJlbW92ZUdyYWRpZW50Q2lyY2xlKHNwcml0ZSA6IEdyYWRpZW50Q2lyY2xlKSA6IHZvaWQge1xuICAgICAgICB2YXIgc3ByaXRlSW5kZXggPSB0aGlzLmdyYWRpZW50Q2lyY2xlcy5pbmRleE9mKHNwcml0ZSwgMCk7XG4gICAgICAgIGlmKHNwcml0ZUluZGV4ID4gLTEpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiSXQncyBiZWluZyByZW1vdmVkXCIpO1xuICAgICAgICAgICAgdGhpcy5ncmFkaWVudENpcmNsZXMuc3BsaWNlKHNwcml0ZUluZGV4LCAxKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBnZXRTcHJpdGVBdCh0ZXN0WCA6IG51bWJlciwgdGVzdFkgOiBudW1iZXIpIDogQW5pbWF0ZWRTcHJpdGUge1xuICAgICAgICBmb3IgKGxldCBzcHJpdGUgb2YgdGhpcy5hbmltYXRlZFNwcml0ZXMpIHtcbiAgICAgICAgICAgIGlmIChzcHJpdGUuY29udGFpbnModGVzdFgsIHRlc3RZKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gc3ByaXRlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRDaXJjbGVBdCh0ZXN0WCA6IG51bWJlciwgdGVzdFkgOiBudW1iZXIpIDogR3JhZGllbnRDaXJjbGUge1xuICAgICAgICBmb3IgKGxldCBjaXJjbGUgb2YgdGhpcy5ncmFkaWVudENpcmNsZXMpIHtcbiAgICAgICAgICAgIGlmIChjaXJjbGUuY29udGFpbnModGVzdFgsIHRlc3RZKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gY2lyY2xlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIHVwZGF0ZVxuICAgICAqIFxuICAgICAqIENhbGxlZCBvbmNlIHBlciBmcmFtZSwgdGhpcyBmdW5jdGlvbiB1cGRhdGVzIHRoZSBzdGF0ZSBvZiBhbGwgdGhlIG9iamVjdHNcbiAgICAgKiBpbiB0aGUgc2NlbmUuXG4gICAgICogXG4gICAgICogQHBhcmFtIGRlbHRhIFRoZSB0aW1lIHRoYXQgaGFzIHBhc3NlZCBzaW5jZSB0aGUgbGFzdCB0aW1lIHRoaXMgdXBkYXRlXG4gICAgICogZnVuY2F0aW9uIHdhcyBjYWxsZWQuXG4gICAgICovXG4gICAgcHVibGljIHVwZGF0ZShkZWx0YSA6IG51bWJlcikgOiB2b2lkIHtcbiAgICAgICAgZm9yIChsZXQgc3ByaXRlIG9mIHRoaXMuYW5pbWF0ZWRTcHJpdGVzKSB7XG4gICAgICAgICAgICBzcHJpdGUudXBkYXRlKGRlbHRhKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBzY29wZSgpIDogQXJyYXk8U2NlbmVPYmplY3Q+IHtcbiAgICAgICAgLy8gQ0xFQVIgT1VUIFRIRSBPTERcbiAgICAgICAgdGhpcy52aXNpYmxlU2V0ID0gW107XG5cbiAgICAgICAgLy8gUFVUIEFMTCBUSEUgU0NFTkUgT0JKRUNUUyBJTlRPIFRIRSBWSVNJQkxFIFNFVFxuICAgICAgICBmb3IgKGxldCBzcHJpdGUgb2YgdGhpcy5hbmltYXRlZFNwcml0ZXMpIHtcbiAgICAgICAgICAgIHRoaXMudmlzaWJsZVNldC5wdXNoKHNwcml0ZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy52aXNpYmxlU2V0O1xuICAgIH1cblxuICAgIHB1YmxpYyBzY29wZTIoKSA6IEFycmF5PFNjZW5lT2JqZWN0PiB7XG4gICAgICAgIC8vIENMRUFSIE9VVCBUSEUgT0xEXG4gICAgICAgIHRoaXMudmlzaWJsZVNldCA9IFtdO1xuXG4gICAgICAgIC8vIFBVVCBBTEwgVEhFIFNDRU5FIE9CSkVDVFMgSU5UTyBUSEUgVklTSUJMRSBTRVRcbiAgICAgICAgZm9yIChsZXQgY2lyY2xlIG9mIHRoaXMuZ3JhZGllbnRDaXJjbGVzKSB7XG4gICAgICAgICAgICB0aGlzLnZpc2libGVTZXQucHVzaChjaXJjbGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMudmlzaWJsZVNldDtcbiAgICB9XG59IiwiaW1wb3J0IHtWZWN0b3IzfSBmcm9tICcuLi9tYXRoL1ZlY3RvcjMnXG5cbi8qKlxuICogU2NlbmVPYmplY3RcbiAqIFxuICogQSBTY2VuZU9iamVjdCBpcyBzb21ldGhpbmcgdGhhdCBjYW4gYmUgcGxhY2VkIGludG8gdGhlIHNjZW5lIGdyYXBoLiBJdCBoYXNcbiAqIGEgcG9zaXRpb24sIHJvdGF0aW9uLCBhbmQgc2NhbGUgaW4gdGhlIGdhbWUgd29ybGQuIE5vdGUgdGhhdCBpdHMgcG9zaXRpb25cbiAqIGlzIHR5cGljYWxseSBpdHMgY2VudGVyZWQgbG9jYXRpb24sIHNvIGlmIHdlJ3JlIHRhbGtpbmcgYWJvdXQgYSAyZCBib3gsIFxuICogaXQgd291bGQgYmUgdGhlIGNlbnRlciBvZiB0aGF0IGJveC5cbiAqL1xuZXhwb3J0IGFic3RyYWN0IGNsYXNzIFNjZW5lT2JqZWN0IHtcbiAgICBwcml2YXRlIHBvc2l0aW9uIDogVmVjdG9yMztcbiAgICBwcml2YXRlIHJvdGF0aW9uIDogVmVjdG9yMztcbiAgICBwcml2YXRlIHNjYWxlIDogVmVjdG9yMztcblxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5wb3NpdGlvbiA9IG5ldyBWZWN0b3IzKCk7XG4gICAgICAgIHRoaXMucm90YXRpb24gPSBuZXcgVmVjdG9yMygpO1xuICAgICAgICB0aGlzLnNjYWxlID0gbmV3IFZlY3RvcjMoKTtcblxuICAgICAgICAvLyBDTEVBUiBBTEwgVkFMVUVTXG4gICAgICAgIHRoaXMucG9zaXRpb24uc2V0KDAuMCwgMC4wLCAwLjAsIDEuMCk7XG4gICAgICAgIHRoaXMucm90YXRpb24uc2V0KDAuMCwgMC4wLCAwLjAsIDEuMCk7XG4gICAgICAgIHRoaXMuc2NhbGUuc2V0KDEuMCwgMS4wLCAxLjAsIDEuMCk7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFBvc2l0aW9uKCkgOiBWZWN0b3IzIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucG9zaXRpb247XG4gICAgfSAgICBcblxuICAgIHB1YmxpYyBnZXRSb3RhdGlvbigpIDogVmVjdG9yMyB7XG4gICAgICAgIHJldHVybiB0aGlzLnJvdGF0aW9uO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRTY2FsZSgpIDogVmVjdG9yMyB7XG4gICAgICAgIHJldHVybiB0aGlzLnNjYWxlO1xuICAgIH1cblxuICAgIHB1YmxpYyBhYnN0cmFjdCBjb250YWlucyh0ZXN0WCA6IG51bWJlciwgdGVzdFkgOiBudW1iZXIpIDogYm9vbGVhbjtcbn0iLCJpbXBvcnQge1NjZW5lT2JqZWN0fSBmcm9tICcuLi9TY2VuZU9iamVjdCdcbmltcG9ydCB7R3JhZGllbnRDaXJjbGVUeXBlfSBmcm9tICcuL0dyYWRpZW50Q2lyY2xlVHlwZSdcblxuZXhwb3J0IGNsYXNzIEdyYWRpZW50Q2lyY2xlIGV4dGVuZHMgU2NlbmVPYmplY3Qge1xuICAgIHByaXZhdGUgY2lyY2xlVHlwZSA6IEdyYWRpZW50Q2lyY2xlVHlwZTtcbiAgICBwcml2YXRlIHN0YXRlIDogc3RyaW5nO1xuICAgIHByaXZhdGUgaW5kZXhOdW0gOiBudW1iZXI7XG5cbiAgICBwdWJsaWMgY29uc3RydWN0b3IoaW5pdENpcmNsZVR5cGUgOiBHcmFkaWVudENpcmNsZVR5cGUsIGluaXRTdGF0ZSA6IHN0cmluZywgaW5pdEluZGV4TnVtIDogbnVtYmVyKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIFxuICAgICAgICB0aGlzLmNpcmNsZVR5cGUgPSBpbml0Q2lyY2xlVHlwZTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IGluaXRTdGF0ZTtcbiAgICAgICAgdGhpcy5pbmRleE51bSA9IGluaXRJbmRleE51bTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0SW5kZXhOdW0oKXtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW5kZXhOdW07XG4gICAgfVxuXG5cbiAgICBwdWJsaWMgZ2V0Q2lyY2xlVHlwZSgpIDogR3JhZGllbnRDaXJjbGVUeXBlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2lyY2xlVHlwZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0U3RhdGUoKSA6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0YXRlO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXRTdGF0ZShpbml0U3RhdGUgOiBzdHJpbmcpIDogdm9pZCB7XG4gICAgICAgIHRoaXMuc3RhdGUgPSBpbml0U3RhdGU7XG4gICAgfVxuICAgIFxuICAgIHB1YmxpYyBjb250YWlucyhwb2ludFggOiBudW1iZXIsIHBvaW50WSA6IG51bWJlcikgOiBib29sZWFuIHtcbiAgICAgICAgbGV0IGNpcmNsZVdpZHRoID0gdGhpcy5nZXRDaXJjbGVUeXBlKCkuZ2V0Q2lyY2xlV2lkdGgoKTtcbiAgICAgICAgbGV0IGNpcmNsZUhlaWdodCA9IHRoaXMuZ2V0Q2lyY2xlVHlwZSgpLmdldENpcmNsZUhlaWdodCgpO1xuICAgICAgICBsZXQgY2lyY2xlTGVmdCA9IHRoaXMuZ2V0UG9zaXRpb24oKS5nZXRYKCk7XG4gICAgICAgIGxldCBjaXJjbGVSaWdodCA9IHRoaXMuZ2V0UG9zaXRpb24oKS5nZXRYKCkgKyBjaXJjbGVXaWR0aDtcbiAgICAgICAgbGV0IGNpcmNsZVRvcCA9IHRoaXMuZ2V0UG9zaXRpb24oKS5nZXRZKCk7XG4gICAgICAgIGxldCBjaXJjbGVCb3R0b20gPSB0aGlzLmdldFBvc2l0aW9uKCkuZ2V0WSgpICsgY2lyY2xlSGVpZ2h0O1xuICAgICAgICBpZiAoICAgIChwb2ludFggPCBjaXJjbGVMZWZ0KVxuICAgICAgICAgICAgfHwgIChjaXJjbGVSaWdodCA8IHBvaW50WClcbiAgICAgICAgICAgIHx8ICAocG9pbnRZIDwgY2lyY2xlVG9wKVxuICAgICAgICAgICAgfHwgIChjaXJjbGVCb3R0b20gPCBwb2ludFkpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipSRU5BTUUgVEhJUyBNRVRIT0QgU08gSVQgREVOT1RFUyBQSVhFTCBMT0NBVElPTiBJTiBURVhUVVJFICovXG4gICAgLy8gcHVibGljIGdldExlZnQoKSA6IG51bWJlciB7XG4gICAgLy8gICAgIHJldHVybiB0aGlzLmNpcmNsZVR5cGUuZ2V0TGVmdCh0aGlzLnN0YXRlLCB0aGlzLmNpcmNsZUNvbG9ySW5kZXgpO1xuICAgIC8vIH1cbiAgICBcbiAgICAvLyBwdWJsaWMgZ2V0VG9wKCkgOiBudW1iZXIge1xuICAgIC8vICAgICByZXR1cm4gdGhpcy5jaXJjbGVUeXBlLmdldFRvcCh0aGlzLnN0YXRlLCB0aGlzLmNpcmNsZUNvbG9ySW5kZXgpO1xuICAgIC8vIH1cblxuICAgIC8vIHB1YmxpYyB0b1N0cmluZygpIDogc3RyaW5nIHtcbiAgICAvLyAgICAgbGV0IHN1bW1hcnkgOiBzdHJpbmcgPSAgXCJ7IHBvc2l0aW9uOiAoXCJcbiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICArICAgdGhpcy5nZXRQb3NpdGlvbigpLmdldFgoKSArIFwiLCBcIiArIHRoaXMuZ2V0UG9zaXRpb24oKS5nZXRZKCkgKyBcIikgXCJcbiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICArICAgXCIoc3RhdGU6IFwiICsgdGhpcy5nZXRTdGF0ZSgpICsgXCIpIFwiXG4gICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgKyAgIFwiKGFuaW1hdGlvbkZyYW1lSW5kZXg6IFwiICsgdGhpcy5nZXRBbmltYXRpb25GcmFtZUluZGV4KCkgKyBcIikgXCJcbiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICArICAgXCIoZnJhbWVDb3VudGVyOiBcIiArIHRoaXMuZ2V0RnJhbWVDb3VudGVyKCkgKyBcIikgXCI7XG4gICAgLy8gICAgIHJldHVybiBzdW1tYXJ5O1xuICAgIC8vIH1cbn0iLCJpbXBvcnQge1dlYkdMR2FtZVRleHR1cmV9IGZyb20gJy4uLy4uL3JlbmRlcmluZy9XZWJHTEdhbWVUZXh0dXJlJ1xuaW1wb3J0IHtIYXNoVGFibGV9IGZyb20gJy4uLy4uL2RhdGEvSGFzaFRhYmxlJ1xuXG5leHBvcnQgY2xhc3MgR3JhZGllbnRDaXJjbGVGcmFtZSB7XG4gICAgcHVibGljIGxlZnQgOiBudW1iZXI7XG4gICAgcHVibGljIHRvcCA6IG51bWJlcjtcbiAgICBwdWJsaWMgZHVyYXRpb24gOiBudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3Rvcihpbml0TGVmdCA6IG51bWJlciwgaW5pdFRvcCA6IG51bWJlciwgaW5pdER1cmF0aW9uIDogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMubGVmdCA9IGluaXRMZWZ0O1xuICAgICAgICB0aGlzLnRvcCA9IGluaXRUb3A7XG4gICAgICAgIHRoaXMuZHVyYXRpb24gPSBpbml0RHVyYXRpb247XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgR3JhZGllbnRDaXJjbGVUeXBlIHtcbiAgICAvL3ByaXZhdGUgY2lyY2xlU2hlZXRUZXh0dXJlIDogV2ViR0xHYW1lVGV4dHVyZTtcbiAgICBwcml2YXRlIGFuaW1hdGlvbnMgOiBIYXNoVGFibGU8QXJyYXk8R3JhZGllbnRDaXJjbGVGcmFtZT4+O1xuICAgIHByaXZhdGUgY2lyY2xlV2lkdGggOiBudW1iZXI7XG4gICAgcHJpdmF0ZSBjaXJjbGVIZWlnaHQgOiBudW1iZXI7XG5cbiAgICBwdWJsaWMgY29uc3RydWN0b3IoIFxuICAgICAgICAgICAgICAgIGluaXRDaXJjbGVXaWR0aCA6IG51bWJlciwgaW5pdENpcmNsZUhlaWdodCA6IG51bWJlcikge1xuICAgICAgIC8vIHRoaXMuY2lyY2xlU2hlZXRUZXh0dXJlID0gaW5pdENpcmNsZVNoZWV0VGV4dHVyZTtcbiAgICAgICAgdGhpcy5hbmltYXRpb25zID0ge307XG4gICAgICAgIHRoaXMuY2lyY2xlV2lkdGggPSAyMDA7XG4gICAgICAgIHRoaXMuY2lyY2xlSGVpZ2h0ID0gMjAwO1xuICAgIH1cblxuICAgIHB1YmxpYyBhZGRBbmltYXRpb24oc3RhdGUgOiBzdHJpbmcpIDogdm9pZCB7XG4gICAgICAgIHRoaXMuYW5pbWF0aW9uc1tzdGF0ZV0gPSBuZXcgQXJyYXk8R3JhZGllbnRDaXJjbGVGcmFtZT4oKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYWRkQW5pbWF0aW9uRnJhbWUoc3RhdGUgOiBzdHJpbmcsIGluZGV4IDogbnVtYmVyLCBmcmFtZUR1cmF0aW9uIDogbnVtYmVyKSA6IHZvaWQge1xuICAgICAgLy8gIHZhciBjb2x1bW5zID0gdGhpcy5jaXJjbGVTaGVldFRleHR1cmUud2lkdGgvdGhpcy5jaXJjbGVXaWR0aDtcbiAgICAgICAvLyB2YXIgcm93cyA9IHRoaXMuY2lyY2xlU2hlZXRUZXh0dXJlLmhlaWdodC90aGlzLmNpcmNsZUhlaWdodDtcbiAgICAgICAvLyB2YXIgY29sID0gaW5kZXggJSBjb2x1bW5zO1xuICAgICAgIC8vIHZhciByb3cgPSBNYXRoLmZsb29yKGluZGV4IC8gIGNvbHVtbnMpO1xuICAgICAgIC8vIHZhciBsZWZ0ID0gY29sICogdGhpcy5jaXJjbGVXaWR0aDtcbiAgICAgICAvLyB2YXIgdG9wID0gcm93ICogdGhpcy5jaXJjbGVIZWlnaHQ7XG4gICAgICAgIC8vdGhpcy5hbmltYXRpb25zW3N0YXRlXS5wdXNoKG5ldyBHcmFkaWVudENpcmNsZUZyYW1lKGxlZnQsIHRvcCwgZnJhbWVEdXJhdGlvbikpO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRDaXJjbGVXaWR0aCgpIDogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2lyY2xlV2lkdGg7XG4gICAgfVxuXG4gICAgcHVibGljIGdldENpcmNsZUhlaWdodCgpIDogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2lyY2xlSGVpZ2h0O1xuICAgIH1cblxuICAgLy8gcHVibGljIGdldENpcmNsZVNoZWV0VGV4dHVyZSgpIDogV2ViR0xHYW1lVGV4dHVyZSB7XG4gICAgICAgLy8gcmV0dXJuIHRoaXMuY2lyY2xlU2hlZXRUZXh0dXJlO1xuICAvLyAgfVxuXG4gICAgcHVibGljIGdldEFuaW1hdGlvbihzdGF0ZSA6IHN0cmluZykgOiBBcnJheTxHcmFkaWVudENpcmNsZUZyYW1lPiB7XG4gICAgICAgIHJldHVybiB0aGlzLmFuaW1hdGlvbnNbc3RhdGVdO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRMZWZ0KHN0YXRlIDogc3RyaW5nLCBmcmFtZUluZGV4IDogbnVtYmVyKSA6IG51bWJlciB7XG4gICAgICAgIGxldCBhbmltYXRpb25GcmFtZSA6IEdyYWRpZW50Q2lyY2xlRnJhbWUgPSB0aGlzLmFuaW1hdGlvbnNbc3RhdGVdW2ZyYW1lSW5kZXhdO1xuICAgICAgICByZXR1cm4gYW5pbWF0aW9uRnJhbWUubGVmdDtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0VG9wKHN0YXRlIDogc3RyaW5nLCBmcmFtZUluZGV4IDogbnVtYmVyKSA6IG51bWJlciB7XG4gICAgICAgIGxldCBhbmltYXRpb25GcmFtZSA6IEdyYWRpZW50Q2lyY2xlRnJhbWUgPSB0aGlzLmFuaW1hdGlvbnNbc3RhdGVdW2ZyYW1lSW5kZXhdO1xuICAgICAgICByZXR1cm4gYW5pbWF0aW9uRnJhbWUudG9wO1xuICAgIH1cbn0iLCJpbXBvcnQge1NjZW5lT2JqZWN0fSBmcm9tICcuLi9TY2VuZU9iamVjdCdcbmltcG9ydCB7QW5pbWF0ZWRTcHJpdGVUeXBlfSBmcm9tICcuL0FuaW1hdGVkU3ByaXRlVHlwZSdcblxuZXhwb3J0IGNsYXNzIEFuaW1hdGVkU3ByaXRlIGV4dGVuZHMgU2NlbmVPYmplY3Qge1xuICAgIHByaXZhdGUgc3ByaXRlVHlwZSA6IEFuaW1hdGVkU3ByaXRlVHlwZTtcbiAgICBwcml2YXRlIHN0YXRlIDogc3RyaW5nO1xuICAgIHByaXZhdGUgYW5pbWF0aW9uRnJhbWVJbmRleCA6IG51bWJlcjtcbiAgICBwcml2YXRlIGZyYW1lQ291bnRlciA6IG51bWJlcjtcbiAgICBwcml2YXRlIGluZGV4TnVtIDogbnVtYmVyO1xuICAgIFxuICAgIHB1YmxpYyBjb25zdHJ1Y3Rvcihpbml0U3ByaXRlVHlwZSA6IEFuaW1hdGVkU3ByaXRlVHlwZSwgaW5pdFN0YXRlIDogc3RyaW5nLCBpbml0SW5kZXhOdW0gOiBudW1iZXIpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5zcHJpdGVUeXBlID0gaW5pdFNwcml0ZVR5cGU7XG4gICAgICAgIFxuICAgICAgICAvLyBTVEFSVCBSRVNFVFxuICAgICAgICB0aGlzLnN0YXRlID0gaW5pdFN0YXRlO1xuICAgICAgICB0aGlzLmFuaW1hdGlvbkZyYW1lSW5kZXggPSAwO1xuICAgICAgICB0aGlzLmZyYW1lQ291bnRlciA9IDA7XG4gICAgICAgIHRoaXMuaW5kZXhOdW0gPSBpbml0SW5kZXhOdW07XG4gICAgfVxuXG4gICAgcHVibGljIGdldEluZGV4TnVtKCl7XG4gICAgICAgIHJldHVybiB0aGlzLmluZGV4TnVtO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRBbmltYXRpb25GcmFtZUluZGV4KCkgOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5hbmltYXRpb25GcmFtZUluZGV4O1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRGcmFtZUNvdW50ZXIoKSA6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLmZyYW1lQ291bnRlcjtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0U3ByaXRlVHlwZSgpIDogQW5pbWF0ZWRTcHJpdGVUeXBlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3ByaXRlVHlwZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0U3RhdGUoKSA6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0YXRlO1xuICAgIH1cbiAgICBcbiAgICBwdWJsaWMgc2V0U3RhdGUoaW5pdFN0YXRlIDogc3RyaW5nKSA6IHZvaWQge1xuICAgICAgICB0aGlzLnN0YXRlID0gaW5pdFN0YXRlO1xuICAgICAgICB0aGlzLmFuaW1hdGlvbkZyYW1lSW5kZXggPSAwO1xuICAgICAgICB0aGlzLmZyYW1lQ291bnRlciA9IDA7XG4gICAgfVxuICAgIFxuICAgIHB1YmxpYyB1cGRhdGUoZGVsdGEgOiBudW1iZXIpIDogdm9pZCB7XG4gICAgICAgIHRoaXMuZnJhbWVDb3VudGVyKys7XG4gICAgICAgIFxuICAgICAgICAvLyBIQVZFIFdFIEdPTkUgUEFTVCBUSEUgTEFTVCBGUkFNRSBJTiBUSEUgQU5JTUFUSU9OP1xuICAgICAgICB2YXIgY3VycmVudEFuaW1hdGlvbiA9IHRoaXMuc3ByaXRlVHlwZS5nZXRBbmltYXRpb24odGhpcy5zdGF0ZSk7XG4gICAgICAgIHZhciBjdXJyZW50RnJhbWUgPSBjdXJyZW50QW5pbWF0aW9uW3RoaXMuYW5pbWF0aW9uRnJhbWVJbmRleF07XG4gICAgICAgIGlmICh0aGlzLmZyYW1lQ291bnRlciA+IChjdXJyZW50RnJhbWUuZHVyYXRpb24pKSB7XG4gICAgICAgICAgICB0aGlzLmFuaW1hdGlvbkZyYW1lSW5kZXgrKztcbiAgICAgICAgICAgIGlmICh0aGlzLmFuaW1hdGlvbkZyYW1lSW5kZXggPj0gY3VycmVudEFuaW1hdGlvbi5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvbkZyYW1lSW5kZXggPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5mcmFtZUNvdW50ZXIgPSAwO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIGNvbnRhaW5zKHBvaW50WCA6IG51bWJlciwgcG9pbnRZIDogbnVtYmVyKSA6IGJvb2xlYW4ge1xuICAgICAgICBsZXQgc3ByaXRlV2lkdGggPSB0aGlzLmdldFNwcml0ZVR5cGUoKS5nZXRTcHJpdGVXaWR0aCgpO1xuICAgICAgICBsZXQgc3ByaXRlSGVpZ2h0ID0gdGhpcy5nZXRTcHJpdGVUeXBlKCkuZ2V0U3ByaXRlSGVpZ2h0KCk7XG4gICAgICAgIGxldCBzcHJpdGVMZWZ0ID0gdGhpcy5nZXRQb3NpdGlvbigpLmdldFgoKTtcbiAgICAgICAgbGV0IHNwcml0ZVJpZ2h0ID0gdGhpcy5nZXRQb3NpdGlvbigpLmdldFgoKSArIHNwcml0ZVdpZHRoO1xuICAgICAgICBsZXQgc3ByaXRlVG9wID0gdGhpcy5nZXRQb3NpdGlvbigpLmdldFkoKTtcbiAgICAgICAgbGV0IHNwcml0ZUJvdHRvbSA9IHRoaXMuZ2V0UG9zaXRpb24oKS5nZXRZKCkgKyBzcHJpdGVIZWlnaHQ7XG4gICAgICAgIGlmICggICAgKHBvaW50WCA8IHNwcml0ZUxlZnQpXG4gICAgICAgICAgICB8fCAgKHNwcml0ZVJpZ2h0IDwgcG9pbnRYKVxuICAgICAgICAgICAgfHwgIChwb2ludFkgPCBzcHJpdGVUb3ApXG4gICAgICAgICAgICB8fCAgKHNwcml0ZUJvdHRvbSA8IHBvaW50WSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBcbiAgICAvKipSRU5BTUUgVEhJUyBNRVRIT0QgU08gSVQgREVOT1RFUyBQSVhFTCBMT0NBVElPTiBJTiBURVhUVVJFICovXG4gICAgcHVibGljIGdldExlZnQoKSA6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLnNwcml0ZVR5cGUuZ2V0TGVmdCh0aGlzLnN0YXRlLCB0aGlzLmFuaW1hdGlvbkZyYW1lSW5kZXgpO1xuICAgIH1cbiAgICBcbiAgICBwdWJsaWMgZ2V0VG9wKCkgOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5zcHJpdGVUeXBlLmdldFRvcCh0aGlzLnN0YXRlLCB0aGlzLmFuaW1hdGlvbkZyYW1lSW5kZXgpO1xuICAgIH1cblxuICAgIHB1YmxpYyB0b1N0cmluZygpIDogc3RyaW5nIHtcbiAgICAgICAgbGV0IHN1bW1hcnkgOiBzdHJpbmcgPSAgXCJ7IHBvc2l0aW9uOiAoXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICArICAgdGhpcy5nZXRQb3NpdGlvbigpLmdldFgoKSArIFwiLCBcIiArIHRoaXMuZ2V0UG9zaXRpb24oKS5nZXRZKCkgKyBcIikgXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICArICAgXCIoc3RhdGU6IFwiICsgdGhpcy5nZXRTdGF0ZSgpICsgXCIpIFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKyAgIFwiKGFuaW1hdGlvbkZyYW1lSW5kZXg6IFwiICsgdGhpcy5nZXRBbmltYXRpb25GcmFtZUluZGV4KCkgKyBcIikgXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICArICAgXCIoZnJhbWVDb3VudGVyOiBcIiArIHRoaXMuZ2V0RnJhbWVDb3VudGVyKCkgKyBcIikgXCI7XG4gICAgICAgIHJldHVybiBzdW1tYXJ5O1xuICAgIH1cbn0iLCJpbXBvcnQge1dlYkdMR2FtZVRleHR1cmV9IGZyb20gJy4uLy4uL3JlbmRlcmluZy9XZWJHTEdhbWVUZXh0dXJlJ1xuaW1wb3J0IHtIYXNoVGFibGV9IGZyb20gJy4uLy4uL2RhdGEvSGFzaFRhYmxlJ1xuXG5leHBvcnQgY2xhc3MgQW5pbWF0aW9uRnJhbWUge1xuICAgIHB1YmxpYyBsZWZ0IDogbnVtYmVyO1xuICAgIHB1YmxpYyB0b3AgOiBudW1iZXI7XG4gICAgcHVibGljIGR1cmF0aW9uIDogbnVtYmVyO1xuXG4gICAgY29uc3RydWN0b3IoaW5pdExlZnQgOiBudW1iZXIsIGluaXRUb3AgOiBudW1iZXIsIGluaXREdXJhdGlvbiA6IG51bWJlcikge1xuICAgICAgICB0aGlzLmxlZnQgPSBpbml0TGVmdDtcbiAgICAgICAgdGhpcy50b3AgPSBpbml0VG9wO1xuICAgICAgICB0aGlzLmR1cmF0aW9uID0gaW5pdER1cmF0aW9uO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEFuaW1hdGVkU3ByaXRlVHlwZSB7XG4gICAgcHJpdmF0ZSBzcHJpdGVTaGVldFRleHR1cmUgOiBXZWJHTEdhbWVUZXh0dXJlO1xuICAgIHByaXZhdGUgYW5pbWF0aW9ucyA6IEhhc2hUYWJsZTxBcnJheTxBbmltYXRpb25GcmFtZT4+O1xuICAgIHByaXZhdGUgc3ByaXRlV2lkdGggOiBudW1iZXI7XG4gICAgcHJpdmF0ZSBzcHJpdGVIZWlnaHQgOiBudW1iZXI7XG5cbiAgICBwdWJsaWMgY29uc3RydWN0b3IoaW5pdFNwcml0ZVNoZWV0VGV4dHVyZSA6IFdlYkdMR2FtZVRleHR1cmUsIFxuICAgICAgICAgICAgICAgIGluaXRTcHJpdGVXaWR0aCA6IG51bWJlciwgaW5pdFNwcml0ZUhlaWdodCA6IG51bWJlcikge1xuICAgICAgICB0aGlzLnNwcml0ZVNoZWV0VGV4dHVyZSA9IGluaXRTcHJpdGVTaGVldFRleHR1cmU7XG4gICAgICAgIHRoaXMuYW5pbWF0aW9ucyA9IHt9O1xuICAgICAgICB0aGlzLnNwcml0ZVdpZHRoID0gaW5pdFNwcml0ZVdpZHRoO1xuICAgICAgICB0aGlzLnNwcml0ZUhlaWdodCA9IGluaXRTcHJpdGVIZWlnaHQ7XG4gICAgfVxuXG4gICAgcHVibGljIGFkZEFuaW1hdGlvbihzdGF0ZSA6IHN0cmluZykgOiB2b2lkIHtcbiAgICAgICAgdGhpcy5hbmltYXRpb25zW3N0YXRlXSA9IG5ldyBBcnJheTxBbmltYXRpb25GcmFtZT4oKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYWRkQW5pbWF0aW9uRnJhbWUoc3RhdGUgOiBzdHJpbmcsIGluZGV4IDogbnVtYmVyLCBmcmFtZUR1cmF0aW9uIDogbnVtYmVyKSA6IHZvaWQge1xuICAgICAgICB2YXIgY29sdW1ucyA9IHRoaXMuc3ByaXRlU2hlZXRUZXh0dXJlLndpZHRoL3RoaXMuc3ByaXRlV2lkdGg7XG4gICAgICAgIHZhciByb3dzID0gdGhpcy5zcHJpdGVTaGVldFRleHR1cmUuaGVpZ2h0L3RoaXMuc3ByaXRlSGVpZ2h0O1xuICAgICAgICB2YXIgY29sID0gaW5kZXggJSBjb2x1bW5zO1xuICAgICAgICB2YXIgcm93ID0gTWF0aC5mbG9vcihpbmRleCAvICBjb2x1bW5zKTtcbiAgICAgICAgdmFyIGxlZnQgPSBjb2wgKiB0aGlzLnNwcml0ZVdpZHRoO1xuICAgICAgICB2YXIgdG9wID0gcm93ICogdGhpcy5zcHJpdGVIZWlnaHQ7XG4gICAgICAgIHRoaXMuYW5pbWF0aW9uc1tzdGF0ZV0ucHVzaChuZXcgQW5pbWF0aW9uRnJhbWUobGVmdCwgdG9wLCBmcmFtZUR1cmF0aW9uKSk7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFNwcml0ZVdpZHRoKCkgOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5zcHJpdGVXaWR0aDtcbiAgICB9XG5cbiAgICBwdWJsaWMgemVyb1Nwcml0ZVdpZHRoKCkgOiB2b2lkIHtcbiAgICAgICAgdGhpcy5zcHJpdGVXaWR0aCA9IDA7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFNwcml0ZUhlaWdodCgpIDogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3ByaXRlSGVpZ2h0O1xuICAgIH1cblxuICAgIHB1YmxpYyB6ZXJvU3ByaXRlSGVpZ2h0KCkgOiB2b2lkIHtcbiAgICAgICAgdGhpcy5zcHJpdGVIZWlnaHQgPSAwO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRTcHJpdGVTaGVldFRleHR1cmUoKSA6IFdlYkdMR2FtZVRleHR1cmUge1xuICAgICAgICByZXR1cm4gdGhpcy5zcHJpdGVTaGVldFRleHR1cmU7XG4gICAgfVxuXG4gICAgcHVibGljIGdldEFuaW1hdGlvbihzdGF0ZSA6IHN0cmluZykgOiBBcnJheTxBbmltYXRpb25GcmFtZT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5hbmltYXRpb25zW3N0YXRlXTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0TGVmdChzdGF0ZSA6IHN0cmluZywgZnJhbWVJbmRleCA6IG51bWJlcikgOiBudW1iZXIge1xuICAgICAgICBsZXQgYW5pbWF0aW9uRnJhbWUgOiBBbmltYXRpb25GcmFtZSA9IHRoaXMuYW5pbWF0aW9uc1tzdGF0ZV1bZnJhbWVJbmRleF07XG4gICAgICAgIHJldHVybiBhbmltYXRpb25GcmFtZS5sZWZ0O1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRUb3Aoc3RhdGUgOiBzdHJpbmcsIGZyYW1lSW5kZXggOiBudW1iZXIpIDogbnVtYmVyIHtcbiAgICAgICAgbGV0IGFuaW1hdGlvbkZyYW1lIDogQW5pbWF0aW9uRnJhbWUgPSB0aGlzLmFuaW1hdGlvbnNbc3RhdGVdW2ZyYW1lSW5kZXhdO1xuICAgICAgICByZXR1cm4gYW5pbWF0aW9uRnJhbWUudG9wO1xuICAgIH1cbn0iLCIvKlxuICogVGhpcyBwcm92aWRlcyByZXNwb25zZXMgdG8gVUkgaW5wdXQuXG4gKi9cbmltcG9ydCB7QW5pbWF0ZWRTcHJpdGV9IGZyb20gXCIuLi9zY2VuZS9zcHJpdGUvQW5pbWF0ZWRTcHJpdGVcIlxuaW1wb3J0IHtHcmFkaWVudENpcmNsZX0gZnJvbSBcIi4uL3NjZW5lL2NpcmNsZS9HcmFkaWVudENpcmNsZVwiXG5pbXBvcnQge1NjZW5lR3JhcGh9IGZyb20gXCIuLi9zY2VuZS9TY2VuZUdyYXBoXCJcbmltcG9ydCB7IEdyYWRpZW50Q2lyY2xlVHlwZSB9IGZyb20gXCIuLi9zY2VuZS9jaXJjbGUvR3JhZGllbnRDaXJjbGVUeXBlXCI7XG5cbmV4cG9ydCBjbGFzcyBVSUNvbnRyb2xsZXIge1xuICAgIHByaXZhdGUgc3ByaXRlVG9EcmFnIDogQW5pbWF0ZWRTcHJpdGU7XG4gICAgcHJpdmF0ZSBjaXJjbGVUb0RyYWcgOiBHcmFkaWVudENpcmNsZTtcbiAgICBwcml2YXRlIHNjZW5lIDogU2NlbmVHcmFwaDtcbiAgICBwcml2YXRlIGRyYWdPZmZzZXRYIDogbnVtYmVyO1xuICAgIHByaXZhdGUgZHJhZ09mZnNldFkgOiBudW1iZXI7XG4gICAgcHJpdmF0ZSBudW1PYmplY3RzVG9BZGQgOiBudW1iZXI7XG4gICAgcHJpdmF0ZSB4UG9zIDogbnVtYmVyO1xuICAgIHByaXZhdGUgeVBvcyA6IG51bWJlcjtcbiAgICBwcml2YXRlIHNwcml0ZXNUb1JlbW92ZSA6IEFycmF5PEFuaW1hdGVkU3ByaXRlPjtcbiAgICBwcml2YXRlIGNpcmNsZXNUb1JlbW92ZSA6IEFycmF5PEdyYWRpZW50Q2lyY2xlPjtcblxuXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKCkge31cblxuICAgIHB1YmxpYyBpbml0KGNhbnZhc0lkIDogc3RyaW5nLCBpbml0U2NlbmUgOiBTY2VuZUdyYXBoKSA6IHZvaWQge1xuICAgICAgICB0aGlzLnNwcml0ZVRvRHJhZyA9IG51bGw7XG4gICAgICAgIHRoaXMuc2NlbmUgPSBpbml0U2NlbmU7XG4gICAgICAgIHRoaXMuZHJhZ09mZnNldFggPSAtMTtcbiAgICAgICAgdGhpcy5kcmFnT2Zmc2V0WSA9IC0xO1xuICAgICAgICB0aGlzLm51bU9iamVjdHNUb0FkZCA9IDA7XG4gICAgICAgIHRoaXMuc3ByaXRlc1RvUmVtb3ZlID0gW107XG4gICAgICAgIHRoaXMuY2lyY2xlc1RvUmVtb3ZlID0gW107XG5cbiAgICAgICAgbGV0IGNhbnZhcyA6IEhUTUxDYW52YXNFbGVtZW50ID0gPEhUTUxDYW52YXNFbGVtZW50PmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNhbnZhc0lkKTtcbiAgICAgICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgdGhpcy5tb3VzZURvd25IYW5kbGVyKTtcbiAgICAgICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgdGhpcy5tb3VzZU1vdmVIYW5kbGVyKTtcbiAgICAgICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsIHRoaXMubW91c2VVcEhhbmRsZXIpO1xuICAgICAgICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcImRibGNsaWNrXCIsIHRoaXMuZG91YmxlQ2xpY2tIYW5kbGVyKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgbW91c2VEb3duSGFuZGxlciA9IChldmVudCA6IE1vdXNlRXZlbnQpIDogdm9pZCA9PiB7XG4gICAgICAgIGxldCBtb3VzZVByZXNzWCA6IG51bWJlciA9IGV2ZW50LmNsaWVudFg7XG4gICAgICAgIGxldCBtb3VzZVByZXNzWSA6IG51bWJlciA9IGV2ZW50LmNsaWVudFk7XG4gICAgICAgIHRoaXMueFBvcyA9IG1vdXNlUHJlc3NYO1xuICAgICAgICB0aGlzLnlQb3MgPSBtb3VzZVByZXNzWTtcbiAgICAgICAgbGV0IHNwcml0ZSA6IEFuaW1hdGVkU3ByaXRlID0gdGhpcy5zY2VuZS5nZXRTcHJpdGVBdChtb3VzZVByZXNzWCwgbW91c2VQcmVzc1kpO1xuICAgICAgICBsZXQgY2lyY2xlIDogR3JhZGllbnRDaXJjbGUgPSB0aGlzLnNjZW5lLmdldENpcmNsZUF0KG1vdXNlUHJlc3NYLCBtb3VzZVByZXNzWSk7XG4gICAgICAgIGNvbnNvbGUubG9nKFwibW91c2VQcmVzc1g6IFwiICsgbW91c2VQcmVzc1gpO1xuICAgICAgICBjb25zb2xlLmxvZyhcIm1vdXNlUHJlc3NZOiBcIiArIG1vdXNlUHJlc3NZKTtcbiAgICAgICAgXG4gICAgICAgIGlmKHNwcml0ZSAhPSBudWxsICYmIGNpcmNsZSAhPSBudWxsKXtcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwic3ByaXRlOiBcIiArIHNwcml0ZSArIFwiSW5kZXg6IFwiICsgc3ByaXRlLmdldEluZGV4TnVtKCkudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcImNpcmNsZTogXCIgKyBjaXJjbGUgKyBcIkluZGV4OiBcIiArY2lyY2xlLmdldEluZGV4TnVtKCkudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICAvLyBpZihzcHJpdGUuZ2V0SW5kZXhOdW0oKSA8PSBjaXJjbGUuZ2V0SW5kZXhOdW0oKSl7XG4gICAgICAgICAgICAvLyAgICAgY29uc29sZS5sb2coXCJUaGlzIGlzIGhhcHBlbmluZ1wiKTtcbiAgICAgICAgICAgIC8vICAgICBzcHJpdGUgPSBudWxsO1xuICAgICAgICAgICAgLy8gfWVsc2V7XG4gICAgICAgICAgICAvLyAgICAgY29uc29sZS5sb2coXCJhbmQgVGhpcyBpcyBoYXBwZW5pbmdcIik7XG4gICAgICAgICAgICAvLyAgICAgY2lyY2xlID0gbnVsbDtcbiAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgIHNwcml0ZSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNwcml0ZSAhPSBudWxsKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcImRyYWdnaW5nIHNwcml0ZVwiKTtcbiAgICAgICAgICAgIHRoaXMuY2lyY2xlVG9EcmFnID0gbnVsbDtcbiAgICAgICAgICAgIC8vIFNUQVJUIERSQUdHSU5HIElUXG4gICAgICAgICAgICB0aGlzLnNwcml0ZVRvRHJhZyA9IHNwcml0ZTtcbiAgICAgICAgICAgIHRoaXMuZHJhZ09mZnNldFggPSBzcHJpdGUuZ2V0UG9zaXRpb24oKS5nZXRYKCkgLSBtb3VzZVByZXNzWDtcbiAgICAgICAgICAgIHRoaXMuZHJhZ09mZnNldFkgPSBzcHJpdGUuZ2V0UG9zaXRpb24oKS5nZXRZKCkgLSBtb3VzZVByZXNzWTtcbiAgICAgICAgfWVsc2UgaWYgKGNpcmNsZSAhPSBudWxsKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcImRyYWdnaW5nIGNpcmNsZVwiKTtcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlVG9EcmFnID0gbnVsbDtcbiAgICAgICAgICAgIC8vIFNUQVJUIERSQUdHSU5HIElUXG4gICAgICAgICAgICB0aGlzLmNpcmNsZVRvRHJhZyA9IGNpcmNsZTtcbiAgICAgICAgICAgIHRoaXMuZHJhZ09mZnNldFggPSBjaXJjbGUuZ2V0UG9zaXRpb24oKS5nZXRYKCkgLSBtb3VzZVByZXNzWDtcbiAgICAgICAgICAgIHRoaXMuZHJhZ09mZnNldFkgPSBjaXJjbGUuZ2V0UG9zaXRpb24oKS5nZXRZKCkgLSBtb3VzZVByZXNzWTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBcbiAgICBwdWJsaWMgbW91c2VNb3ZlSGFuZGxlciA9IChldmVudCA6IE1vdXNlRXZlbnQpIDogdm9pZCA9PiB7XG4gICAgICAgIFxuICAgICAgICBpZiAodGhpcy5zcHJpdGVUb0RyYWcgIT0gbnVsbCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJkcmFnZ2luZyBzcHJpdGVcIik7XG4gICAgICAgICAgICB0aGlzLnNwcml0ZVRvRHJhZy5nZXRQb3NpdGlvbigpLnNldChldmVudC5jbGllbnRYICsgdGhpcy5kcmFnT2Zmc2V0WCwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudC5jbGllbnRZICsgdGhpcy5kcmFnT2Zmc2V0WSwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNwcml0ZVRvRHJhZy5nZXRQb3NpdGlvbigpLmdldFooKSwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNwcml0ZVRvRHJhZy5nZXRQb3NpdGlvbigpLmdldFcoKSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5jaXJjbGVUb0RyYWcgIT0gbnVsbCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJkcmFnZ2luZ1wiKTtcbiAgICAgICAgICAgIHRoaXMuY2lyY2xlVG9EcmFnLmdldFBvc2l0aW9uKCkuc2V0KGV2ZW50LmNsaWVudFggKyB0aGlzLmRyYWdPZmZzZXRYLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LmNsaWVudFkgKyB0aGlzLmRyYWdPZmZzZXRZLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2lyY2xlVG9EcmFnLmdldFBvc2l0aW9uKCkuZ2V0WigpLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2lyY2xlVG9EcmFnLmdldFBvc2l0aW9uKCkuZ2V0VygpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBtb3VzZVVwSGFuZGxlciA9IChldmVudCA6IE1vdXNlRXZlbnQpIDogdm9pZCA9PiB7XG4gICAgICAgIGlmKHRoaXMuc3ByaXRlVG9EcmFnID09IG51bGwgJiYgdGhpcy5jaXJjbGVUb0RyYWcgPT0gbnVsbCl7XG4gICAgICAgICAgICB0aGlzLm51bU9iamVjdHNUb0FkZCsrO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc3ByaXRlVG9EcmFnID0gbnVsbDtcbiAgICAgICAgdGhpcy5jaXJjbGVUb0RyYWcgPSBudWxsO1xuICAgIH1cblxuICAgIHB1YmxpYyBkb3VibGVDbGlja0hhbmRsZXIgPSAoZXZlbnQgOiBNb3VzZUV2ZW50KSA6IHZvaWQgPT4ge1xuICAgICAgICBsZXQgbW91c2VQcmVzc1ggOiBudW1iZXIgPSBldmVudC5jbGllbnRYO1xuICAgICAgICBsZXQgbW91c2VQcmVzc1kgOiBudW1iZXIgPSBldmVudC5jbGllbnRZO1xuICAgICAgICB0aGlzLnhQb3MgPSBtb3VzZVByZXNzWDtcbiAgICAgICAgdGhpcy55UG9zID0gbW91c2VQcmVzc1k7XG4gICAgICAgIGxldCBzcHJpdGUgOiBBbmltYXRlZFNwcml0ZSA9IHRoaXMuc2NlbmUuZ2V0U3ByaXRlQXQobW91c2VQcmVzc1gsIG1vdXNlUHJlc3NZKTtcbiAgICAgICAgbGV0IGNpcmNsZSA6IEdyYWRpZW50Q2lyY2xlID0gdGhpcy5zY2VuZS5nZXRDaXJjbGVBdChtb3VzZVByZXNzWCwgbW91c2VQcmVzc1kpO1xuICAgICAgICBpZihzcHJpdGUgIT0gbnVsbCl7XG4gICAgICAgICAgICBpZihjaXJjbGUgIT0gbnVsbCAmJiBjaXJjbGUuZ2V0SW5kZXhOdW0oKSA8IHNwcml0ZS5nZXRJbmRleE51bSgpKXtcbiAgICAgICAgICAgICAgICB0aGlzLnNwcml0ZXNUb1JlbW92ZS5wdXNoKHNwcml0ZSk7XG4gICAgICAgICAgICAgICAgY2lyY2xlID0gbnVsbDsgLy9mb3JjZSB0aGUgbmV4dCBpZiBzdGF0ZW1lbnQgbm90IHRvIGV4ZWN1dGVcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZihjaXJjbGUgIT0gbnVsbCl7XG4gICAgICAgICAgICB0aGlzLmNpcmNsZXNUb1JlbW92ZS5wdXNoKGNpcmNsZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0U3ByaXRlc1RvUmVtb3ZlKCkgOiBBcnJheTxBbmltYXRlZFNwcml0ZT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5zcHJpdGVzVG9SZW1vdmU7XG4gICAgfVxuXG4gICAgcHVibGljIHBvcFNwcml0ZXNUb1JlbW92ZSgpIDogQW5pbWF0ZWRTcHJpdGUge1xuICAgICAgICByZXR1cm4gdGhpcy5zcHJpdGVzVG9SZW1vdmUucG9wKCk7XG4gICAgfVxuXG4gICAgcHVibGljIGdldENpcmNsZXNUb1JlbW92ZSgpIDogQXJyYXk8R3JhZGllbnRDaXJjbGU+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2lyY2xlc1RvUmVtb3ZlO1xuICAgIH1cblxuICAgIHB1YmxpYyBwb3BDaXJjbGVzVG9SZW1vdmUoKSA6IEdyYWRpZW50Q2lyY2xlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2lyY2xlc1RvUmVtb3ZlLnBvcCgpO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXROdW1PYmplY3RzVG9BZGQoKSA6IG51bWJlcntcbiAgICAgICAgcmV0dXJuIHRoaXMubnVtT2JqZWN0c1RvQWRkO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdWJOdW1PYmplY3RzVG9BZGQoKXtcbiAgICAgICAgdGhpcy5udW1PYmplY3RzVG9BZGQtLTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0WFBvcygpIDogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMueFBvcztcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0WVBvcygpIDogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMueVBvcztcbiAgICB9XG59Il19"}